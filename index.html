<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Chab'app</title>
<link rel="icon" type="image/png" href="data:image/png;base64,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">
<link rel="apple-touch-icon" href="data:image/png;base64,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">
<link href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400;0,500;0,600;0,700;1,400&family=Noto+Serif+Hebrew:wght@400;500;700&display=swap" rel="stylesheet">
<style>
* { margin:0; padding:0; box-sizing:border-box; -webkit-tap-highlight-color:transparent; }
:root {
  --bg: #fafafa; --white: #ffffff; --black: #000000;
  --gray-1: #262626; --gray-2: #555555; --gray-3: #8e8e8e; --gray-4: #c7c7c7; --gray-5: #dbdbdb; --gray-6: #efefef;
  
  --radius: 12px; --radius-sm: 8px;
  --font: system-ui, -apple-system, 'SF Pro Text', 'Helvetica Neue', sans-serif;
}
body { font-family: var(--font); background: var(--bg); color: var(--gray-1); overflow-x: hidden; -webkit-font-smoothing: antialiased; }

/* SPLASH */
#splash {
  min-height:100vh; display:flex; flex-direction:column; align-items:center; justify-content:flex-start;
  background:var(--white); cursor:pointer; position:fixed; top:0; left:0; right:0; bottom:0; z-index:999;
  transition: opacity 0.8s ease, visibility 0.8s ease;
}
#splash.hidden { opacity:0; visibility:hidden; pointer-events:none; }
.splash-bh { position:absolute; top:16px; right:16px; font-family:'Noto Serif Hebrew',serif; font-size:22px; font-weight:700; color:var(--black); direction:rtl; }
.splash-content { text-align:center; padding:18vh 30px 0; max-width:440px; transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1); }
.splash-icon { margin-bottom:12px; opacity:0; animation:scSubIn 0.5s ease 0s forwards; }
.splash-icon .icon-770 { width:120px; height:auto; color:var(--black); }
.splash-title { font-family:'Noto Serif Hebrew',serif; font-size:52px; color:var(--black); font-weight:700; margin-bottom:4px; direction:rtl; }
/* CHABAD ANIMATED TITLE */
.splash-title-chabad { font-size:52px; color:var(--black); font-weight:800; margin-top:0; margin-bottom:16px; letter-spacing:2px; font-family:var(--font); display:flex; align-items:flex-end; justify-content:center; overflow:visible; line-height:1; }
.sc-static { display:inline-block; opacity:0; animation:scFadeIn 0.4s ease forwards; line-height:1; }
.sc-apos { display:inline-block; max-width:0; opacity:0; overflow:hidden; letter-spacing:0; animation:scInsert 1s cubic-bezier(0.25,0.1,0.25,1) 2.5s forwards; line-height:1; }
.sc-letter-d { display:inline-block; opacity:0; animation:scD1 4.5s ease forwards; transform-origin:center center; position:relative; z-index:2; line-height:1; }
.sc-letter-d2 { display:inline-block; opacity:0; animation:scD2 4.5s ease forwards; transform-origin:center center; position:relative; z-index:1; line-height:1; }
@keyframes scFadeIn { from { opacity:0; transform:translateY(-0.23em); } to { opacity:1; transform:translateY(0); } }
@keyframes scInsert { to { max-width:0.6em; opacity:1; letter-spacing:2px; } }
/* Phase 1: D1 fades in WITH "CHABAD" (0-0.4s) */
/* Phase 2: waits while D2 emerges */
/* Phase 3: both D's rotate 180° to become P's (2.5-3.2s) */
@keyframes scD1 {
  0%   { opacity:0; transform:translateY(-0.23em) rotate(0deg); }
  9%   { opacity:1; transform:translateY(0) rotate(0deg); }
  53%  { opacity:1; transform:translateY(0) rotate(0deg); }
  69%  { opacity:1; transform:translateY(0.23em) rotate(180deg); }
  100% { opacity:1; transform:translateY(0.23em) rotate(180deg); }
}
/* Phase 1: hidden behind D1 */
/* Phase 2: slides out from D1 (1.2-2.1s) → CHABADD */
/* Phase 3: rotates with D1 to become P */
@keyframes scD2 {
  0%   { margin-left:-0.62em; opacity:0; transform:translateY(0) rotate(0deg); }
  27%  { margin-left:-0.62em; opacity:0; transform:translateY(0) rotate(0deg); }
  29%  { margin-left:-0.62em; opacity:1; transform:translateY(0) rotate(0deg); }
  47%  { margin-left:0; opacity:1; transform:translateY(0) rotate(0deg); }
  53%  { margin-left:0; opacity:1; transform:translateY(0) rotate(0deg); }
  69%  { margin-left:0; opacity:1; transform:translateY(0.23em) rotate(180deg); }
  100% { margin-left:0; opacity:1; transform:translateY(0.23em) rotate(180deg); }
}
.splash-subtitle { font-family:'Noto Serif Hebrew',serif; font-size:22px; color:var(--gray-2); letter-spacing:6px; font-weight:700; margin-bottom:28px; opacity:0; animation:scSubIn 0.8s ease 3.8s forwards; direction:rtl; }
@keyframes scSubIn { from { opacity:0; transform:translateY(8px); } to { opacity:1; transform:translateY(0); } }
.splash-divider { display:flex; align-items:center; gap:16px; justify-content:center; margin-bottom:28px; opacity:0; animation:scSubIn 0.6s ease 4.2s forwards; }
.splash-divider-line { flex:1; max-width:60px; height:1px; background:var(--gray-5); }
.splash-divider-star { color:var(--gray-4); font-size:8px; }
.splash-quote { font-style:italic; color:var(--gray-2); font-size:16px; line-height:1.7; border:none; margin:0 0 14px; padding:0 10px; min-height:80px; display:flex; align-items:center; justify-content:center; transition: opacity 0.6s ease, transform 0.6s ease; font-family:'EB Garamond',Georgia,serif; opacity:0; animation:scSubIn 0.8s ease 4.6s forwards; }
.splash-source { color:var(--gray-3); font-size:11px; letter-spacing:1.5px; font-weight:600; transition: opacity 0.6s ease; opacity:0; animation:scSubIn 0.6s ease 4.8s forwards; }
.splash-dots { display:flex; gap:6px; justify-content:center; margin-top:16px; cursor:pointer; padding:8px 0; opacity:0; animation:scSubIn 0.5s ease 5s forwards; }
.splash-dot { height:6px; border-radius:3px; transition: all 0.4s ease; cursor:pointer; }
.splash-tap { color:var(--gray-4); font-size:11px; margin-top:32px; letter-spacing:2px; opacity:0; animation: scSubIn 0.5s ease 5.2s forwards; }
.splash-footer { position:absolute; bottom:32px; left:0; right:0; text-align:center; opacity:0; animation:scSubIn 0.5s ease 5.2s forwards; }
.footer-logo-wrap { display:inline-flex; align-items:center; gap:6px; opacity:0.35; transition:opacity 0.3s; }
.footer-logo-wrap:hover { opacity:0.55; }
.footer-logo-icon { width:28px; height:18px; }
.footer-logo-text { font-size:11px; font-weight:500; letter-spacing:1.5px; color:var(--black); font-family:var(--font); text-transform:uppercase; }
.patakh-tab { padding:8px 14px; border:1px solid var(--gray-5); border-radius:20px; background:var(--white); font-size:12px; font-weight:600; cursor:pointer; white-space:nowrap; color:var(--gray-2); transition:all 0.15s; }
.patakh-tab.active { background:var(--black); color:var(--white); border-color:var(--black); }
.patakh-he { direction:rtl; text-align:right; font-family:'Noto Serif Hebrew',serif; font-size:20px; line-height:2; color:var(--black); margin-bottom:12px; }
.patakh-ph { font-size:14px; line-height:1.8; color:var(--gray-2); font-style:italic; margin-bottom:20px; padding-bottom:16px; border-bottom:1px solid var(--gray-6); }
@keyframes pulse { 0%,100%{opacity:0.3} 50%{opacity:0.7} }

/* HOME */
#home { display:none; min-height:100vh; min-height:100dvh; background:var(--bg); padding:0 0 0; opacity:0; transition: opacity 0.6s ease; position:relative; }
#home.visible { opacity:1; }
#home > .insta-bottom-nav { position:sticky; bottom:0; }
.home-header { background:var(--white); padding:48px 16px 8px; position:relative; }
.bh-mark { position:absolute; top:16px; right:16px; font-family:'Noto Serif Hebrew',serif; font-size:22px; font-weight:700; color:var(--black); direction:rtl; }
.home-header-top { text-align:center; }
.app-footer { text-align:center; padding:40px 16px 32px; }
.home-greeting { font-family:var(--font); font-size:28px; font-weight:800; color:var(--black); letter-spacing:1px; text-align:center; }
.home-badge { background:var(--gray-6); border:none; border-radius:20px; padding:6px 14px; font-size:12px; color:var(--gray-2); text-align:center; font-weight:500; }

/* PROGRESS */
.progress-section { padding:16px; }
.progress-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:8px; }
.progress-label { font-size:12px; color:var(--gray-3); font-weight:600; }
.progress-pct { font-size:14px; color:var(--black); font-weight:700; }
.progress-track { height:2px; background:var(--gray-6); border-radius:2px; overflow:hidden; margin-bottom:6px; }
.progress-fill { height:100%; background:var(--black); border-radius:2px; transition: width 0.6s cubic-bezier(0.4,0,0.2,1); }
.progress-detail { font-size:11px; color:var(--gray-3); }

/* COMPLETE / RECAP */
.complete-card { margin:0 16px 12px; padding:16px; background:var(--white); border:1px solid var(--gray-5); border-radius:var(--radius); text-align:center; }
.complete-icon { font-size:24px; display:block; margin-bottom:4px; }
.complete-text { font-size:14px; color:var(--black); font-weight:600; }
.recap-card { margin:0 16px 12px; padding:12px; background:var(--white); border:1px solid var(--gray-5); border-radius:var(--radius); display:flex; align-items:center; gap:12px; }
.recap-icon { font-size:20px; }
.recap-title { font-size:13px; font-weight:600; color:var(--gray-1); display:block; }
.recap-sub { font-size:11px; color:var(--gray-3); }

/* NOTIFICATION */
.notif { position:fixed; top:16px; left:16px; right:16px; z-index:50; background:var(--white); border:1px solid var(--gray-5); border-radius:var(--radius); padding:12px 16px; box-shadow:0 4px 24px rgba(0,0,0,0.12); display:flex; align-items:center; gap:12px; transition: all 0.4s cubic-bezier(0.4,0,0.2,1); opacity:0; transform:translateY(-20px); }
.notif.show { opacity:1; transform:translateY(0); }
.notif-icon { font-size:18px; }
.notif-title { font-size:12px; font-weight:600; color:var(--gray-1); display:block; }
.notif-text { font-size:12px; color:var(--gray-3); }
.notif-close { background:none; border:none; font-size:16px; color:var(--gray-3); cursor:pointer; margin-left:auto; padding:4px; }

/* PSALMS LIST */
.psalms-list { padding:0 16px; }
.section-title { font-size:11px; text-transform:uppercase; letter-spacing:1px; color:var(--gray-3); font-weight:700; margin-bottom:10px; display:block; }
.psalm-card {
  width:100%; display:flex; align-items:center; justify-content:space-between;
  padding:14px 16px; margin-bottom:4px; border-radius:var(--radius); border:1px solid var(--gray-5);
  background:var(--white); cursor:pointer; font-family:inherit; font-size:inherit; transition: all 0.15s ease;
}
.psalm-card:active { background:var(--gray-6); }
.psalm-card.read { border-color:var(--black); }
.psalm-card-left { display:flex; align-items:center; gap:12px; }
.psalm-card-num { width:36px; height:36px; border-radius:50%; background:var(--gray-6); color:var(--gray-1); font-weight:700; font-size:14px; display:flex; align-items:center; justify-content:center; }
.psalm-card-num.done { background:var(--black); color:var(--white); }
.psalm-card-title { font-size:14px; font-weight:600; color:var(--gray-1); display:block; }
.psalm-card-verses { font-size:11px; color:var(--gray-3); }
.psalm-card-arrow { font-size:16px; color:var(--gray-4); }
.unavailable-card { opacity:0.5; cursor:default; pointer-events:none; }
.unavailable-num { background:var(--gray-5) !important; color:var(--gray-3) !important; }

/* HOME BIG CARDS */
.home-date-line { font-size:12px; color:var(--gray-3); text-align:center; padding:6px 16px 0; font-weight:500; }
.home-big-cards { padding:8px 16px 0; display:flex; flex-direction:column; gap:10px; }
.big-card { display:flex; align-items:center; gap:14px; padding:18px 16px; background:var(--white); border:1px solid var(--gray-5); border-radius:var(--radius); cursor:pointer; transition:all 0.15s; -webkit-tap-highlight-color:transparent; border-left:3px solid #ccc; }
.big-card:active { transform:scale(0.98); background:var(--gray-6); }
.big-card-icon { width:48px; height:48px; flex-shrink:0; border-radius:14px; display:flex; align-items:center; justify-content:center; overflow:hidden; }
.big-card-icon svg { width:36px; height:36px; }
.big-card-info { flex:1; min-width:0; }
.big-card-title { font-size:17px; font-weight:700; color:var(--black); }
.big-card-sub { font-size:12px; color:var(--gray-3); margin-top:2px; }
.big-card-arrow { font-size:24px; color:var(--gray-4); font-weight:300; flex-shrink:0; }
.home-big-cards > :nth-child(1) { border-left-color:#6228d7; }
.home-big-cards > :nth-child(2) { border-left-color:#8b2fb8; }
.home-big-cards > :nth-child(3) { border-left-color:#b43599; }
.home-big-cards > :nth-child(4) { border-left-color:#ee2a7b; }
.home-big-cards > :nth-child(5) { border-left-color:#f26a57; }
.home-big-cards > :nth-child(6) { border-left-color:#f59c42; }
.home-big-cards > :nth-child(7) { border-left-color:#f9ce34; }

/* HAYOM YOM CARD */
.hyy-card { padding:20px 18px; background:var(--white); border:1px solid var(--gray-5); border-radius:var(--radius); cursor:pointer; transition:all 0.15s; -webkit-tap-highlight-color:transparent; border-left:3px solid #ccc; }
.hyy-card:active { transform:scale(0.98); background:var(--gray-6); }
.hyy-header { display:flex; align-items:center; gap:10px; margin-bottom:12px; }
.hyy-icon { width:30px; height:30px; border-radius:8px; display:inline-flex; align-items:center; justify-content:center; flex-shrink:0; }
.hyy-icon svg { width:18px; height:18px; }
.hyy-title { font-size:14px; font-weight:700; color:var(--black); flex:1; }
.hyy-date { font-size:11px; color:var(--gray-3); font-weight:600; }
.hyy-text { font-family:'EB Garamond',Georgia,serif; font-size:15px; line-height:1.7; color:var(--gray-1); max-height:120px; overflow:hidden; transition:max-height 0.4s ease; position:relative; }
.hyy-text.expanded { max-height:2000px; }
.hyy-expand { font-size:11px; color:var(--gray-3); font-weight:600; margin-top:8px; text-align:right; }
.hyy-loading { font-size:13px; color:var(--gray-3); font-style:italic; }
.hyy-link { display:flex; align-items:center; justify-content:center; gap:6px; margin-top:12px; padding-top:10px; border-top:1px solid var(--gray-6); font-size:11px; color:var(--gray-3); font-weight:600; letter-spacing:0.5px; }
.sub-panel-header { font-size:20px; font-weight:800; color:var(--black); text-align:center; padding:8px 16px 12px; }
/* Club section */
.club-section { padding:0 0 24px; }
.club-story { padding:20px 20px 24px; text-align:center; }
.club-story-title { font-size:18px; font-weight:800; color:var(--black); margin-bottom:12px; letter-spacing:0.5px; }
.club-story-text { font-size:14px; line-height:1.7; color:var(--gray-2); margin-bottom:0; font-family:'EB Garamond',Georgia,serif; }
.club-story-tagline { font-size:12px; font-weight:700; color:var(--gray-3); letter-spacing:2px; text-transform:uppercase; margin-bottom:16px; }
.club-divider { width:40px; height:2px; background:var(--black); margin:16px auto; border-radius:1px; }
.club-products-title { font-size:14px; font-weight:700; color:var(--black); text-transform:uppercase; letter-spacing:1.5px; padding:0 20px 12px; }
.club-products { display:flex; gap:12px; padding:0 20px 20px; overflow-x:auto; -webkit-overflow-scrolling:touch; scrollbar-width:none; scroll-snap-type:x mandatory; }
.club-products::-webkit-scrollbar { display:none; }
.club-product-card { flex:0 0 160px; scroll-snap-align:start; border-radius:var(--radius); overflow:hidden; background:var(--white); border:1px solid var(--gray-6); cursor:pointer; -webkit-tap-highlight-color:transparent; transition:transform 0.2s; }
.club-product-card:active { transform:scale(0.97); }
.club-product-img { width:100%; aspect-ratio:1; object-fit:cover; background:var(--gray-6); display:block; }
.club-product-info { padding:10px 12px; }
.club-product-name { font-size:12px; font-weight:700; color:var(--black); line-height:1.3; margin-bottom:4px; display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden; }
.club-product-price { font-size:13px; font-weight:800; color:var(--black); }
.club-product-collection { font-size:10px; color:var(--gray-3); font-weight:600; margin-bottom:2px; }
.club-cta { display:block; margin:0 20px 20px; padding:14px; text-align:center; background:var(--black); color:var(--white); font-size:13px; font-weight:700; letter-spacing:1px; text-transform:uppercase; border-radius:var(--radius); text-decoration:none; transition:opacity 0.2s; }
.club-cta:active { opacity:0.85; }
.club-maasser { background:var(--gray-6); border-radius:var(--radius); margin:0 20px 20px; padding:16px; text-align:center; }
.club-maasser-emoji { font-size:24px; margin-bottom:6px; }
.club-maasser-text { font-size:12px; color:var(--gray-2); line-height:1.6; }
.club-hero { text-align:center; padding:28px 20px 20px; }
.club-hero-emoji { font-size:48px; margin-bottom:8px; }
.club-hero-title { font-size:22px; font-weight:800; color:var(--black); margin-bottom:4px; }
.club-hero-sub { font-size:13px; color:var(--gray-3); }
.club-cards { display:grid; grid-template-columns:repeat(2, 1fr); gap:10px; padding:0 16px 16px; }
.obj-story-bar { display:flex; align-items:center; gap:10px; padding:10px 12px 6px; justify-content:center; overflow-x:auto; -webkit-overflow-scrolling:touch; scrollbar-width:none; }
.obj-story-bar-scroll { justify-content:flex-start; overflow-x:auto; overflow-y:hidden; -webkit-overflow-scrolling:touch; scrollbar-width:none; gap:12px; }
.obj-story-bar-scroll::-webkit-scrollbar { display:none; }
.obj-story-bar-scroll .os-ring { width:56px; height:56px; }
.obj-story-bar-scroll .os-circle { font-size:22px; }
.obj-story-bar::-webkit-scrollbar { display:none; }
.os-item { display:flex; flex-direction:column; align-items:center; gap:4px; cursor:pointer; flex-shrink:0; -webkit-tap-highlight-color:transparent; }
.os-ring { width:64px; height:64px; border-radius:50%; display:flex; align-items:center; justify-content:center; padding:3px; transition:all 0.3s; }
.os-item.done .os-ring { background:#dbdbdb !important; }
.os-item.current .os-ring {  }
@keyframes storyPulse { 0%,100% { box-shadow:0 0 0 0 rgba(238,42,123,0.4); } 50% { box-shadow:0 0 0 8px rgba(238,42,123,0); } }
.os-circle { width:100%; height:100%; border-radius:50%; background:var(--white); display:flex; align-items:center; justify-content:center; font-size:24px; }
.os-label { font-size:10px; color:var(--gray-3); font-weight:600; white-space:nowrap; text-align:center; font-family:var(--font); }
.os-item.current .os-label { color:var(--black); font-weight:700; }
/* STORY OVERLAY */
#obj-story-overlay { position:fixed; top:0; left:0; right:0; bottom:0; z-index:9999; display:none; flex-direction:column; max-width:520px; margin:0 auto; }
#obj-story-overlay[style*="flex"] { display:flex !important; }
.os-progress { display:flex; gap:3px; padding:12px 8px 0; flex-shrink:0; position:absolute; top:0; left:0; right:0; z-index:10; }
.os-prog-seg { flex:1; height:2.5px; border-radius:2px; background:rgba(255,255,255,0.3); overflow:hidden; }
.os-prog-fill { height:100%; border-radius:2px; background:rgba(255,255,255,0.9); width:0%; transition:width 0.3s; }
.os-close { position:absolute; top:24px; right:16px; z-index:20; background:none; border:none; color:white; font-size:22px; cursor:pointer; width:40px; height:40px; display:flex; align-items:center; justify-content:center; text-shadow:0 1px 4px rgba(0,0,0,0.3); }
.os-content { flex:1; display:flex; flex-direction:column; align-items:center; justify-content:center; padding:50px 20px 30px; text-align:center; transition:opacity 0.3s; overflow-y:auto; position:relative; z-index:6; pointer-events:none; }
.os-emoji { font-size:52px; margin-bottom:10px; filter:drop-shadow(0 4px 16px rgba(0,0,0,0.25));  }
.os-hebrew { font-family:'Noto Serif Hebrew',serif; font-size:26px; font-weight:700; margin-bottom:6px; direction:rtl; text-shadow:0 2px 8px rgba(0,0,0,0.1); }
.os-name { font-size:16px; font-weight:700; letter-spacing:1px; text-transform:uppercase; margin-bottom:12px; opacity:0.9; }
.os-msg { font-size:14px; line-height:1.6; max-width:320px; opacity:0.85; font-family:'EB Garamond',Georgia,serif; margin-bottom:20px; }
.os-check-btn { padding:14px 40px; border-radius:50px; border:2px solid rgba(255,255,255,0.8); background:rgba(255,255,255,0.15); backdrop-filter:blur(10px); -webkit-backdrop-filter:blur(10px); font-size:15px; font-weight:700; cursor:pointer; font-family:var(--font); transition:all 0.3s; display:flex; align-items:center; gap:10px; pointer-events:auto; position:relative; z-index:10; }
.os-check-btn:active { transform:scale(0.95); }
.os-check-btn.checked { background:rgba(255,255,255,0.95); border-color:transparent; }
.os-time-badge { font-size:11px; font-weight:600; letter-spacing:1.5px; text-transform:uppercase; opacity:0.6; margin-bottom:20px; }
.os-tap-left { position:absolute; left:0; top:40px; bottom:0; width:25%; z-index:5; }
.os-tap-right { position:absolute; right:0; top:40px; bottom:0; width:75%; z-index:5; }

/* DAILY OBJECTIVES */
.daily-objectives { margin:0; padding:0; background:#fff; border-radius:0; overflow:hidden; min-height:calc(100vh - 100px); }
.obj-header { display:flex; align-items:center; justify-content:space-between; padding:10px 12px 6px; }
.obj-title { font-size:16px; font-weight:800; color:var(--black); }
.obj-counter { font-size:12px; font-weight:700; color:#fff; background:linear-gradient(135deg, #6228d7, #ee2a7b); padding:3px 10px; border-radius:20px; transition:all 0.3s; }
.obj-counter.done { background:linear-gradient(135deg, #16a34a, #22c55e); color:#fff; }
.obj-progress-bar { height:3px; background:var(--gray-6); margin:0 12px 6px; border-radius:2px; overflow:hidden; }
.obj-progress-fill { height:100%; background:linear-gradient(90deg, #6228d7, #ee2a7b, #f9ce34); border-radius:2px; transition:width 0.4s cubic-bezier(0.4,0,0.2,1); width:0%; }
.obj-progress-home { height:4px; background:var(--gray-6); border-radius:3px; overflow:hidden; margin-top:6px; width:100%; }
.obj-progress-home-fill { height:100%; background:linear-gradient(90deg, #6228d7, #ee2a7b, #f9ce34); border-radius:3px; transition:width 0.5s cubic-bezier(0.4,0,0.2,1); width:0%; }
.obj-progress-home-pct { font-size:11px; font-weight:700; color:var(--gray-3); margin-top:3px; }
.shabbat-card { margin:0 16px 12px; border-radius:var(--radius); color:#fff; position:relative; overflow:hidden; }
.shabbat-bg { position:absolute; inset:0; background-size:cover; background-position:center; transition:opacity 0.8s ease; opacity:0; filter:blur(1px); }
.shabbat-bg.loaded { opacity:1; }
.shabbat-overlay { position:absolute; inset:0; background:linear-gradient(180deg, rgba(10,10,30,0.3) 0%, rgba(10,10,30,0.5) 50%, rgba(10,10,30,0.7) 100%); }
.shabbat-content { position:relative; z-index:1; padding:18px 20px 14px; display:flex; flex-direction:column; min-height:210px; }
.shabbat-city { font-size:12px; font-weight:700; letter-spacing:3px; text-transform:uppercase; color:rgba(255,255,255,0.95); }
.shabbat-change-city { display:inline-flex; align-items:center; gap:4px; margin-top:6px; padding:5px 12px; font-size:11px; font-weight:600; color:rgba(255,255,255,0.9); background:rgba(255,255,255,0.13); border:1px solid rgba(255,255,255,0.25); border-radius:20px; cursor:pointer; backdrop-filter:blur(6px); letter-spacing:0.3px; transition:all 0.2s; }
.shabbat-change-city:active { background:rgba(255,255,255,0.25); transform:scale(0.97); }
.shabbat-loc-wrap { text-align:right; position:relative; }
.shabbat-loc-search { position:absolute; top:100%; right:0; z-index:10; margin-top:6px; min-width:240px; }
.shabbat-loc-search input { width:100%; padding:10px 14px; border:none; border-radius:10px; font-size:14px; background:rgba(255,255,255,0.97); color:#1a1a2e; outline:none; box-shadow:0 4px 24px rgba(0,0,0,0.35); }
.shabbat-loc-results { background:rgba(255,255,255,0.97); border-radius:0 0 10px 10px; max-height:200px; overflow-y:auto; }
.shabbat-loc-results .loc-item { padding:10px 14px; font-size:13px; color:#1a1a2e; cursor:pointer; border-top:1px solid rgba(0,0,0,0.06); }
.shabbat-loc-results .loc-item:active { background:rgba(0,0,0,0.06); }
.shabbat-spacer { flex:1; min-height:16px; }
.shabbat-bottom-row { display:flex; flex-direction:column; align-items:stretch; gap:0; }
.shabbat-share-btn { display:flex; align-items:center; justify-content:center; gap:5px; margin:8px auto 0; padding:6px 14px; font-size:11px; font-weight:600; color:rgba(255,255,255,0.8); background:rgba(255,255,255,0.1); border:1px solid rgba(255,255,255,0.18); border-radius:20px; cursor:pointer; letter-spacing:0.3px; backdrop-filter:blur(6px); transition:all 0.2s; flex-shrink:0; }
.shabbat-share-btn:active { background:rgba(255,255,255,0.2); }
.shabbat-top { display:flex; align-items:flex-start; justify-content:space-between; }
.shabbat-parasha { font-size:18px; font-weight:700; line-height:1.2; text-shadow:0 1px 6px rgba(0,0,0,0.4); }
.shabbat-parasha-he { font-size:13px; color:rgba(255,255,255,0.85); font-weight:400; margin-top:1px; font-family:'Noto Serif Hebrew',serif; }
.shabbat-badge { font-size:10px; font-weight:700; letter-spacing:1px; text-transform:uppercase; color:#f9ce34; background:rgba(249,206,52,0.15); padding:3px 8px; border-radius:20px; white-space:nowrap;  backdrop-filter:blur(6px); }
.shabbat-times-row { display:flex; align-items:center; justify-content:center; gap:0; }
.shabbat-time-block { flex:1; display:flex; align-items:center; gap:10px; justify-content:center; }
.shabbat-time-icon { flex-shrink:0; }
.shabbat-time-icon svg { display:block; }
.shabbat-time-icon.candle-icon { filter:drop-shadow(0 0 10px rgba(249,206,52,0.5));  }
.shabbat-time-icon.moon-icon { filter:drop-shadow(0 0 6px rgba(192,132,252,0.3)); }
@keyframes candleGlow { from { filter:drop-shadow(0 0 8px rgba(249,206,52,0.3)); } to { filter:drop-shadow(0 0 16px rgba(249,206,52,0.6)); } }
.shabbat-time-icon.candle-icon svg { width:26px; height:46px; }
.shabbat-time-icon.moon-icon svg { width:38px; height:38px; border-radius:7px; }
.shabbat-time-detail {}
.shabbat-time-label { font-size:10px; color:rgba(255,255,255,0.9); letter-spacing:0.5px; text-transform:uppercase; }
.shabbat-time-val { font-size:18px; font-weight:700; font-variant-numeric:tabular-nums; letter-spacing:0.5px; }
.shabbat-time-val.candles { color:#f9ce34; text-shadow:0 0 12px rgba(249,206,52,0.3); }
.shabbat-time-val.havdalah { color:#c084fc; text-shadow:0 0 12px rgba(192,132,252,0.3); }
.shabbat-time-date { font-size:11px; color:rgba(255,255,255,0.85); margin-top:2px; font-weight:500; }
.shabbat-time-hedate { font-size:10px; color:rgba(255,255,255,0.65); margin-top:1px; font-style:italic; }
.shabbat-sep { width:1px; height:60px; background:rgba(255,255,255,0.15); margin:0 12px; flex-shrink:0; }
.obj-list { padding:0 12px 4px; }
.obj-grid { display:grid; grid-template-columns:1fr 1fr; gap:8px; }
.obj-item { display:flex; flex-direction:column; align-items:center; border-radius:14px; cursor:pointer; transition:all 0.2s; -webkit-tap-highlight-color:transparent; background:#fff; box-shadow:0 1px 6px rgba(0,0,0,0.08); overflow:hidden; position:relative; }
.obj-item:active { transform:scale(0.97); }
.obj-item .obj-emoji-wrap { width:100%; height:80px; display:flex; align-items:center; justify-content:center; font-size:42px; position:relative; border-radius:12px 12px 0 0; }
.obj-item .obj-label-wrap { width:100%; padding:6px 8px 8px; }
.obj-item .obj-label { font-size:12px; color:var(--gray-1); font-weight:600; line-height:1.3; display:block; }
.obj-item .obj-checkbox { position:absolute; bottom:6px; right:6px; width:26px; height:26px; border-radius:50%; border:2px solid rgba(0,0,0,0.15); background:rgba(255,255,255,0.85); display:flex; align-items:center; justify-content:center; transition:all 0.25s; box-shadow:0 1px 3px rgba(0,0,0,0.1); }
.obj-item.checked .obj-checkbox { border-color:#16a34a; background:#16a34a; }
.obj-check-svg { width:12px; height:12px; opacity:0; transform:scale(0); transition:all 0.25s; }
.obj-item.checked .obj-check-svg { opacity:1; transform:scale(1); }
.obj-item.checked { background:#fff; }
.obj-item.checked .obj-label { color:var(--gray-2); }
.obj-time { font-size:10px; color:var(--gray-4); font-weight:600; flex-shrink:0; }
.obj-reset-wrap { text-align:center; padding:0 0 4px; }
.obj-reset-btn { background:none; border:none; color:var(--gray-4); font-size:11px; cursor:pointer; font-family:var(--font); font-weight:600; padding:4px 12px; }
.obj-period-header { display:flex; align-items:center; gap:6px; padding:10px 4px 4px; cursor:pointer; margin-top:0; }
.obj-period-emoji { font-size:14px; }
.obj-period-name { font-size:11px; font-weight:700; color:var(--gray-2); text-transform:uppercase; letter-spacing:1px; flex:1; }
.obj-period-count { font-size:10px; font-weight:600; color:var(--gray-3); background:var(--gray-6); padding:2px 8px; border-radius:12px; }
/* Story checklist inside overlay */
.os-checklist { width:100%; max-width:320px; display:flex; flex-direction:column; gap:6px; margin-bottom:20px; pointer-events:auto; position:relative; z-index:10; }
.os-check-row { display:flex; align-items:center; gap:10px; padding:10px 14px; border-radius:12px; background:rgba(255,255,255,0.12); backdrop-filter:blur(8px); -webkit-backdrop-filter:blur(8px); cursor:pointer; transition:all 0.2s; }
.os-check-row:active { transform:scale(0.97); }
.os-check-row.checked { background:rgba(255,255,255,0.25); }
.os-check-box { font-size:18px; width:24px; text-align:center; flex-shrink:0; }
.os-check-emoji { font-size:18px; flex-shrink:0; }
.os-check-label { font-size:14px; font-weight:600; flex:1; }
.obj-complete-msg { text-align:center; padding:8px 16px 12px; font-size:12px; font-weight:600; color:#16a34a; display:none; }
.obj-complete-msg.show { display:block; animation:objFadeIn 0.5s ease; }
.obj-complete-quote { display:none; padding:8px 16px; text-align:center; }
.obj-complete-quote.show { display:block; animation:objFadeIn 0.6s ease; }
.obj-cq-text { font-style:italic; font-size:13px; color:var(--gray-1); line-height:1.6; margin-bottom:6px; font-family:'EB Garamond',Georgia,serif; }
.obj-cq-source { font-size:10px; color:var(--gray-3); font-weight:600; letter-spacing:1px; text-transform:uppercase; }
.obj-cq-bravo { font-size:13px; font-weight:600; color:#16a34a; margin-bottom:8px; }
@keyframes objFadeIn { from { opacity:0; transform:translateY(-8px); } to { opacity:1; transform:translateY(0); } }
@keyframes iconFloat { 0%,100% { transform:translateY(0); } 50% { transform:translateY(-3px); } }
@keyframes iconPulse { 0%,100% { transform:scale(1); } 50% { transform:scale(1.08); } }
@keyframes iconBounce { 0%,100% { transform:translateY(0) scale(1); } 25% { transform:translateY(-6px) scale(1.05); } 75% { transform:translateY(2px) scale(0.98); } }
@keyframes iconGlow { 0% { filter:drop-shadow(0 0 4px rgba(255,200,50,0.2)); } 100% { filter:drop-shadow(0 0 12px rgba(255,200,50,0.6)); } }
@keyframes shareRotate { 0% { transform:rotate(0deg); } 100% { transform:rotate(360deg); } }

/* DAILY QUOTE */
.don-card { border-radius:var(--radius); cursor:pointer; overflow:hidden; transition:transform 0.15s; display:block; }
.don-card:active { transform:scale(0.98); }
.don-card-inner { display:flex; flex-direction:column; align-items:center; text-align:center; gap:8px; padding:22px 12px; }
.don-card-icon { width:40px; height:40px; border-radius:12px; background:rgba(255,255,255,0.15); backdrop-filter:blur(10px); display:flex; align-items:center; justify-content:center;  }
.don-card-icon svg { width:24px; height:24px; }
.don-card-text { }
.don-card-title { font-size:15px; font-weight:700; color:#fff; margin-bottom:2px; }
.don-card-sub { font-size:10px; color:rgba(255,255,255,0.7); }
.don-amount-btn { padding:14px 8px; border:1px solid var(--gray-5); border-radius:var(--radius); background:var(--white); font-size:15px; font-weight:700; cursor:pointer; font-family:var(--font); color:var(--black); transition:all 0.15s; }
.don-amount-btn:active { transform:scale(0.95); }
.don-amount-btn.selected { background:#1a6b3c; color:#fff; border-color:#1a6b3c; }
.don-amount-btn.don-custom { font-size:13px; color:var(--gray-3); }
.don-campaign-card { display:flex; align-items:center; padding:18px 20px; border-radius:var(--radius); background:linear-gradient(135deg, #4338ca 0%, #6d28d9 50%, #7c3aed 100%); cursor:pointer; transition:transform 0.15s; }
.don-campaign-card:active { transform:scale(0.98); }
.daily-quote { margin:20px 16px 24px; padding:20px; text-align:center; background:var(--white); border:1px solid var(--gray-5); border-radius:var(--radius); }
.quote-decor { font-size:16px; margin-bottom:10px; background:linear-gradient(135deg, #f9ce34, #ee2a7b, #6228d7); -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text; }
.quote-text { font-style:italic; color:var(--gray-2); font-size:17px; line-height:1.7; margin-bottom:10px; min-height:50px; transition: opacity 0.6s ease, transform 0.6s ease; font-family:'EB Garamond',Georgia,serif; }
.quote-source { font-size:11px; color:var(--gray-3); font-weight:600; letter-spacing:1.5px; text-transform:uppercase; transition: opacity 0.6s ease; }
.quote-dots { display:flex; gap:5px; justify-content:center; margin-top:10px; cursor:pointer; padding:8px 0; }
.quote-dot { height:4px; border-radius:2px; transition: all 0.4s ease; cursor:pointer; }

/* READING */
#home, #reading { max-width:520px; margin:0 auto; }
#reading { position:fixed; top:0; left:0; right:0; bottom:0; background:var(--bg); overflow:hidden; flex-direction:column; z-index:100; max-width:520px; margin:0 auto; }
@media(min-width:521px) {
  #home, #reading { box-shadow:0 0 30px rgba(0,0,0,0.08); border-left:1px solid var(--gray-5); border-right:1px solid var(--gray-5); }
  body { background:#f0f0f0; }
}
.reading-header { display:flex; align-items:center; justify-content:space-between; padding:12px 16px; border-bottom:1px solid var(--gray-5); background:var(--white); position:relative; z-index:50; flex-shrink:0; }
.back-btn { background:none; border:none; color:var(--black); font-size:14px; font-weight:600; cursor:pointer; padding:12px 16px 12px 0; min-height:44px; min-width:70px; }
.next-btn { background:none; border:none; color:var(--black); font-size:14px; font-weight:600; cursor:pointer; padding:12px 0 12px 16px; min-height:44px; min-width:70px; text-align:right; }
.reading-chapter { font-size:13px; font-weight:700; color:var(--black); text-align:center; flex:1; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; font-family:var(--font); }
.reading-progress-bar { padding:0 16px; display:flex; align-items:center; gap:8px; padding-top:8px; flex-shrink:0; }
.reading-prog-track { flex:1; height:1px; background:var(--gray-5); border-radius:1px; overflow:hidden; }
.reading-prog-fill { height:100%; background:var(--black); border-radius:1px; transition: width 0.3s ease; }
.reading-prog-text { font-size:11px; color:var(--gray-3); white-space:nowrap; }
/* STORY BAR */
.story-bar { display:flex; align-items:center; gap:10px; padding:8px 14px 6px; overflow-x:auto; overflow-y:hidden; -webkit-overflow-scrolling:touch; background:var(--white); border-bottom:1px solid var(--gray-5); flex-shrink:0; scrollbar-width:none; }
.story-bar::-webkit-scrollbar { display:none; }
.story-item { display:flex; flex-direction:column; align-items:center; gap:4px; cursor:pointer; flex-shrink:0; -webkit-tap-highlight-color:transparent; }
.story-circle { width:56px; height:56px; border-radius:50%; display:flex; align-items:center; justify-content:center; font-family:'Noto Serif Hebrew',serif; font-size:16px; font-weight:700; color:var(--gray-1); background:var(--white); direction:rtl; transition:all 0.2s; }
.story-ring { width:62px; height:62px; border-radius:50%; background:conic-gradient(from 210deg, #f9ce34, #ee2a7b, #6228d7, #ee2a7b, #f9ce34); display:flex; align-items:center; justify-content:center; padding:2px;  }
.story-item.read .story-ring { background:#dbdbdb; }
.story-item.active .story-circle { color:var(--black); font-weight:800; }
.story-item.read .story-circle { color:var(--gray-4); }
.story-label { font-size:10px; color:var(--gray-3); font-weight:600; white-space:nowrap; max-width:62px; overflow:hidden; text-overflow:ellipsis; text-align:center; font-family:var(--font); }
.story-circle-group { font-family:'Noto Serif Hebrew',serif; font-size:13px; direction:rtl; }

/* Calendar */
.cal-header { text-align:center; padding:16px 0 12px; }
.cal-month-hebrew { font-family:'Noto Serif Hebrew',serif; font-size:28px; font-weight:700; color:var(--black); }
.cal-month-name { font-size:14px; color:var(--gray-3); margin-top:2px; }
.cal-grid { display:grid; grid-template-columns:repeat(5, 1fr); gap:10px; padding:0 12px 20px; }
.cal-day { display:flex; flex-direction:column; align-items:center; gap:4px; padding:10px 4px; border-radius:14px; cursor:pointer; transition:all 0.2s; background:var(--white); border:1.5px solid var(--gray-5); }
.cal-day:active { transform:scale(0.95); }
.cal-day.today { border:2.5px solid transparent; background-image:linear-gradient(var(--white),var(--white)),conic-gradient(from 210deg, #f9ce34, #ee2a7b, #6228d7, #ee2a7b, #f9ce34); background-origin:border-box; background-clip:padding-box, border-box; position:relative; }
.cal-day.today .cal-day-inner { background:transparent; border-radius:12px; padding:8px 4px; width:100%; display:flex; flex-direction:column; align-items:center; gap:4px; }
.cal-day:not(.today) .cal-day-inner { display:flex; flex-direction:column; align-items:center; gap:4px; }
.cal-day-num { font-family:'Noto Serif Hebrew',serif; font-size:18px; font-weight:700; color:var(--black); }
.cal-day-label { font-size:9px; color:var(--gray-3); font-weight:600; text-align:center; line-height:1.2; }
.cal-day.today .cal-day-label { color:var(--gray-1); font-weight:700; }
.cal-day.today .cal-day-num { color:var(--black); }
.cal-day.done { background:#f0faf0; border-color:#c3e6c3; }
.cal-day.done .cal-day-check { font-size:10px; color:#27ae60; line-height:1; }
.cal-day.done.today { }

/* Calendar progress banner */
.cal-progress-banner { margin:0 16px 12px; padding:14px; border-radius:var(--radius); background:var(--white); border:1px solid var(--gray-5); display:flex; align-items:center; gap:12px; }
.cal-progress-banner.done { background:linear-gradient(135deg, #f9fafb, #f0fdf4); border-color:#bbf7d0; }
.cal-progress-banner.perso { background:linear-gradient(135deg, #fffbeb, #fef3c7); border-color:#fcd34d; cursor:pointer; }
.cal-progress-banner.perso:active { opacity:0.8; }
.cal-progress-emoji { font-size:28px; flex-shrink:0; }
.cal-progress-msg { font-size:13px; color:var(--gray-2); line-height:1.4; flex:1; }
.cal-progress-msg strong { color:var(--black); }
.cal-progress-info { flex:1; }
.cal-progress-bar-wrap { display:flex; align-items:center; gap:8px; margin-top:6px; }
.cal-progress-bar-bg { flex:1; height:5px; border-radius:3px; background:var(--gray-5); overflow:hidden; }
.cal-progress-bar-fill { height:100%; border-radius:3px; background:conic-gradient(from 210deg, #f9ce34, #ee2a7b, #6228d7); }
.cal-progress-pct { font-size:11px; font-weight:600; color:var(--gray-2); }
.cal-progress-go { flex-shrink:0; padding:8px 14px; border-radius:10px; border:none; background:var(--black); color:var(--white); font-size:12px; font-weight:600; cursor:pointer; font-family:var(--font); }
.cal-progress-go:active { opacity:0.8; }
.cal-progress-arrow { font-size:16px; color:var(--gray-4); flex-shrink:0; }

/* Completion card */
.cal-completion-card { margin:0 16px 16px; padding:24px 20px; border-radius:16px; background:linear-gradient(135deg, #0f0f0f, #1a1a2e); text-align:center; position:relative; overflow:hidden; }
.cal-completion-card::before { content:''; position:absolute; top:-50%; left:-50%; width:200%; height:200%; background:conic-gradient(from 210deg, rgba(249,206,52,0.1), rgba(238,42,123,0.1), rgba(98,40,215,0.1), rgba(238,42,123,0.1), rgba(249,206,52,0.1));  }
@keyframes shimmer { from { transform:rotate(0deg); } to { transform:rotate(360deg); } }
.cal-completion-emoji { font-size:36px; position:relative; z-index:1; margin-bottom:10px; }
.cal-completion-hebrew { font-family:'Noto Serif Hebrew',serif; font-size:15px; color:rgba(255,255,255,0.7); direction:rtl; position:relative; z-index:1; margin-bottom:12px; line-height:1.6; }
.cal-completion-text { font-size:13px; color:rgba(255,255,255,0.9); position:relative; z-index:1; line-height:1.6; margin-bottom:14px; }
.cal-completion-text strong { color:#f9ce34; }
.cal-completion-footer { font-size:11px; color:rgba(255,255,255,0.4); position:relative; z-index:1; font-family:'Noto Serif Hebrew',serif; }
.story-item.active .story-label { color:var(--black); }
@keyframes storySpinIn { 0% { transform:scale(0.8); opacity:0; } 100% { transform:scale(1); opacity:1; } }
.story-item.anim-in { animation: storySpinIn 0.3s ease forwards; opacity:0; }
.reading-body { flex:1; overflow-y:scroll; scroll-snap-type:y mandatory; -webkit-overflow-scrolling:touch; min-height:0; }
/* FLOATING BOTTOM BAR */
.reading-bottom-bar { display:none; }
/* PERSISTENT INSTA NAV */
.insta-bottom-nav { display:flex; align-items:center; justify-content:space-around; padding:6px 0 max(6px, env(safe-area-inset-bottom)); background:var(--white); border-top:1px solid var(--gray-5); flex-shrink:0; position:sticky; bottom:0; z-index:200; }
#reading .insta-bottom-nav { position:relative; }
.insta-nav-item { display:flex; flex-direction:column; align-items:center; gap:1px; background:none; border:none; cursor:pointer; color:var(--gray-3); padding:6px 12px; -webkit-tap-highlight-color:transparent; transition:color 0.15s; }
.insta-nav-item:active { transform:scale(0.92); }
.insta-nav-item svg { width:24px; height:24px; }
.insta-nav-item span { font-size:9px; font-weight:600; letter-spacing:0.2px; font-family:var(--font); }
.insta-nav-item.active { color:var(--black); }
.insta-nav-item.active svg { stroke-width:2.2; }
.insta-nav-center { position:relative; display:flex; flex-direction:column; align-items:center; gap:1px; background:none; border:none; cursor:pointer; padding:6px 12px; -webkit-tap-highlight-color:transparent; }
.insta-nav-center-ring { width:50px; height:50px; border-radius:50%; background:conic-gradient(from 210deg, #f9ce34, #ee2a7b, #6228d7, #ee2a7b, #f9ce34); display:flex; align-items:center; justify-content:center; margin-top:-22px; box-shadow:0 2px 12px rgba(98,40,215,0.25);  }
.insta-nav-center-inner { width:44px; height:44px; border-radius:50%; background:var(--white); display:flex; align-items:center; justify-content:center; font-size:22px; }
.insta-nav-center span { font-size:9px; font-weight:600; letter-spacing:0.2px; font-family:var(--font); color:var(--gray-3); margin-top:2px; }
.insta-nav-center.active span { color:var(--black); }
/* SHARE BTN next to heart */
.insta-share-btn { background:none; border:none; cursor:pointer; padding:6px; display:flex; align-items:center; transition:transform 0.2s, filter 0.2s; border-radius:50%; position:relative; }
.insta-share-btn:hover { filter:brightness(1.2); }
.insta-share-btn:active { transform:scale(1.3) rotate(15deg); filter:brightness(1.4); }
.insta-share-btn svg { width:22px; height:22px; fill:none; stroke:url(#shareGrad); stroke-width:1.8; stroke-linecap:round; stroke-linejoin:round; filter:drop-shadow(0 1px 4px rgba(98,40,215,0.3)); }
/* INSTA POST CARD */
.insta-post { background:var(--white); border:1px solid var(--gray-5); border-radius:var(--radius); overflow:hidden; margin-bottom:12px; }

/* READING MODE TOGGLE */
.reading-toggle { display:flex; background:var(--gray-6); border-radius:8px; padding:3px; margin:0 16px 16px; position:relative; }
.reading-toggle-btn { flex:1; padding:8px 4px; text-align:center; font-size:12px; font-weight:600; color:var(--gray-3); background:none; border:none; cursor:pointer; border-radius:6px; transition:all 0.25s ease; z-index:1; position:relative; font-family:var(--font); }
.reading-toggle-btn.active { color:var(--black); }
.reading-toggle-slider { position:absolute; top:3px; bottom:3px; left:3px; width:calc(33.333% - 2px); background:var(--white); border-radius:6px; box-shadow:0 1px 3px rgba(0,0,0,0.1); transition:transform 0.25s ease; }
.reading-toggle[data-mode="phonetique"] .reading-toggle-slider { transform:translateX(100%); }
.reading-toggle[data-mode="francais"] .reading-toggle-slider { transform:translateX(200%); }
.insta-post-header { display:flex; align-items:center; gap:10px; padding:12px 14px; flex-shrink:0; }
.insta-post-avatar { width:38px; height:38px; border-radius:50%; background:linear-gradient(135deg, #833ab4, #c13584, #e1306c, #fd1d1d, #f56040, #fcaf45); display:flex; align-items:center; justify-content:center; flex-shrink:0; }
.insta-post-avatar-inner { width:34px; height:34px; border-radius:50%; background:var(--white); display:flex; align-items:center; justify-content:center; font-family:'Noto Serif Hebrew',serif; font-size:15px; font-weight:700; color:var(--black); direction:rtl; }
.insta-post-user { font-size:13px; font-weight:700; color:var(--black); }
.insta-post-location { font-size:11px; color:var(--gray-3); }
.insta-post-content { padding:0 16px 20px; }
.insta-post-divider { border:none; border-top:1px solid var(--gray-5); margin:0; flex-shrink:0; }
.psalm-header-reading { text-align:center; margin-bottom:24px; }
.psalm-num-hebrew-big { font-family:'Noto Serif Hebrew',serif; font-size:38px; font-weight:700; color:var(--black); display:block; line-height:1.2; direction:rtl; }
.psalm-num-sub { font-size:13px; color:var(--gray-3); display:block; margin-top:6px; font-family:var(--font); }
.psalm-section-label { display:block; font-size:11px; color:var(--gray-3); margin-top:4px; font-weight:600; letter-spacing:0.5px; }
.verse-block { margin-bottom:24px; padding-left:28px; position:relative; }
.verse-num { position:absolute; left:0; top:5px; font-size:12px; color:var(--gray-3); font-weight:600; width:22px; text-align:center; font-family:'Noto Serif Hebrew',serif; direction:rtl; }
.hebrew-text { font-family:'Noto Serif Hebrew',serif; font-size:var(--fs-hebrew, 21px); line-height:2; direction:rtl; text-align:right; color:var(--black); margin-bottom:6px; }
.french-text { font-size:var(--fs-french, 20px); line-height:1.7; color:var(--gray-1); font-family:'EB Garamond',Georgia,serif; }
.phonetic-text { font-size:var(--fs-phonetic, 20px); line-height:1.8; color:var(--gray-1); font-family:'EB Garamond',Georgia,serif; margin-top:4px; direction:ltr; text-align:left; letter-spacing:0.2px; }
/* Sefer style - continuous Hebrew */
.sefer-text { font-family:'Noto Serif Hebrew',serif; font-size:var(--fs-sefer, 22px); line-height:2.2; direction:rtl; text-align:justify; color:var(--black); padding:0 4px; }
.sefer-verse-num { font-size:calc(var(--fs-sefer, 22px) - 6px); font-weight:700; color:var(--black); font-family:'Noto Serif Hebrew',serif; margin:0 2px; }
/* FONT SIZE CONTROL */
.font-size-bar { display:flex; align-items:center; justify-content:center; gap:16px; padding:6px 16px 14px; }
.font-size-btn { width:36px; height:36px; border-radius:50%; border:1.5px solid var(--gray-4); background:var(--white); display:flex; align-items:center; justify-content:center; cursor:pointer; font-family:var(--font); font-weight:700; color:var(--gray-1); transition:all 0.15s; }
.font-size-btn:active { background:var(--gray-6); transform:scale(0.92); }
.font-size-label { font-size:12px; color:var(--gray-3); font-weight:600; letter-spacing:0.3px; font-family:var(--font); min-width:30px; text-align:center; }
/* INSTA ACTION BAR */
.insta-post-footer { flex-shrink:0; background:var(--white); }
.insta-actions { padding:10px 14px 4px; display:flex; align-items:center; gap:14px; border-top:1px solid var(--gray-5); }
/* SNAP SCROLL */
.snap-section { scroll-snap-align:start; scroll-snap-stop:always; display:flex; flex-direction:column; overflow:hidden; }
.snap-section .insta-post { flex:1; display:flex; flex-direction:column; border-radius:0; border-left:none; border-right:none; margin:0; overflow:hidden; }
.snap-section .insta-post-content { flex:1; overflow-y:auto; -webkit-overflow-scrolling:touch; min-height:0; }
.insta-heart-btn { background:none; border:none; cursor:pointer; padding:4px; display:flex; align-items:center; transition:transform 0.15s; }
.insta-heart-btn:active { transform:scale(1.3); }
.insta-heart-btn svg { width:26px; height:26px; transition:all 0.2s; }
.insta-heart-btn.liked svg { fill:#ed4956; stroke:#ed4956; }
.insta-nav-btn { background:none; border:none; cursor:pointer; padding:4px; display:flex; align-items:center; }
.insta-nav-btn svg { width:24px; height:24px; stroke:var(--gray-1); fill:none; stroke-width:1.5; }
.insta-bookmark { margin-left:auto; }
.insta-likes { padding:4px 14px 6px; font-size:13px; font-weight:700; color:var(--black); cursor:pointer; display:inline-block; }
.insta-timestamp { padding:0 14px 12px; font-size:10px; color:var(--gray-3); text-transform:uppercase; letter-spacing:0.5px; }
/* READING HISTORY POPUP */
.history-overlay { position:fixed; top:0; left:0; right:0; bottom:0; background:rgba(0,0,0,0.5); z-index:200; display:flex; align-items:flex-end; justify-content:center; }
.history-popup { background:var(--white); border-radius:20px 20px 0 0; width:100%; max-width:500px; max-height:60vh; overflow-y:auto; animation:slideUp 0.3s ease; }
@keyframes slideUp { from { transform:translateY(100%); } to { transform:translateY(0); } }
.history-header { display:flex; align-items:center; justify-content:space-between; padding:16px; border-bottom:1px solid var(--gray-6); position:sticky; top:0; background:var(--white); border-radius:20px 20px 0 0; }
.history-title { font-size:15px; font-weight:700; color:var(--black); }
.history-close { background:none; border:none; font-size:18px; color:var(--gray-3); cursor:pointer; padding:4px 8px; }
.history-item { display:flex; align-items:center; justify-content:space-between; padding:12px 16px; border-bottom:1px solid var(--gray-6); }
.history-item-info { display:flex; align-items:center; gap:10px; }
.history-item-icon { font-size:16px; }
.history-item-date { font-size:13px; color:var(--gray-1); }
.history-item-time { font-size:11px; color:var(--gray-3); display:block; }
.history-item-remove { background:none; border:none; font-size:11px; color:#ed4956; cursor:pointer; padding:6px 10px; font-weight:600; }
.history-empty { padding:32px 16px; text-align:center; color:var(--gray-3); font-size:13px; }
.nav-buttons { display:flex; justify-content:center; gap:8px; margin:12px 16px; }
.nav-btn { background:var(--white); border:1px solid var(--gray-5); color:var(--gray-1); padding:10px 22px; border-radius:var(--radius-sm); font-size:13px; cursor:pointer; font-weight:600; transition:all 0.15s; }
.nav-btn:active { background:var(--gray-6); }

/* MENU CARDS */
.menu-cards { display:grid; grid-template-columns:repeat(2, 1fr); gap:10px; padding:0 16px 8px; }
#panel-menu { }
.menu-card { display:flex; flex-direction:column; align-items:center; justify-content:center; padding:20px 10px; border-radius:var(--radius); border:1px solid var(--gray-5); background:var(--white); cursor:pointer; font-family:inherit; text-align:center; transition:all 0.15s ease; gap:8px; min-height:100px; }
.menu-card:active { background:var(--gray-6); transform:scale(0.97); }
.menu-card-icon { font-size:28px; }
.menu-card-title { font-size:13px; font-weight:700; color:var(--black); display:block; text-align:center; line-height:1.3; }
.menu-card-sub { font-size:10px; color:var(--gray-3); display:block; margin-top:2px; line-height:1.3; text-align:center; }
.menu-card-arrow { display:none; }
.card-jour { }
.card-perek { }
.menu-card.coming-soon { opacity:0.5; }
.menu-card.coming-soon .menu-card-title::after { content:' · Bientôt'; font-weight:400; font-size:9px; color:var(--gray-4); }

/* Chains */
.chain-header { padding:16px; text-align:center; }
.chain-title { font-size:20px; font-weight:700; color:var(--black); margin:0 0 6px; font-family:var(--font); }
.chain-desc { font-size:12px; color:var(--gray-3); margin:0; line-height:1.5; }
.chain-create-btn { display:block; width:calc(100% - 32px); margin:0 16px 16px; padding:14px; border-radius:var(--radius); border:2px dashed var(--gray-4); background:transparent; font-size:14px; font-weight:600; color:var(--gray-2); cursor:pointer; font-family:var(--font); transition:all 0.15s; }
.chain-create-btn:active { background:var(--gray-6); }
.chain-form-card { margin:0 16px 16px; padding:16px; border-radius:var(--radius); background:var(--white); border:1px solid var(--gray-5); }
.chain-form-group { margin-bottom:14px; }
.chain-label { font-size:12px; font-weight:600; color:var(--gray-2); display:block; margin-bottom:6px; }
.chain-type-btns { display:grid; grid-template-columns:1fr 1fr; gap:6px; }
.chain-type-btn { padding:10px 6px; border-radius:10px; border:1.5px solid var(--gray-5); background:var(--white); font-size:11px; font-weight:600; color:var(--gray-2); cursor:pointer; font-family:var(--font); transition:all 0.15s; }
.chain-type-btn.active { border-color:var(--black); background:var(--black); color:var(--white); }
.chain-input { width:100%; padding:10px 12px; border-radius:10px; border:1.5px solid var(--gray-5); font-size:14px; font-family:var(--font); color:var(--black); outline:none; box-sizing:border-box; }
.chain-input:focus { border-color:var(--gray-2); }
.chain-name-row { display:flex; gap:8px; align-items:center; }
.chain-name-half { flex:1; min-width:0; }
.chain-form-actions { display:flex; gap:8px; }
.chain-cancel-btn { flex:1; padding:12px; border-radius:10px; border:1px solid var(--gray-5); background:var(--white); font-size:13px; font-weight:600; color:var(--gray-2); cursor:pointer; font-family:var(--font); }
.chain-submit-btn { flex:2; padding:12px; border-radius:10px; border:none; background:var(--black); color:var(--white); font-size:13px; font-weight:700; cursor:pointer; font-family:var(--font); }
.chain-submit-btn:active { opacity:0.8; }

.chain-card { margin:0 16px 10px; padding:14px; border-radius:var(--radius); background:var(--white); border:1px solid var(--gray-5); cursor:pointer; transition:all 0.15s; }
.chain-card:active { background:var(--gray-6); }
.chain-card-top { display:flex; justify-content:space-between; align-items:flex-start; margin-bottom:8px; }
.chain-card-type { font-size:10px; font-weight:600; color:var(--white); background:var(--black); padding:3px 8px; border-radius:6px; }
.chain-card-type.refoua { background:#e74c3c; }
.chain-card-type.mariage { background:#9b59b6; }
.chain-card-type.memoire { background:#2c3e50; }
.chain-card-type.autre { background:#27ae60; }
.chain-card-date { font-size:10px; color:var(--gray-4); }
.chain-card-name { font-size:16px; font-weight:700; color:var(--black); margin-bottom:4px; direction:auto; }
.chain-card-descr { font-size:12px; color:var(--gray-3); margin-bottom:10px; }
.chain-card-progress { display:flex; align-items:center; gap:8px; }
.chain-progress-bar { flex:1; height:6px; border-radius:3px; background:var(--gray-5); overflow:hidden; }
.chain-progress-fill { height:100%; border-radius:3px; background:conic-gradient(from 210deg, #f9ce34, #ee2a7b, #6228d7); transition:width 0.3s; }
.chain-progress-text { font-size:11px; font-weight:600; color:var(--gray-2); white-space:nowrap; }

/* Chain detail */
.chain-detail-header { text-align:center; padding:20px 16px; }
.chain-detail-type { font-size:11px; font-weight:600; color:var(--white); display:inline-block; padding:4px 12px; border-radius:8px; margin-bottom:8px; }
.chain-detail-name { font-size:22px; font-weight:700; color:var(--black); direction:auto; margin-bottom:4px; }
.chain-detail-desc { font-size:13px; color:var(--gray-3); }
.chain-wheel { display:flex; justify-content:center; padding:10px 0 20px; }
.chain-wheel-ring { width:160px; height:160px; border-radius:50%; display:flex; align-items:center; justify-content:center; position:relative; }
.chain-wheel-inner { width:130px; height:130px; border-radius:50%; background:var(--white); display:flex; flex-direction:column; align-items:center; justify-content:center; }
.chain-wheel-count { font-size:32px; font-weight:700; color:var(--black); }
.chain-wheel-label { font-size:11px; color:var(--gray-3); }
.chain-wheel-cycle { font-size:10px; color:var(--gray-4); margin-top:2px; }
.chain-next-section { padding:0 16px 16px; text-align:center; }
.chain-next-btn { display:block; width:100%; padding:16px; border-radius:var(--radius); border:none; background:var(--black); color:var(--white); font-size:15px; font-weight:700; cursor:pointer; font-family:var(--font); }
.chain-next-btn:active { opacity:0.8; }
.chain-psalms-grid { display:grid; grid-template-columns:repeat(10, 1fr); gap:3px; padding:0 16px 20px; }
.chain-psalm-cell { width:100%; aspect-ratio:1; border-radius:4px; display:flex; align-items:center; justify-content:center; font-size:9px; font-weight:600; background:var(--gray-5); color:var(--gray-3); }
.chain-psalm-cell.read { background:#27ae60; color:var(--white); }
.chain-psalm-cell.assigned { background:#f39c12; color:var(--white); }
.chain-psalm-cell.current { background:var(--black); color:var(--white); }
.chain-stat-pill { background:var(--gray-6); padding:6px 12px; border-radius:20px; font-size:11px; font-weight:600; color:var(--gray-2); }
.chain-share-section { padding:0 16px 20px; display:flex; gap:8px; }
.chain-share-btn { flex:1; padding:12px; border-radius:10px; border:1px solid var(--gray-5); background:var(--white); font-size:12px; font-weight:600; color:var(--gray-2); cursor:pointer; font-family:var(--font); text-align:center; }
.chain-share-btn.whatsapp { background:#25D366; color:white; border-color:#25D366; }
.chain-share-btn:active { opacity:0.8; }
.chain-share-top { font-size:12px; font-weight:600; color:var(--gray-2); background:none; border:1px solid var(--gray-5); border-radius:8px; padding:6px 12px; cursor:pointer; font-family:var(--font); }
.chain-delete-btn { display:block; margin:0 auto 20px; padding:10px 20px; border:none; background:none; color:#e74c3c; font-size:12px; font-weight:600; cursor:pointer; font-family:var(--font); }
.chain-empty { text-align:center; padding:40px 16px; color:var(--gray-3); font-size:14px; }

/* T119 by name */
.t119-header { padding:16px; text-align:center; }
.t119-title { font-size:20px; font-weight:700; color:var(--black); margin:0 0 6px; font-family:var(--font); }
.t119-desc { font-size:12px; color:var(--gray-3); margin:0; line-height:1.5; }
.t119-input-section { padding:0 16px; }
.t119-fullname-row { display:flex; gap:8px; align-items:flex-end; margin-bottom:8px; }
.t119-field { flex:1; min-width:0; }
.t119-name-label { font-size:11px; font-weight:600; color:var(--gray-3); display:block; margin-bottom:4px; }
.t119-input-half { width:100%; padding:12px 10px; font-size:14px; text-align:center; }
.t119-clear-wrap { text-align:center; margin-bottom:6px; }
.t119-clear-btn { background:none; border:none; color:var(--gray-3); font-size:11px; font-weight:600; cursor:pointer; padding:4px 12px; font-family:var(--font); }
/* Sliding Ben/Bat toggle */
.t119-benbat-slider, .chain-benbat-slider { flex-shrink:0; cursor:pointer; -webkit-tap-highlight-color:transparent; padding-bottom:1px; }
.bb-slider-track { position:relative; display:flex; width:52px; height:32px; background:var(--gray-6); border-radius:16px; border:1.5px solid var(--gray-5); overflow:hidden; }
.bb-slider-option { flex:1; display:flex; align-items:center; justify-content:center; font-family:'Noto Serif Hebrew',serif; font-size:13px; font-weight:700; color:var(--gray-3); position:relative; z-index:2; transition:color 0.25s; pointer-events:none; }
.bb-slider-option.active { color:var(--white); }
.bb-slider-thumb { position:absolute; top:1px; left:1px; width:calc(50% - 1px); height:calc(100% - 2px); background:var(--black); border-radius:14px; transition:transform 0.25s cubic-bezier(0.4,0,0.2,1); z-index:1; }
.bb-slider-track.bat .bb-slider-thumb { transform:translateX(100%); }
.bb-slider-track.bat [data-bb="bat"] { color:var(--white); }
.bb-slider-track.bat [data-bb="ben"] { color:var(--gray-3); }
.bb-slider-track:not(.bat) [data-bb="ben"] { color:var(--white); }
/* Keyboard hint */
.t119-kbd-hint { text-align:center; font-size:12px; color:var(--gray-3); margin-bottom:10px; padding:8px 12px; background:var(--gray-6); border-radius:10px; line-height:1.4; }
.t119-input-wrap { position:relative; margin-bottom:8px; }
.t119-input { width:100%; padding:14px 40px 14px 14px; border-radius:12px; border:1.5px solid var(--gray-5); font-size:16px; font-family:var(--font); color:var(--black); outline:none; box-sizing:border-box; text-align:center; }
.t119-input:focus { border-color:var(--gray-2); }
.t119-clear { position:absolute; right:10px; top:50%; transform:translateY(-50%); background:var(--gray-5); border:none; border-radius:50%; width:24px; height:24px; font-size:12px; cursor:pointer; color:var(--gray-2); display:flex; align-items:center; justify-content:center; }
.t119-hebrew-preview { text-align:center; font-family:'Noto Serif Hebrew',serif; font-size:28px; font-weight:700; color:var(--black); direction:rtl; min-height:40px; margin-bottom:10px; }
.t119-keyboard { display:flex; flex-direction:column; gap:4px; margin-bottom:8px; }
.t119-kb-row { display:flex; justify-content:center; gap:3px; }
.t119-kb-row button { width:30px; height:36px; border-radius:6px; border:1px solid var(--gray-5); background:var(--white); font-family:'Noto Serif Hebrew',serif; font-size:15px; cursor:pointer; color:var(--black); transition:all 0.1s; }
.t119-kb-row button:active { background:var(--gray-6); transform:scale(0.95); }
.t119-kb-space { width:120px !important; font-family:var(--font) !important; font-size:11px !important; }
.t119-kb-del { width:50px !important; font-size:16px !important; }
.t119-convert-hint { text-align:center; font-size:10px; color:var(--gray-4); margin-bottom:16px; }
.t119-suggestions { margin:0 0 10px; max-height:200px; overflow-y:auto; border-radius:12px; background:var(--white); border:1.5px solid var(--gray-5); display:none; }
.t119-suggestions.active { display:block; }
.t119-sug-item { display:flex; align-items:center; justify-content:space-between; padding:10px 14px; cursor:pointer; transition:background 0.1s; border-bottom:1px solid var(--gray-6); }
.t119-sug-item:last-child { border-bottom:none; }
.t119-sug-item:active { background:var(--gray-6); }
.t119-sug-heb { font-family:'Noto Serif Hebrew',serif; font-size:20px; font-weight:700; color:var(--black); direction:rtl; }
.t119-sug-lat { font-size:13px; color:var(--gray-3); font-family:var(--font); }
.t119-sug-gender { font-size:10px; margin-left:6px; }
.t119-sug-header { padding:8px 14px 4px; font-size:10px; font-weight:700; color:var(--gray-4); text-transform:uppercase; letter-spacing:0.5px; background:var(--gray-6); }
.t119-dict-toggle { display:flex; align-items:center; justify-content:center; gap:6px; padding:6px; margin:0 0 8px; font-size:11px; color:var(--gray-3); cursor:pointer; background:none; border:none; width:100%; font-family:var(--font); }
.t119-dict-toggle:active { color:var(--black); }
.t119-kbd-collapsed { display:none; }

.t119-letter-section { margin:0 16px 16px; padding:16px; border-radius:var(--radius); background:var(--white); border:1px solid var(--gray-5); }
.t119-letter-header { display:flex; align-items:center; gap:10px; margin-bottom:12px; padding-bottom:10px; border-bottom:1px solid var(--gray-5); }
.t119-letter-circle { width:44px; height:44px; border-radius:50%; background:var(--black); color:var(--white); display:flex; align-items:center; justify-content:center; font-family:'Noto Serif Hebrew',serif; font-size:22px; font-weight:700; flex-shrink:0; }
.t119-letter-info { }
.t119-letter-name { font-size:15px; font-weight:700; color:var(--black); }
.t119-letter-range { font-size:11px; color:var(--gray-3); }
.t119-verse { direction:rtl; font-family:'Noto Serif Hebrew',serif; font-size:var(--fs-hebrew, 20px); line-height:2; color:var(--black); padding:4px 0; text-align:justify; }
.t119-verse-num { font-size:calc(var(--fs-hebrew, 20px) - 4px); font-weight:700; color:var(--gray-3); margin:0 4px; }
.t119-read-btn { display:block; width:100%; margin:16px 0 0; padding:12px; border-radius:10px; border:none; background:var(--black); color:var(--white); font-size:13px; font-weight:700; cursor:pointer; font-family:var(--font); }
.t119-read-btn:active { opacity:0.8; }

/* Cemetery */
.cem-header { padding:20px 16px 12px; text-align:center; }
.cem-icon { font-size:36px; margin-bottom:8px; }
.cem-title { font-size:20px; font-weight:700; color:var(--black); margin:0 0 8px; font-family:var(--font); }
.cem-desc { font-size:12px; color:var(--gray-3); margin:0; line-height:1.6; padding:0 10px; }
.cem-section-title { margin:20px 16px 10px; padding:12px 16px; border-radius:var(--radius); background:var(--black); color:var(--white); font-size:13px; font-weight:700; text-align:center; font-family:var(--font); }
.cem-psalm-card { margin:0 16px 12px; padding:16px; border-radius:var(--radius); background:var(--white); border:1px solid var(--gray-5); }
.cem-psalm-header { display:flex; align-items:center; justify-content:space-between; margin-bottom:12px; padding-bottom:10px; border-bottom:1px solid var(--gray-5); cursor:pointer; }
.cem-psalm-num { font-family:'Noto Serif Hebrew',serif; font-size:18px; font-weight:700; color:var(--black); }
.cem-psalm-toggle { font-size:14px; color:var(--gray-3); transition:transform 0.2s; }
.cem-psalm-toggle.open { transform:rotate(180deg); }
.cem-psalm-body { display:none; }
.cem-psalm-body.open { display:block; }
.cem-verse { direction:rtl; font-family:'Noto Serif Hebrew',serif; font-size:var(--fs-hebrew, 20px); line-height:2; color:var(--black); padding:3px 0; text-align:justify; }
.cem-verse-num { font-size:calc(var(--fs-hebrew, 20px) - 4px); font-weight:700; color:var(--gray-3); margin:0 4px; }
.cem-119-letter { display:flex; align-items:center; gap:10px; margin-bottom:12px; padding-bottom:10px; border-bottom:1px solid var(--gray-5); }
.cem-119-circle { width:40px; height:40px; border-radius:50%; background:var(--black); color:var(--white); display:flex; align-items:center; justify-content:center; font-family:'Noto Serif Hebrew',serif; font-size:20px; font-weight:700; flex-shrink:0; }
.cem-119-info { font-size:13px; font-weight:700; color:var(--black); }
.cem-119-range { font-size:11px; color:var(--gray-3); font-weight:400; }
.cem-neshama-word { text-align:center; margin:16px 0 6px; font-family:'Noto Serif Hebrew',serif; font-size:36px; font-weight:700; color:var(--black); direction:rtl; letter-spacing:8px; }
.cem-name-section { padding:12px 0 8px; }
.panel-back-wrap { padding:12px 16px 0; display:flex; justify-content:space-between; align-items:center; }
.panel-back { background:none; border:none; color:var(--black); font-size:14px; font-weight:600; cursor:pointer; padding:8px 12px 8px 0; min-height:44px; }
.day-badge-wrap { padding:0 16px 0; }

/* PEREK */
.perek-search-wrap { padding:12px 16px 8px; }
.perek-search { width:100%; padding:10px 14px; border-radius:var(--radius-sm); border:none; background:var(--gray-6); font-size:14px; font-family:var(--font); color:var(--gray-1); outline:none; transition:all 0.15s; }
.perek-search:focus { background:var(--white); box-shadow:0 0 0 1px var(--gray-5); }
.perek-search::placeholder { color:var(--gray-3); }
.perek-grid { display:grid; grid-template-columns:repeat(4,1fr); gap:4px; padding:0 16px 12px; }
.perek-cell { display:flex; flex-direction:column; align-items:center; justify-content:center; padding:8px 4px; border-radius:var(--radius-sm); border:1px solid var(--gray-5); background:var(--white); cursor:pointer; font-family:inherit; transition:all 0.1s ease; gap:1px; min-height:60px; }
.perek-cell .perek-num { font-size:16px; font-weight:700; color:var(--gray-1); line-height:1; }
.perek-cell .perek-heb { font-family:'Noto Serif Hebrew',serif; font-size:11px; color:var(--gray-3); direction:rtl; line-height:1.2; }
.perek-cell .perek-name { font-size:7px; color:var(--gray-4); letter-spacing:0.3px; line-height:1; text-align:center; }
.perek-cell:active { background:var(--gray-6); }
.perek-cell.available { }
.perek-cell.available .perek-num { color:var(--black); }
.perek-cell.unavailable { opacity:0.25; cursor:default; }
.perek-cell.unavailable:active { background:var(--white); }
.perek-cell.perek-read { background:var(--black); border-color:var(--black); position:relative; }
.perek-cell.perek-read .perek-num { color:var(--white); }
.perek-cell.perek-read .perek-heb { color:rgba(255,255,255,0.5); }
.perek-cell.perek-read .perek-name { color:rgba(255,255,255,0.4); }
.perek-check { position:absolute; top:3px; right:5px; font-size:8px; color:var(--white); font-weight:700; }
.perek-day-header { grid-column:1/-1; font-size:10px; text-transform:uppercase; letter-spacing:1.5px; color:var(--gray-3); font-weight:700; padding:8px 0 2px; }

/* BIRTHDAY */
.card-birthday { }
.bday-section { padding:20px 16px; }
.bday-title { font-size:18px; font-weight:700; color:var(--black); margin-bottom:4px; }
.bday-desc { font-size:13px; color:var(--gray-3); margin-bottom:20px; line-height:1.5; }
.bday-form { display:flex; flex-direction:column; gap:12px; }
.bday-save { background:var(--black); color:var(--white); border:none; padding:14px; border-radius:var(--radius-sm); font-size:14px; font-weight:700; cursor:pointer; font-family:var(--font); transition:opacity 0.15s; margin-top:4px; }
.bday-save:active { opacity:0.8; }
.bday-date-input { width:100%; padding:14px; border-radius:var(--radius-sm); border:1px solid var(--gray-5); background:var(--white); font-size:16px; font-family:var(--font); color:var(--gray-1); appearance:none; -webkit-appearance:none; }
.bday-date-input:focus { border-color:var(--gray-1); outline:none; }
.bday-hebrew-preview { text-align:center; padding:16px; background:var(--gray-6); border-radius:var(--radius); display:none; }
.bday-hebrew-preview:not(:empty) { display:block; }
.bday-preview-heb { display:block; font-family:'Noto Serif Hebrew',serif; font-size:22px; font-weight:700; color:var(--black); direction:rtl; margin-bottom:4px; }
.bday-preview-latin { display:block; font-size:13px; color:var(--gray-3); }
.bday-result { margin-top:24px; padding:20px; background:var(--white); border:1px solid var(--gray-5); border-radius:var(--radius); text-align:center; }
.bday-result-tehilim { font-size:48px; font-weight:700; color:var(--black); font-family:'Noto Serif Hebrew',serif; direction:rtl; margin-bottom:4px; }
.bday-result-chapter { font-size:20px; font-weight:700; color:var(--black); margin-bottom:2px; }
.bday-result-sub { font-size:13px; color:var(--gray-3); margin-bottom:16px; }
.bday-result-info { font-size:12px; color:var(--gray-3); line-height:1.5; margin-top:12px; padding-top:12px; border-top:1px solid var(--gray-6); }
.bday-read-btn { display:inline-block; background:linear-gradient(135deg, #833ab4, #c13584, #e1306c, #fd1d1d, #f56040, #fcaf45); color:var(--white); border:none; padding:12px 28px; border-radius:var(--radius-sm); font-size:14px; font-weight:700; cursor:pointer; font-family:var(--font); margin-top:12px; }
.bday-countdown { margin-top:16px; padding:16px; background:var(--gray-6); border-radius:var(--radius); text-align:center; }
.bday-countdown-num { font-size:32px; font-weight:700; color:var(--black); display:block; margin-bottom:6px; }
.bday-countdown-label { font-size:13px; color:var(--gray-3); display:block; line-height:1.4; }
.bday-reset { background:none; border:none; color:var(--gray-3); font-size:12px; cursor:pointer; font-family:var(--font); margin-top:16px; text-decoration:underline; }

/* BIRTHDAY POPUP */
.bday-overlay { position:fixed; top:0; left:0; right:0; bottom:0; background:rgba(0,0,0,0.6); z-index:200; display:flex; align-items:center; justify-content:center; padding:20px; }
.bday-popup { background:var(--white); border-radius:20px; max-width:360px; width:100%; padding:32px 24px; text-align:center; animation:bdayIn 0.4s ease; }
@keyframes bdayIn { from { transform:scale(0.8); opacity:0; } to { transform:scale(1); opacity:1; } }
.bday-popup-emoji { font-size:48px; margin-bottom:12px; }
.bday-popup-title { font-family:'Noto Serif Hebrew',serif; font-size:26px; font-weight:700; color:var(--black); direction:rtl; margin-bottom:8px; }
.bday-popup-msg { font-size:14px; color:var(--gray-2); line-height:1.7; margin-bottom:8px; font-style:italic; font-family:'EB Garamond',Georgia,serif; }
.bday-popup-highlight { font-size:15px; color:var(--black); font-weight:600; margin-bottom:4px; }
.bday-close { background:var(--black); color:var(--white); border:none; padding:12px 32px; border-radius:var(--radius-sm); font-size:14px; font-weight:700; cursor:pointer; font-family:var(--font); margin-top:16px; }
</style>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
</head>
<body>
<svg width="0" height="0" style="position:absolute;">
  <defs>
    <linearGradient id="shareGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#f9ce34"/>
      <stop offset="50%" stop-color="#ee2a7b"/>
      <stop offset="100%" stop-color="#6228d7"/>
    </linearGradient>
  </defs>
</svg>

<!-- SPLASH SCREEN -->
<div id="splash" onclick="skipSplash()">
  <div class="splash-bh">ב״ה</div>
  <div class="splash-content" id="splash-content">
<div class="splash-icon"><img src="data:image/png;base64,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" alt="770 Lab" style="width:180px;height:auto;opacity:0;animation:scFadeIn 0.6s ease 0s forwards;"></div>
    <h1 class="splash-title-chabad" id="splash-title-chabad">
      <span class="sc-static">C</span><span class="sc-static">h</span><span class="sc-static">a</span><span class="sc-static">b</span><span class="sc-apos">'</span><span class="sc-static">a</span><span class="sc-letter-d" id="sc-d1">d</span><span class="sc-letter-d2" id="sc-d2">d</span>
    </h1>
    <p class="splash-subtitle" id="splash-sub" style="direction:ltr;font-family:var(--font);font-size:11px;letter-spacing:2px;">MACHIA'H ARRIVE, SOYONS PRÊT À L'ACCUEILLIR</p>
    <p class="splash-tap">Appuyez pour commencer</p>
  </div>
  <p class="splash-footer"><img src="data:image/png;base64,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" alt="770 Lab" style="height:40px;width:auto;"></p>
</div>

<!-- NOTIFICATION -->


<!-- HOME SCREEN -->
<div id="home">
  <div class="home-header">
    <div class="bh-mark">ב״ה</div>
    <div class="home-header-top">
      <span class="home-greeting">Chab'app</span>
    </div>
  </div>

  <!-- HOME: 3 BIG CARDS -->
  <div id="panel-menu">
    <div class="home-date-line" id="home-date-line"></div>
    <div class="obj-story-bar" id="obj-story-bar"></div>
    <div class="shabbat-card" id="shabbat-card" style="display:none;background:#1a1a2e;">
      <div class="shabbat-bg" id="shabbat-bg"></div>
      <div class="shabbat-overlay"></div>
      <div class="shabbat-content">
        <div class="shabbat-top">
          <div>
            <div class="shabbat-parasha" id="shabbat-parasha"></div>
            <div class="shabbat-parasha-he" id="shabbat-parasha-he"></div>
          </div>
          <div class="shabbat-loc-wrap">
            <div class="shabbat-city" id="shabbat-city">🇫🇷 Paris</div>
            <button class="shabbat-change-city" onclick="toggleShabbatLocSearch()" id="shabbat-change-btn">📍 Modifier</button>
            <div class="shabbat-loc-search" id="shabbat-loc-search" style="display:none;">
              <input type="text" id="shabbat-loc-input" placeholder="Rechercher une ville…" autocomplete="off" />
              <div class="shabbat-loc-results" id="shabbat-loc-results"></div>
            </div>
          </div>
        </div>
        <div style="flex:1;min-height:20px;"></div>
        <div style="display:flex;align-items:flex-end;">
          <div class="shabbat-times-row" style="flex:1;">
            <div class="shabbat-time-icon candle-icon"><svg viewBox="0 0 40 70" fill="none" xmlns="http://www.w3.org/2000/svg">
              <defs>
                <radialGradient id="flameOuter" cx="50%" cy="45%" r="50%"><stop offset="0%" stop-color="#fff8e1"/><stop offset="30%" stop-color="#ffe082"/><stop offset="60%" stop-color="#ffb300"/><stop offset="100%" stop-color="#e65100" stop-opacity="0.4"/></radialGradient>
                <radialGradient id="flameInner" cx="50%" cy="40%" r="45%"><stop offset="0%" stop-color="#ffffff"/><stop offset="50%" stop-color="#fff9c4"/><stop offset="100%" stop-color="#ffcc02" stop-opacity="0.6"/></radialGradient>
                <radialGradient id="flameCore" cx="50%" cy="50%" r="40%"><stop offset="0%" stop-color="#e3f2fd" stop-opacity="0.9"/><stop offset="100%" stop-color="#ffffff" stop-opacity="0.3"/></radialGradient>
                <radialGradient id="glowR" cx="50%" cy="30%" r="70%"><stop offset="0%" stop-color="#ffb300" stop-opacity="0.25"/><stop offset="100%" stop-color="#ffb300" stop-opacity="0"/></radialGradient>
                <linearGradient id="waxG" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="#fff8e1"/><stop offset="100%" stop-color="#f5f0e0"/></linearGradient>
              </defs>
              <!-- Glow halo -->
              <ellipse cx="20" cy="22" rx="18" ry="16" fill="url(#glowR)"><animate attributeName="rx" values="18;20;17;19;18" dur="2.5s" repeatCount="indefinite"/><animate attributeName="opacity" values="0.7;1;0.6;0.9;0.7" dur="3s" repeatCount="indefinite"/></ellipse>
              <!-- Candle body -->
              <rect x="15" y="38" width="10" height="28" rx="2" fill="url(#waxG)" opacity="0.9"/>
              <rect x="16" y="38" width="3" height="28" rx="1" fill="rgba(255,255,255,0.15)"/>
              <!-- Wick -->
              <line x1="20" y1="38" x2="20" y2="33" stroke="#555" stroke-width="1" stroke-linecap="round"/>
              <!-- Outer flame -->
              <ellipse cx="20" cy="24" rx="5" ry="11" fill="url(#flameOuter)" opacity="0.85">
                <animate attributeName="ry" values="11;12;10.5;11.5;10;11" dur="0.8s" repeatCount="indefinite"/>
                <animate attributeName="rx" values="5;4.5;5.5;4.8;5.2;5" dur="1.1s" repeatCount="indefinite"/>
                <animate attributeName="cx" values="20;19.5;20.5;20;19.8;20.2;20" dur="1.4s" repeatCount="indefinite"/>
              </ellipse>
              <!-- Middle flame -->
              <ellipse cx="20" cy="26" rx="3.2" ry="8" fill="url(#flameInner)" opacity="0.9">
                <animate attributeName="ry" values="8;8.5;7.5;8.2;7.8;8" dur="0.7s" repeatCount="indefinite"/>
                <animate attributeName="rx" values="3.2;2.8;3.5;3;3.3;3.2" dur="0.9s" repeatCount="indefinite"/>
                <animate attributeName="cx" values="20;20.3;19.7;20.1;19.9;20" dur="1.2s" repeatCount="indefinite"/>
              </ellipse>
              <!-- Core flame (blue-white) -->
              <ellipse cx="20" cy="30" rx="1.8" ry="4.5" fill="url(#flameCore)" opacity="0.8">
                <animate attributeName="ry" values="4.5;5;4;4.8;4.2;4.5" dur="0.6s" repeatCount="indefinite"/>
              </ellipse>
              <!-- Tiny sparks -->
              <circle cx="17" cy="16" r="0.4" fill="#ffe082" opacity="0"><animate attributeName="opacity" values="0;0.8;0" dur="2.5s" repeatCount="indefinite"/><animate attributeName="cy" values="16;12" dur="2.5s" repeatCount="indefinite"/></circle>
              <circle cx="23" cy="18" r="0.3" fill="#ffcc02" opacity="0"><animate attributeName="opacity" values="0;0.6;0" dur="3.2s" begin="0.8s" repeatCount="indefinite"/><animate attributeName="cy" values="18;13" dur="3.2s" begin="0.8s" repeatCount="indefinite"/></circle>
            </svg></div>
            <div class="shabbat-time-detail">
              <div class="shabbat-time-label">Allumage</div>
              <div class="shabbat-time-val candles" id="shabbat-candles">--:--</div>
              <div class="shabbat-time-date" id="shabbat-candles-date"></div>
              <div class="shabbat-time-hedate" id="shabbat-candles-hedate"></div>
            </div>
          </div>
          <div class="shabbat-sep"></div>
          <div class="shabbat-time-block">
            <div class="shabbat-time-icon moon-icon"><svg viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
              <defs>
                <linearGradient id="skyG" x1="0" y1="0" x2="0" y2="1">
                  <stop offset="0%" stop-color="#0d1b2a"><animate attributeName="stop-color" values="#1b2838;#0d1b2a;#1b2838" dur="6s" repeatCount="indefinite"/></stop>
                  <stop offset="40%" stop-color="#1b2838"/>
                  <stop offset="70%" stop-color="#415a77"><animate attributeName="stop-color" values="#415a77;#2c3e6b;#415a77" dur="8s" repeatCount="indefinite"/></stop>
                  <stop offset="100%" stop-color="#e07040" stop-opacity="0.4"><animate attributeName="stop-opacity" values="0.4;0.2;0.4" dur="5s" repeatCount="indefinite"/></stop>
                </linearGradient>
                <radialGradient id="moonG2" cx="40%" cy="35%" r="55%"><stop offset="0%" stop-color="#f5f0ff"/><stop offset="100%" stop-color="#d4b8ff"/></radialGradient>
                <radialGradient id="moonGlow2" cx="50%" cy="50%" r="50%"><stop offset="0%" stop-color="#c084fc" stop-opacity="0.3"/><stop offset="100%" stop-color="#c084fc" stop-opacity="0"/></radialGradient>
              </defs>
              <!-- Sky -->
              <rect x="0" y="0" width="50" height="50" rx="8" fill="url(#skyG)"/>
              <!-- Horizon glow -->
              <ellipse cx="25" cy="48" rx="28" ry="8" fill="#e07040" opacity="0.12"><animate attributeName="opacity" values="0.12;0.18;0.1;0.15;0.12" dur="5s" repeatCount="indefinite"/></ellipse>
              <!-- Moon glow -->
              <circle cx="16" cy="15" r="8" fill="url(#moonGlow2)"><animate attributeName="r" values="8;9;7.5;8.5;8" dur="4s" repeatCount="indefinite"/></circle>
              <!-- Crescent moon -->
              <path d="M21 15a7 7 0 11-7.5-6.9 5.5 5.5 0 007.5 6.9z" fill="url(#moonG2)">
                <animate attributeName="opacity" values="0.9;1;0.85;1;0.9" dur="4s" repeatCount="indefinite"/>
              </path>
              <!-- Stars layer 1 - bright -->
              <circle cx="32" cy="10" r="0.7" fill="#fff"><animate attributeName="opacity" values="0.3;1;0.3" dur="2.2s" repeatCount="indefinite"/></circle>
              <circle cx="40" cy="18" r="0.5" fill="#fff"><animate attributeName="opacity" values="0.5;1;0.5" dur="1.8s" begin="0.5s" repeatCount="indefinite"/></circle>
              <circle cx="36" cy="28" r="0.6" fill="#fff"><animate attributeName="opacity" values="0.2;0.9;0.2" dur="2.8s" begin="1s" repeatCount="indefinite"/></circle>
              <!-- Stars layer 2 - subtle -->
              <circle cx="27" cy="6" r="0.4" fill="#e0d4ff"><animate attributeName="opacity" values="0.2;0.7;0.2" dur="3.5s" begin="0.3s" repeatCount="indefinite"/></circle>
              <circle cx="44" cy="8" r="0.35" fill="#e0d4ff"><animate attributeName="opacity" values="0.1;0.6;0.1" dur="4s" begin="1.5s" repeatCount="indefinite"/></circle>
              <circle cx="8" cy="30" r="0.4" fill="#e0d4ff"><animate attributeName="opacity" values="0.15;0.65;0.15" dur="3.2s" begin="0.7s" repeatCount="indefinite"/></circle>
              <circle cx="22" cy="35" r="0.35" fill="#fff"><animate attributeName="opacity" values="0.1;0.5;0.1" dur="2.6s" begin="2s" repeatCount="indefinite"/></circle>
              <!-- Stars layer 3 - twinkling cross stars -->
              <g transform="translate(38,5)" opacity="0.6"><animate attributeName="opacity" values="0.3;0.8;0.3" dur="3s" begin="0.4s" repeatCount="indefinite"/>
                <line x1="0" y1="-1.2" x2="0" y2="1.2" stroke="#fff" stroke-width="0.4"/>
                <line x1="-1.2" y1="0" x2="1.2" y2="0" stroke="#fff" stroke-width="0.4"/>
              </g>
              <g transform="translate(10,12)" opacity="0.5"><animate attributeName="opacity" values="0.2;0.7;0.2" dur="3.8s" begin="1.2s" repeatCount="indefinite"/>
                <line x1="0" y1="-1" x2="0" y2="1" stroke="#fff" stroke-width="0.3"/>
                <line x1="-1" y1="0" x2="1" y2="0" stroke="#fff" stroke-width="0.3"/>
              </g>
              <!-- Silhouette horizon -->
              <path d="M0 44 Q5 41 10 43 Q15 40 20 42 Q25 39 30 41 Q35 40 40 42 Q45 41 50 43 L50 50 L0 50 Z" fill="#0a0f1a" opacity="0.7"/>
            </svg></div>
            <div class="shabbat-time-detail">
              <div class="shabbat-time-label">Havdalah</div>
              <div class="shabbat-time-val havdalah" id="shabbat-havdalah">--:--</div>
              <div class="shabbat-time-date" id="shabbat-havdalah-date"></div>
              <div class="shabbat-time-hedate" id="shabbat-havdalah-hedate"></div>
            </div>
          </div>
          </div>
          <button class="shabbat-share-btn" onclick="shareShabbat(event)" style="margin:0 0 4px 12px;flex-shrink:0;"><svg viewBox="0 0 24 24" style="stroke:#fff;width:18px;height:18px;opacity:0.8;fill:none;"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg> Partager</button>
        </div>
      </div>
    </div>
    <div class="home-big-cards">
      <div class="big-card" onclick="switchTab('sub-objectifs')">
        <div class="big-card-icon"><img src="data:image/jpeg;base64,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" style="width:100%;height:100%;object-fit:cover;border-radius:inherit;" alt="Objectifs"></div>
        <div class="big-card-info">
          <div class="big-card-title">Objectifs du jour</div>
          <div class="big-card-sub" id="big-obj-sub">0/13 accomplis</div>
          <div class="obj-progress-home"><div class="obj-progress-home-fill" id="obj-progress-home-fill"></div></div>
          <div class="obj-progress-home-pct" id="obj-progress-home-pct">0%</div>
        </div>
        <div class="big-card-arrow">›</div>
      </div>
      <!-- HAYOM YOM + TEHILIM GRID -->
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:12px;">
      <div class="big-card teh-hero-card" onclick="switchTab('sub-tehilim')" style="background:url('data:image/jpeg;base64,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') center/cover no-repeat; border:none; border-left:none; padding:0; position:relative; overflow:hidden; border-radius:16px; aspect-ratio:1/1;">
        <div style="position:absolute;inset:0;background:linear-gradient(90deg, rgba(0,0,0,0.55) 0%, rgba(0,0,0,0.25) 100%);"></div>
        <div style="position:relative;z-index:1;display:flex;align-items:flex-end;padding:12px;width:100%;height:100%;box-sizing:border-box;">
          <div style="flex:1;min-width:0;">
            <div class="big-card-title" style="color:#fff;font-size:15px;text-shadow:0 1px 4px rgba(0,0,0,0.5);">Tehilim</div>
            <div class="big-card-sub" id="big-teh-sub" style="color:rgba(255,255,255,0.85);text-shadow:0 1px 3px rgba(0,0,0,0.5);">Lire les Tehilim</div>
          </div>
        </div>
        <div onclick="event.stopPropagation();shareTehilimCard()" style="position:absolute;top:8px;right:8px;z-index:2;width:28px;height:28px;border-radius:50%;background:rgba(255,255,255,0.25);backdrop-filter:blur(4px);-webkit-backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;cursor:pointer;"><svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg></div>
      </div>
      <div class="hyy-hero" id="hyy-card" onclick="toggleHyy(event)" style="background:url('data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAAAAAAD/4gHYSUNDX1BST0ZJTEUAAQEAAAHIAAAAAAQwAABtbnRyUkdCIFhZWiAH4AABAAEAAAAAAABhY3NwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAA9tYAAQAAAADTLQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlkZXNjAAAA8AAAACRyWFlaAAABFAAAABRnWFlaAAABKAAAABRiWFlaAAABPAAAABR3dHB0AAABUAAAABRyVFJDAAABZAAAAChnVFJDAAABZAAAAChiVFJDAAABZAAAAChjcHJ0AAABjAAAADxtbHVjAAAAAAAAAAEAAAAMZW5VUwAAAAgAAAAcAHMAUgBHAEJYWVogAAAAAAAAb6IAADj1AAADkFhZWiAAAAAAAABimQAAt4UAABjaWFlaIAAAAAAAACSgAAAPhAAAts9YWVogAAAAAAAA9tYAAQAAAADTLXBhcmEAAAAAAAQAAAACZmYAAPKnAAANWQAAE9AAAApbAAAAAAAAAABtbHVjAAAAAAAAAAEAAAAMZW5VUwAAACAAAAAcAEcAbwBvAGcAbABlACAASQBuAGMALgAgADIAMAAxADb/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wAARCADIAMgDASIAAhEBAxEB/8QAHAAAAgMBAQEBAAAAAAAAAAAABAUAAwYCBwEI/8QAQRAAAgEDAwEFBQUHAwMDBQAAAQIDAAQRBRIhMQYTQVFhIjJxgZEUI0KhwTNSYnKx0fAkQ+EVc4IWY/EHNERTwv/EABoBAAMBAQEBAAAAAAAAAAAAAAIDBAEABQb/xAArEQADAAICAQQCAQIHAAAAAAAAAQIDERIhMQQTIkFRYTJxgRQzkbHB0fD/2gAMAwEAAhEDEQA/APWxaR7NuKV6habcgdKdh1I4NUTqHBHBryvUYcbj4lOLLU12YC/slMrewSfWszqVs0be4ATXpl3Yo7H2ccVm9U0YPgg/DNeXLcPs9eLVo84urfMMzDPAHWgry3Yxx8dB41rr/SniguMpuyABikmpW/dwx5JG5egr0ceRMXceRRBCe54FLrtNs7CnSBhCVUgHwzS65hMk0h8VXd061ZFEdz0d4HdISq9PIUuY4vPDrTZbZ5YQ6KCNvPPSlMhAvB8a3G97NyLWi24RRG2NoOKFt1jkgG/qPSjL1GSAEjjHnQ9mR9mxtyabH8ehOVfIoiVXuWjY8eFd3ESxxMQefhXMRzenjqKtvV2xtkEcDrRNvkDK3DZZA4NqmVUkeJFUQt/qpAQpBA6ir7RWe0G1ScDHXpQsYLXTqOpAoVrsNrqTm7PscADnwFcPyYs11dgjIIxz0rmT2e7NMnwIvyy22YgSKD1bgURHbMsu6NN45yW6k/LpXzSlEjS9cswAPkPGtEY4bdY0KHJIxgf5igp6YcraRmZwiSKoUqSvtAr40PG22Vh4Y8qfaxAjW7SYwy8g4pBE7LOWUDPwrZ7QNdM+e9I3NcqMlueldAkyucc+lcp1bjmmIWfFHvc+NSooJDVK0w/Vlpd74uDnNEiVsZIOKzOjXm+Hk9GrV4BsM+ma+dw8rTW/CPQzQof9Sr2XPyoC8tFfFdxXIRiOq+PpVsjZAOcg+NLbVybKqKMxfWDIkh6g4rPaxYI0abkHQCt9MiyqykUn1XTRLACg6UlNyy6MipaZ58+krsLBgdwPHlSiSwZJX4JBQjIrbvZsiEEdDS2S3UXDAqM4warx+oaR1YUzPWdu/wBjbCk4Tn6Vn7iLFyc9Q1bR4cxMBlc8HFZ6+tws5QryWBzVeDJ2xWbH0gO/RhAMjjAx9KBsv2bDBIx5UfeQKEO0k4HiMULajZCwxnNW438SHMvmCwj/AFQPrRepMWUZ/wA5oVRi8GRirr7LRnLbjjzra7tMyP8ALZ1ZlhbHAzzzQsHF6flVluALfny8qqjRnuW2qWyPAVyXbNb6k+XeS3IO7PTFRradwm2NjwPD0rUaPdxWVuI5Yo2cI7ndECcnpzU/6nayrh4YSRznuyc/SgWZp6S8BPAmttmfsEmt5PdAOc8sKdx6xaNEN7hT4g1072TA5hgHOPeI/rVLx2Zye4XAGThwcCu5qvKM9rS0mLdU1FbpDFCR3YPtHPWliZDk7Qc+tPpLW1P/AOO4J6YFUmxtmOFJU+oFMm50LeOt+RMu4SFiK+LkFjimz6eoOFkVjjOPKubixa2Kq2GZ13BVIPFHzkB4qQpU4DVKYC3kI5CL+dSt5oH22et6PqPdxPz0at5Frdu2kqu8d40ecfPFeQaLfRmZxdd53ZOT3WN351uY7nS/+nypH3wFsoMmU9vJPXPQ/Cvnbbw0/wBnrVKyJbDxqAVmcYIPDDypjaXYK88xmsb9vhaVhblzG2Md6Bu/KmNhfbW7tm4PT0NI00NcKkaOf2F3rkqTn4VzIVkiXJ69DQsV6EO2U8EVZP7O2SM5THIrtC1OugaezVyQwC5PvUi1DTDDcttxIo/Gvl8K0UV7DKCM5AOPUVzcQptyeV81oV0Nmnvsxy2yqGAdDgk8ms5fW7G5Lnkdc1s9Rhjjk3RxFifxA0va2ik6xgHz6iqMduexlLkjIX6o8WEOSeo8qULCYWOfd8RW3vNN25wgwfFRSqTSurMCceZxmr8WZJEmXC6ezKd2wm7zacZ8RREUcV3ewQEMUeQB8DBxnn8qZ3NmnO0KpHm1S00e6LR3IhYoG97OB9elUPKtbETia+I4h0zs9Fp0kvdOhVwoDNuJzk558qoay0d0JiuZ0TgcxggH5Usu5Ht4pLZoJSwcEMgJUjHnQKagYEZAZF3EZzkdDmkxNvvZRTiehjPpcDSZttXiRQMe3GRnNCSaHcbcR39pJjybGa5fW2eYSZRtoIw4Vs58+K4a/jd48xx43Zc7SOPLg06ea8iK4MrbSdTXoiPj92TNDyWmoR532snyINFSXkQTfEm0A+0oc5IPgM+Ir6LuIsAkk/XwIOB+VMVP7FuZ+mLjLcxE7kkTJz7pqt7x24aQ+XNMnvUMiqJQwI5LDGD+tU/a4XJDRq3B48zTFr8C2v2Amc8nvMnHXNFx3Iad3kYABFA5q23h06eXbMhVQpJxxzjpVAsbNwxErJjpnxrm5YKVLwSTUIhkJlj6CpXKWCH2g3sHoPMVK74IHVs1em3NmLUo1r/qRLnv+8OCvljoMedNYteDm7jEewz43kvkDB4xgUkhfSVI7pJn353rO+FQ+HKjkV1buwuZYFlhZXG3cCQOD1xmvJzRNNt7/ueribSQ/XUbJbXYlt/qWcEzCQ4A8seOaKW/aSRJHYsAAOOOBSxH0McXSyxsgGDbuWWU+PvDgfCuPt32i4kkVFjRz7KKAAo8BQKE10mbtp9mwiumuYA2cSRjGG6EeVFQaoAVX/bIwQfCkFkXaOKQy4w3tJnoPOr9VDWN4HDKyMvtFDkc0pwbtDG8iaNxc2xOD1Aq6z1UNEAxO4cFCKXWmoIi43b42HFfLq2Rwbi3LIwHs4/Wl6+mHobywxTIZYQGJ6qazt7Zy4ba8kRPBIPsmmFhfH3STvHXypk6xXkQDID44Ncm5ZxhZGuoGw5c8465zVLRLctkExS9MdRWpubMruVoxtY8AeHwpNc2EokYW+enA6k1RN78A6RmJ9JZp9rHALAEnyzW1TtcquYe4iEMS4RNgxgDAFZ55bq3bMiF18qI1bSrjTmjaWAsJ49w7s79uR0OPEUzK+aSZkKZbGV32ptxKEaztiCMncmTVD6hpl1b96dOt3XJB2tgjHpmspdOrSA7GUgYIKmhheRxrt2RsRnBbORnrRThWujnkNFdWeiTgs2lyqCAwK+R8Rx0pTNpOhSn7o3ERzg5A4oBtQBJxuQHg93JjAz4V8k1IyRSxNJIFkGTk53HOQPh/wA1RE2vyIqof0jttCsmP3OoMOccqaol0GVc93eRvg45OK+vqjOsCYQ92RuZox7XGOcdagv4nwWiUAkkhXK4H1NPTtCGsb+gZtIv0HAjf+VhQ72l5H79uflRz3ERD7O83AAqCwI5xxVf290fDZ9nw8KYqoU5gBUvESXhccEdKr7wYIIYU/l1C3mYh4xtVFA2ccgc/XNUSNbssXdIveSOcEnOBwP0NdOT8o54/wAMBF/sgSNEyQMelSijAiE7V58T41K7c/gDjX5CLX2hkEl/jTG3QmSZu7BlEW4RhCc89eB0xzmhodKltbdpL+ZbcjhbdTumc/y/h+Jom3VrS7lj7+Us8WFdWC7CQOPUeFSZqmvBbhVT5OOsx73cXHByaPtpoiAAqqRVt/2YmtolnXeAwBBmGwSE+Knx58PzoEWVzBKVkt3jIODuGMUKuLXTNU0n4H1teKGMZlCq5GcjpTFLiKdu6MisNuOlZ+KOUOrxD2l5G7zo23trkSB+4fcPa6cGktS/sZ8l9BYH2W4a3kc7Scg+VaDSoJrmRbeMPIWHQ4/zFL4dNfUVjaSJkwRl8cgeQHiT4Vv9C0iPSLLncZX5YsclR+7mlKVb0Zky+3IpHYzvGDNdrGw67Uzj50dF2ZtYTue6ct5gAU3dwOSR86pZ934s4PgcU324X0R+9kf2DSaTp7D7xnb13f8AFA3Oh6RJwWYHHH3lGXFwFJ9rI69cZ+uKUX93IqFgep8zj9RQ8J+kMh39sUan2etYZe9hnOD1SRQQfpSmR7qB3BPDA454xXV7qMneEIxAL9Mdf0I+FWxPa3VqVvvYhIzuDe6fAg114fjspx5XvQulljUMHjDEjqMcGk1xFJJn/TNKP+zurf8AZ/TdOg0tL1Yu/eUFg8vJXnwB6VRqN4Tu2tgehpEU0+ihLn0eY3FrbKT39iU9QjJ+lBGysJGwjyIf5s1t7u6dskyN8iaSXroykuqt/MAavjJQq/TIzcmnAEiO5zjwYVQbC58NrfA0xlSNicIAf4SRQ5jJ4WWRfRsGrJpkN4tADQ3Ce9CflVZcj3gw+NHlbhM7WzjwB/vVRuXBKyKD4cjpTEydrQMJgCcHrVlrMqXUTM3sgnOT8avT7HJIgkjyCwyV44qqW3tWdjGzIM8A813TM+QTcajCuQntn06VKBWJMcc48fOpXKZRjqmaPT763e6+330tybkEHvIZVDH680VFeiS++0csryHDTjcT8TnNPbXsFZ3ad5Bd3EWOqyIkq/ofzqi4/wDp1qYbNrfWcx8FeJoz/QivMqsTet6PRnkl2gxNStcCJLCG9vB7ksjyPt9AlF2q3sJnutXxGrjLGXC4I6ADoB+dZLULTtL2YYLNMLcnoIJ0LfQHNKzLfX8oaWSSVj+KRyxpf+GTW01oOc2nrR6Jps1ve95LFHH3avhSRjIp5AIZCoUhieMAVkNBgFjZOZZWdnI3ccCtt2e0o3chDFxGADKTxgHkIPU9T5D41BUcsjUllWox8qHeiWCvtumUd0n7IYxuP7/w8vrTlmzkYyK+M6oBGuFwMAAdKoeUcjI4HmP716MSonSPEu3krkzp5MLwMDywR/ahp5W24GScZOOf/wCq+bw3OVwoAY5HHr0oS5uQVYoQ6rglgyHA+BFa2bMlN3dMgO7coPT3x+fIzWa1K7XYCWO5ySGyMN6bl/WjNSvliIZQFPTByg+oyD86zl3cSPPucYdumRhh6DwNMiN9jt6RSczXBUgY4JyMcf0PxFDXLSalqMGlW5OXYF8eAq6eVLKzeYtwBnpj8vCm3YLSykU2tXgIeb3MjkLWZa4objX2a02K2miIscbkINiIgznzNZzVLIQWtuWLC7nVnMbMFCID1Oemab6ze97KkjW9wtpGoGAMZHjz0586z+p65YXbTXEttNHIZF2yiJZNkQGNg3cL8aj130Ph2lsQ6jY38LOGtZQFUOxC5AU9DkcYPnSGc8EuDz0J8a2eoaxC8+qz3scsNnd2iQ2sQwrsoIIAHh45PQZpVJdyXmk2p00wi6d2WblR9nQe4g3e6mOc+PjT4t67QTytrtGTPXOeKocgda1WsW+krHd3kUYmTMcERhOxZJsZkZfT5daW6hotslzeRwTyq1rCJXWRQVXgZXcPHnyqrHml+ev/AC/7Jr78CpHZrbuUYs8rCPb6cUX2i0uNZzc2yBRtAkQdAemR+WamhW4m1AORxCCx+PQfr9Ka3Dqsc0z42BTnNMb410Ia5LsxghkVgwxwcjNVMkgJ9nPwpvHNBKmXiHKg5UEdfDrVEix9U3rnzzTFke9NAPEtbTF++RYwqrg+JqUQyZJ4+eKlM5oT7bPSbTtZZafEY41kvZP3YfZTPq5/TNcXPafXNTXu1mTT4D/t2oIYj1c8n5YpBbLHGmWIUDx6D618m161tQVj+8b04H/Nef7a30tl3JeaG9r2Zj1KQSlWwhw759ok+Z6mnR7OXFjFtt44mGPZJxjPzrMaFqvaG9umj0xBGrYMhx+EH/Oa9Hk1qO3t5EurEJOMbY1X3yegHrUHqVkVcd7/AEVYqWtpCrSrC+luooZO7Ez+6qgYGOrt6D8zXoNrBDp1msEXur4nksfEn40r0SwNjC09xg3c+DLjog8EHoP60eZHeTIjJx0JQcfU0zFKlEvqMjyPX0Wyz5X2ivzx/wA1T367CwkO1QCSCR4+g5rtjOwzhs8cbgP0qhu/HXdnIH7U4x4mnbJlJVcXQTIMuGBHHelefpS29umWJiW3DrlgJAME+XPFFTm4z0mAJ5xIGH0I6Vn9SkVztcp3hxtZkMZHpxx0565rZ7Y5LSFupXrncVI6AkoT7Px8R9DQMdw026OVe8C87iMfDj+1cTlmcZ3qxOFMp5Pwbz+NUX96bGxaSRtz444wSfCqfCMS2ykwSa/r0GmQ5MatumPgBXol0Y7CyS2iAVUGBg0i7B6Z/wBP0qTUbpf9RdHdk+A8KK1W5VzjJIzzgVBlrlWl9FuOew2SZL/shcLcTmGO1nH3pyePIeZ5Ix8KzGrRpBo8L3MstnZzndb2cWDJL/7khPHl9eBVmta5BJocOl28EsSRvvcswPeHnk4oHWdX03X/ALLPdzz2bQxCOSJId4bHihzx86yZraf0Ypaf92LbjQO9j0+4tJmaK/YonerhkYZ4OOo4PNL7rs9fw9+wSKf7MfvBFKrFR57euPlWlttcs5ZGuA0VvBp1uy2Vq7je7YxuPhnAx8zSmzabS+zF9qzkrc3ziON+hAJJLf1PyFMjJlXT/S/1f/CMp/kz0xvrIxmRZ4drb4xIpAB8wDxXw6vcvDeROEdr1g0smMMcHPwxTjVpXteytjZzu0k9w5nO9ixRfADPxH51nreFriZIl96Rgo/z/OlW42sk7a+/9mTXtPo0WjW/2fSWmPvztkfDoP1+tB9oZ+605bcE7pyB8vH/AD1p2yojR26cRxqB/asrrF19o1d2A3R2q5x/X9K2PlWwL6nQ3stNgisolkiLSEZYbCeT/mKYQ9lr275ise5jP45hsH58/lSvRdZunl74TOJP3oSDj/x61srLtBPP7JlScjrnhvpU7xWntsoWeNalAcHYqzgXfeStMR+CEbV+vX+lSnZuu9GVOPQipWaZnLZ44Xu7v3nOPLNNNN7PXNy4bu2+J8aI06wXvFVo5omH4mTitvo9sbcBzhh4sWwFApmbO11IOLAvNFeg6I2lo93O5t0QZdunA+NO7K4SaUdotWcx28YxZQsM4Xp3hHmfD61le0Ha+K8ZIYl7+ygOSiEssjeBbHO308az9zr7ahM0tzqLFm6q2VAHgAOgApE4Lr5PyHWSV0eqN200oupjuJztOSFjxu9Oa6btvbY9i1lb1ZwK8ojmgf3byM/+Yote6x+2VvgRWvFoFOWeiv2629LaBf57n/iqv/Xas3Nvbt/LdDP5isB3cfPAI+Ar73KnkKuPVa7ggkl9I9BHbGzkGZYZoh+8AJF+q/2oe4u7fUF3xSJNGeMqf8xWDMK8lB3ZHipK1xHeXVrcCVJDvH4vEj18D86ZKSBpGmuLcxuRuDRfut+H4UqtLN+0faJLXP3Fv7cmOcnPSurvW430h7jIWQeyVz0Pn8KH7O9rE0G1f7LppurmU5eWRti/qT+Vbk5uXw8nRqfJ6RdyLBbLDHgKgxxWa1C62k46Unue3Gu3jZW3s4fLAZsfU0C+s6zIPvIbVwfJSP1qaMNLzoqjNKXg7u5Q25s4+dK5JBgkmrZprmUEyWDD1icH+uKWzEAkv3kQ/wDcQgfXpVcQZWaT5JICelVGRk5jcqMg4BwM19Cs+NmGHmCMVwY5X2hY3Jb3cKeaoWiWns7vdRu78o11MZmjG1WYDOPLNMezduHu5blh7FuuB/Mf+M/Wl32buLaSa44bGETx3HoflyfpWj0q1NposQYYef7xvn0/LFLpyp1ICTddlk8/2eynuX8ATWLEpS3nlZjvl4bB8+TWk7TziKxitFOGmb2vQDk/pWUaZJY2XBBJ4o8M/HYnLXZ9hyMOuePEHpTu11W5VV7xlnA6d71Hwbr+dIY0cHKBgfMcUbHNKgxJFuHmBtP9vyptJMVLaNXbdpXj4csqn8Mntr9RyPzqVm47mJhjcUPk4x/xUpftob7ht9BuVQANPtA8MnH51q47iNY9zpEy495EG76Vh9GvRGoHcgkePhTeW7XvAQDHv5HiBU14+VtNFE1qdpgd72a0e+meRbG4gkJJMkcxJJ/lJpXL2HZsm31Lb5LcKyk/PkVoFvVkdVjYuehHn8qbwajBEwXu8zEY7tDu/wDimPlK6A+LfZ5zP2L12JSy2q3Cj8URV/6c0puLG6s223Fr3ZHg6shr1u5udP063W61OVYQ37O3gAMsvwx1+PT1rO6rrGta7A0NttsrL3e6Uguw/ib9B9TXLK12zPbTekYAOyfhkX+WWuhfTL0ublf/ACz+tPn7NXgXeV4HkKBbR5iTjKjyZcUSzQznhtASardofZvW/wDNc0Qus5/bIrDxaLj6iu30YhMsMnx20G+nEP7J2keOcUW8dA8csnyXVWmcDuvugQcZ5OKOjv7VVVnfj90daVS2jRn2kB9QcVUYpgMxgqPQmj4Q10BzuX2aWPVtLyPvCPipo+G8sZsCKeMny3Y/rWKzODhl3fFc18Yke9Dj4Eilv08v7CXqKXlHoKgKQdpx6HNWiS2dMMQD4gjFefwX0tv+yuZ4vTORR8XaG9XhpoZx/GNppT9NX0x0+pl+TTXWh2VwDIqoD5rwfypTLos8WTDcMB5NzXMWuRtzJbSJ6xHcPyolNYtJPZN0BnwcEViWWTd43+ii30/UL6eC0nUGHeNzr+vyzWnlKtPgDCrwB5AUrt7tQQ0UgOOhVs0RfXsdvpU92GBZRhR5MelA26aWgkklvZlO0F79pv53BBSP7pMePmaVQg5yEBruRWZkjHJAy3xNMtI06fUL+3sIVUSTyBFJ6AnxNXdTOiLTqtlMHeHoFpsttNPCAkTMSPwpmnINnpjtb2UCM0ZwbiZAzsR4gHhR6fnVUutyE/eXxGPDf/alc0MUsQzaRfKeYJcf9o/2qU6TWsE7L059HNSu5m8UBafqDwA/eMF+NNhr0u2PuGkTafwdWrMwlEH3hHHn0FEx6hIRts4wc/7sg4HwHjT7iH2xUXSWh+2oLFE01zL3CMfb9rLufVvP0FDrrF5LlbCMWsR/3HXLt8j+ufhS2G1LuJZ3aaT95/D4DwomW5gs03zSBfIDqfhSKr6kdK+2EJEzzNNM7Syt7zuxZj8TWk7N6rpFvBeQXzx+wVdjt3bfDHnknwGTXnt7rc9xmKHMKeQPtH4nwpj2Q0KHV7mWa7M/d2xVtkHU5zznr4eFJyYlwbyMOMjdahHso0TT5YxsDRkjz4pVfdn0cvDDKJXxyix7iB6+A+dB6j2ht9IiglWBphLIIgXkKLHweWyDxxR1r2o0iKxQQ3UuCu5ykLHLeJJxyc158Y6a2UunL1sz0/ZNowwMHdv/ABTjNKLnsuEcLJMYGb3BIQA3wOcGtBqPaewnZpI3uLjZwdkfAPxJxSmTWbm7hX7DbIJo5CyrduuCMYLDnjr+Ypi9xP8AAe5aFFv2djmvO5muGKKpZtg9o/Xw9atutBsILbNuO8l/jYsTRgvdeUd5LcaeHyAqxygbc9c+fH6UCs8N4zC4vpo5R1DzpHz8MDPyNPi615F1C34EptUaQxTRtET0Zc4Hrg0Jc2MltKYpYtzD91twx51oFhsAzq1wXZVJLIBIceWAT1+OPhVb21tcSzT2k8MillBUeywHl6kZpvu6WxftbejMtAS2CuPTGK4+yq3gB8q2n/TXhl2FwR0BbBqiSxuQeLeORc9V4NCvVI1+kMiLI59gNn0yK7+yXI43P8G5/rWrk0y5YDubZGJ/CD7X0o+x7Fa7dn7y1jtFIBBuDgn4AZJ+lGvU7Wxb9Mp8mEW3nVuIwT5gFf6VYz3JQpL3rISCVaTcOPQ16P8A+hYLTDajrCDIyIo1wx+pqp+zWgIC081yjD8AYZPrjnHzIovf2D7K+jzuGF+8ZmTJY5p52bkki7SabJjYVuUx6c1p5exFkpEkt3dWsZ5ERCtIw+Hh86LsdP0vTJkks7JS6EESztvfj8h8hXPJyRijRZ2x7N22oXEk1tOLG5Jy6kfdSHz45U/lXnl1oWq2hO62Mq/vwsHH5V6zr7LNumH4xmsVdyPGzbGIzxxWYbaR2SdmNMjwsRJEwPky4qU8mvLkHHfN86lVbJ9fsTwIsl3JFIS6xY27jTRCkabmIAHielIvtQhummQbw69OnP8AgqH7XfHhSw8B0UVrhvyYrS8DC61kKCttj/uH9BSwvLNIZHZiT+JupplZ6BJK2ZpQMdQoyRWn03svbFlLxlvMyn+goW5ldGqavyY2OBtgIBwTwRTfRLjUrS6VtOlYSsw42ZzXpdjoNlDbvBPBBPG/gU/z8qHm7LraIX0n2ecmNjz8j/epsmTaa0VY40/Iq1Wa9sNJkeFUllkwJSRuwfUHO4enQUjzfvcSd9L3MJw0aSZWJmxy20jn/inpmmSRY5IXRgcMrAAiuppZWkVFJWE8nnPNRzXD6LHPL7E1vcXtvK264sZS5yZVUvIfhmj+5F20cs0TugYGRrhc95joAOoH0FMbU2O/2ZGDAYz0z86u+zWUpxv2tnn2iaCsi/AUxoEmtbWRDshFqyqQjRRhc/GhJbKeU7O7hMa/uRK35tTswWyKu1Bx0ISpGHuZRGoRRt3e02OAcdKVPJ/xWxr4pdvRmRpVpbzNI0TEt7wC7fyXFd22npe3cTaZZFXhbJMKnJ8waa6hqWmaejrviuJ1Pulwqj4/58qTzdr7jA++7mMe9HbrgEeHLYHz21fj9Nmvu3ojyepxR1K2bCw0M3cwivHgtR12Bg0jn0H/AM9KYyaX2esSv2n70j9+QKM/AcmsTpVh2g7RSLPGj2dmo/8AuZDlyP4SfP0wK1VxbaZomz7U8l3cE4ESNyD645JP+Cl5PT48b0nsGfUZMnnoYw3MQbu9NhjiUe8IIMED1Y4/OqL/AFG4iiaV4j3SDAjBJMh9SMZ+HPypFq/ay+hiSOZjaiTmK0txmTb4ZP4fzPwrJXfam6nnMffMi5z3UUufq3/JrYxNmO0h5qusSW1o9/dssc7sEjVV3MvHkMYOOmelddkFa/F5rVzAAlqyx20b+17Z5LnwyB+ZrNRpLqDd7cTLGqnKqM4z+tavsff2toLjSruVY47wgxSseFkHGD5A0bqZ+K8ncaa5DFklkYtJuYscluuaiWMszYRCT5kU7ijNvKY5VxjrmmEJj2MEKhutY6BM7cWsqWQSXDbRg48qyWowBScVu9SnYWErQsomDY2sPDHX1GawOo6pGCVuYjA/1U/A0WLbZlaSENyhDGpXy5njcllkUj0NSrV4JX5BYtHQYOwnyLHIpnbWWDhuvrwPoKKgVNuCeBxtX2QPnRkTLHETHhR5rwfqa1syZCbKwWICSVSFHhwtOLefusd2qxKfxdPzNKIpdp3cZBzkjqPnyaIW6bHtMEGcru45/rSGtjl0OFvZVVtpMhPRgMD6niiY74Bc5LHxJbI/tSAXIA3KxBP7xxn681YL3DhpNvTADDH5daByGmO5Z7S+jYXKDYP9zPu/PwpNeaLcw5ksZO+ibkge9j9atW+kdcBVYEZAZcL/AHohtTt7WPfPKkSjzP8ASluEMm2jNi5a33Rrb7T4nacivn2y4VQwudmfBRg0TqXaCxv0ZIbQyuPdlb2cfCkbXLgbmI+gzS3j19DpybQZfalLbxpMm92VgWyu7p6ZFJLnXtV1GN45pZ8ZJVYcIOfPFF/a5eQWDA+YqpLnZKWMa48cMQaoxZHjWkhGXGsj22A22k3k8qpBb4kcgDcMkn8hWm0TQLfTpVuL4fartziJDhsN/Cp4J/i6D1pfH2n0+2dQveIxQ5cpna3kB4/E/ShW1h2lNxJKyRsuSyNudgOgLeXoOKsSul8mRNxL+JqtW7YXcQNvbTOJ+QWjb2YvAAeZHPPn8qJ0K6ihBkvbrdqRgLwsw8Scbvjz/mK8+eeWRLa7iQBN53L4Ag8Kflz86e3OqOI4ZM/6baBFJjd3YwMxvjkEEE5wc5zikZVP8UOxOvLA+0MOovqMz3CP9nLbY2A4dfU/pQQgiCqDtJ8MdKexa9dQwYZu8t853oQ6j4kdPmtSa4j1FDJFDbySDGF7tSG+YPFKp1rSHxx32JVuzG20yHCjwFfJbhrhGDf1oqQQxTBLuxmg/lPB+Gf71Ft7SVvuLkq3gsqhc/MZFL6Xehyb/IRpXb3UtKiS2uh9ttU4UOfbQeQby9DWt07t5o92VPfNA/7rivOb6EEsrtsdTgqRilTxAHG7Jp8xFojuqhnsE9+lyzPDcJKD02tSDUkL59ncp6jyrz5Lm6t/2czr86Kj7QalH/vk/GiWBz4YLzp9NDK5srdiSI1Hw4qUvbtDdSftUR/ioqU5KhLcM0UcgwQ2SRxnxHzNXLNuO7p5keI+JqVK5oJFiXBHQkD94D+p611HPnhNzDOcr7I+p5qVKHQSZeJNuTv2g9cDn5mqZdYtbbOZN7Dy5P1qVKxJM1toXT9ppmJFuu316mgZJru6YyzSbf4nPNSpRKUgOTZdp2pDTJ98bm4J4dSMhh5c1JrmO5keXYIMn9nHyB9alSguV5Dx096BjIwJZGyo8WrlZnZ8jB+IqVKVroft7K5IY7hsuvJ8sVX9ijBBJx8+tSpXcmukbwl9tFyOLVh3EpGRyAMg+hHQ1dHqLROXFuuSMMYjs3DyKnKmpUrv6nf0I8+nFxNFJNYz+YX2fqOn5ivp7ud8zNbO3/7oZO6b4kdD+VSpRNaWwE9vQfY3RtHMVzqUd9Zspzbv942fDHkfnSiaPMjMkNxErE7VbqB4CpUodfYSf0X3jAWFo02Rcksh3dXQY2k/Uj5UA2Dz3YI86lStnwY/LRSysvG3g+BqpkQHkYqVKdLYipRz3cZ/FUqVKPYvSP/Z') center/cover no-repeat; border:none; padding:0; position:relative; overflow:hidden; border-radius:16px; aspect-ratio:1/1; cursor:pointer;">
        <div style="position:absolute;inset:0;background:linear-gradient(180deg, rgba(0,0,0,0.45) 0%, rgba(0,0,0,0.7) 100%);"></div>
        <div style="position:relative;z-index:1;padding:12px 40px 10px 12px;">
          <div style="display:flex;align-items:center;gap:8px;margin-bottom:6px;">
            <span style="color:#fff;font-size:15px;font-weight:800;text-shadow:0 1px 4px rgba(0,0,0,0.6);">Hayom Yom</span>
            <span class="hyy-date" id="hyy-date" style="color:rgba(255,255,255,0.75);font-size:12px;text-shadow:0 1px 3px rgba(0,0,0,0.5);"></span>
          </div>
          <div class="hyy-text" id="hyy-text" style="color:rgba(255,255,255,0.9);text-shadow:0 1px 2px rgba(0,0,0,0.5);font-size:11px;line-height:1.4;overflow:hidden;display:-webkit-box;-webkit-line-clamp:4;-webkit-box-orient:vertical;"><span class="hyy-loading" style="color:rgba(255,255,255,0.6);">Chargement…</span></div>
          <div class="hyy-expand" id="hyy-expand" style="display:none;color:rgba(255,255,255,0.7);font-size:12px;margin-top:4px;">Lire la suite ▾</div>
        </div>
        <div onclick="event.stopPropagation();shareHyy(event)" style="position:absolute;top:8px;right:8px;z-index:2;width:28px;height:28px;border-radius:50%;background:rgba(255,255,255,0.2);backdrop-filter:blur(4px);-webkit-backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;cursor:pointer;"><svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg></div>
      </div>
      </div><div class="hyy-card" id="rambam-card" onclick="openRambam(event)">
        <div class="hyy-header">
          <span class="hyy-icon" style="padding:0;overflow:hidden;"><img src="data:image/jpeg;base64,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" style="width:100%;height:100%;object-fit:cover;border-radius:inherit;" alt="Rambam"></span>
          <span class="hyy-title">Rambam</span>
          <span class="hyy-date" id="rambam-date"></span>
          <button class="insta-share-btn" onclick="shareRambam(event)" style="margin-left:auto;"><svg viewBox="0 0 24 24"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg></button>
        </div>
        <div class="hyy-text" id="rambam-text"><span class="hyy-loading">Chargement…</span></div>
        <div class="hyy-expand" id="rambam-expand" style="display:none">Lire la suite â–¾</div>
      </div>
      <div class="hyy-card" id="tanya-card" onclick="openTanya(event)">
        <div class="hyy-header">
          <span class="hyy-icon" style="background:linear-gradient(135deg,#0e7c47,#34d399);"><svg viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2L2 7l10 5 10-5-10-5z"/><path d="M2 17l10 5 10-5"/><path d="M2 12l10 5 10-5"/></svg></span>
          <span class="hyy-title">Tanya</span>
          <span class="hyy-date" id="tanya-date"></span>
          <button class="insta-share-btn" onclick="shareTanya(event)" style="margin-left:auto;"><svg viewBox="0 0 24 24"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg></button>
        </div>
        <div class="hyy-text" id="tanya-text"><span class="hyy-loading">Chargement…</span></div>
        <div class="hyy-expand" id="tanya-expand" style="display:none">Lire la suite â–¾</div>
      </div>
      <div class="hyy-card" id="houmash-card" onclick="openHoumash(event)">
        <div class="hyy-header">
          <span class="hyy-icon" style="background:linear-gradient(135deg,#b45309,#d97706);"><svg viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M4 19.5A2.5 2.5 0 016.5 17H20"/><path d="M6.5 2H20v20H6.5A2.5 2.5 0 014 19.5v-15A2.5 2.5 0 016.5 2z"/><line x1="8" y1="7" x2="16" y2="7" opacity="0.6"/><line x1="8" y1="10" x2="14" y2="10" opacity="0.6"/><line x1="8" y1="13" x2="12" y2="13" opacity="0.6"/></svg></span>
          <span class="hyy-title">'Houmach</span>
          <span class="hyy-date" id="houmash-date"></span>
          <button class="insta-share-btn" onclick="shareHoumash(event)" style="margin-left:auto;"><svg viewBox="0 0 24 24"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg></button>
        </div>
        <div class="hyy-text" id="houmash-text"><span class="hyy-loading">Chargement…</span></div>
        <div class="hyy-expand" id="houmash-expand" style="display:none">Lire la suite â–¾</div>
      </div>
      <div class="big-card" onclick="switchTab('sub-club')">
        <div class="big-card-icon"><svg viewBox="0 0 32 32" fill="none" stroke="#fff" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round"><circle cx="16" cy="10" r="3.5"/><path d="M10 24c0-3.3 2.7-6 6-6s6 2.7 6 6"/><circle cx="8" cy="13" r="2.5" opacity="0.7"/><path d="M4 24c0-2.5 1.8-4.5 4-4.5" opacity="0.7"/><circle cx="24" cy="13" r="2.5" opacity="0.7"/><path d="M28 24c0-2.5-1.8-4.5-4-4.5" opacity="0.7"/></svg></div>
        <div class="big-card-info">
          <div class="big-card-title">Chabad Club</div>
          <div class="big-card-sub">Éclaire le monde</div>
        </div>
        <div class="big-card-arrow">›</div>
      </div>
      <div class="big-card" onclick="openBethChabad()">
        <div class="big-card-icon"><svg viewBox="0 0 32 32" fill="none" stroke="#fff" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round"><path d="M6 26V14l10-8 10 8v12H6z"/><rect x="13" y="19" width="6" height="7" rx="0.5"/><path d="M16 6v-2"/><circle cx="16" cy="3" r="1" fill="#fff" stroke="none"/><rect x="9" y="16" width="3" height="3" rx="0.5" opacity="0.7"/><rect x="20" y="16" width="3" height="3" rx="0.5" opacity="0.7"/></svg></div>
        <div class="big-card-info">
          <div class="big-card-title">Beth Chabad</div>
          <div class="big-card-sub">Trouver un Beth Chabad près de moi</div>
        </div>
        <div class="big-card-arrow">›</div>
      </div>
      <div class="big-card" onclick="switchTab('sub-sidour')">
        <div class="big-card-icon"><svg viewBox="0 0 44 44" fill="none" xmlns="http://www.w3.org/2000/svg"><!-- Tallit drape --><path d="M10 14c1-4 5-7 12-7s11 3 12 7v20c0 1-1 2-2 2H12c-1 0-2-1-2-2V14z" fill="rgba(255,255,255,0.95)"/><path d="M10 16h24" stroke="rgba(14,165,233,0.4)" stroke-width="1.2"/><path d="M10 18.5h24" stroke="rgba(14,165,233,0.25)" stroke-width="0.6"/><path d="M10 32h24" stroke="rgba(14,165,233,0.4)" stroke-width="1.2"/><path d="M10 34.5h24" stroke="rgba(14,165,233,0.25)" stroke-width="0.6"/><path d="M14 16v-2.5" stroke="rgba(14,165,233,0.15)" stroke-width="4"/><path d="M30 16v-2.5" stroke="rgba(14,165,233,0.15)" stroke-width="4"/><path d="M14 32v4" stroke="rgba(14,165,233,0.15)" stroke-width="4"/><path d="M30 32v4" stroke="rgba(14,165,233,0.15)" stroke-width="4"/><!-- Head --><ellipse cx="22" cy="14" rx="4" ry="4.5" fill="rgba(210,180,140,0.9)"/><!-- Beard --><path d="M19 16c0 3 2 5 3 5.5 1-0.5 3-2.5 3-5.5" fill="rgba(80,50,20,0.5)"/><!-- Body under tallit --><path d="M16 20v16h12V20" fill="rgba(240,240,240,0.3)"/><!-- Arms forward holding siddur --><path d="M16 22c-1 2-1 5 2 6h8c3-1 3-4 2-6" fill="rgba(210,180,140,0.7)" stroke="rgba(255,255,255,0.3)" stroke-width="0.5"/><!-- Siddur (book) --><rect x="18" y="24" width="8" height="6" rx="0.5" fill="rgba(14,165,233,0.6)" stroke="#fff" stroke-width="0.5"/><line x1="22" y1="24" x2="22" y2="30" stroke="#fff" stroke-width="0.3" opacity="0.6"/><line x1="19.5" y1="26" x2="21" y2="26" stroke="#fff" stroke-width="0.3" opacity="0.4"/><line x1="19.5" y1="27.5" x2="21" y2="27.5" stroke="#fff" stroke-width="0.3" opacity="0.4"/><line x1="23" y1="26" x2="24.5" y2="26" stroke="#fff" stroke-width="0.3" opacity="0.4"/><line x1="23" y1="27.5" x2="24.5" y2="27.5" stroke="#fff" stroke-width="0.3" opacity="0.4"/><!-- Tallit fringe (tzitzit) --><line x1="11" y1="36" x2="11" y2="40" stroke="rgba(255,255,255,0.5)" stroke-width="0.5"/><line x1="12" y1="36" x2="12" y2="41" stroke="rgba(255,255,255,0.5)" stroke-width="0.5"/><line x1="13" y1="36" x2="13" y2="39" stroke="rgba(255,255,255,0.5)" stroke-width="0.5"/><line x1="31" y1="36" x2="31" y2="40" stroke="rgba(255,255,255,0.5)" stroke-width="0.5"/><line x1="32" y1="36" x2="32" y2="41" stroke="rgba(255,255,255,0.5)" stroke-width="0.5"/><line x1="33" y1="36" x2="33" y2="39" stroke="rgba(255,255,255,0.5)" stroke-width="0.5"/></svg></div>
        <div class="big-card-info">
          <div class="big-card-title">Sidour</div>
          <div class="big-card-sub">Patakh Eliyahou · Tehilat Hachem</div>
        </div>
        <div class="big-card-arrow">›</div>
      </div>
    </div>
    <!-- DONATION BLOCKS -->
    <div style="display:flex;gap:10px;margin:12px 16px 0;">
      <div class="don-card" onclick="switchTab('sub-don')" style="flex:1;margin:0;background:linear-gradient(135deg, #6228d7, #ee2a7b, #f9ce34);">
        <div class="don-card-inner">
          <div class="don-card-icon"><svg viewBox="0 0 24 24" fill="#fff" stroke="none"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg></div>
          <div class="don-card-text">
            <div class="don-card-title">Faire un don</div>
            <div class="don-card-sub">Soutenez les Beth Chabad</div>
          </div>
        </div>
      </div>
      <a class="don-card" href="https://www.allodons.fr/" target="_blank" rel="noopener" style="flex:1;margin:0;text-decoration:none;background:linear-gradient(135deg, #6228d7, #ee2a7b, #f9ce34);">
        <div class="don-card-inner">
          <div class="don-card-icon"><svg viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="7" r="3"/><path d="M7 21v-3a5 5 0 0110 0v3"/><path d="M17 10l2 2 4-4" stroke-width="2"/></svg></div>
          <div class="don-card-text">
            <div class="don-card-title">Rejoignez une campagne</div>
            <div class="don-card-sub">Campagnes AlloDons ↗</div>
          </div>
        </div>
      </a>
    </div>
    <div class="daily-quote">
      <div class="quote-decor">✦</div>
      <p class="quote-text" id="home-quote"></p>
      <p class="quote-source" id="home-source"></p>
      <div class="quote-dots" id="home-dots"></div>
      <button class="insta-share-btn" onclick="shareQuote()" style="margin:10px auto 0;"><svg viewBox="0 0 24 24"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg></button>
    </div>

  </div>

  <!-- SUB-PANEL: OBJECTIFS -->
  <div id="panel-sub-objectifs" style="display:none">
    <div class="obj-story-bar obj-story-bar-scroll" id="obj-story-bar-sub" style="position:relative;z-index:2;"></div>
    <div class="daily-objectives">
      <div class="obj-header">
        <span class="obj-title">Mes objectifs du jour</span>
        <span class="obj-counter" id="obj-counter">0/13</span>
      </div>
      <div class="obj-progress-bar"><div class="obj-progress-fill" id="obj-progress-fill"></div></div>
      <div class="obj-list" id="obj-list"></div>
      <div class="obj-complete-quote" id="obj-complete-quote"></div>
      <div class="obj-reset-wrap"><button class="obj-reset-btn" onclick="resetObjectives()">↺ Réinitialiser</button></div>
    </div>
  </div>

  <!-- SUB-PANEL: TEHILIM -->
  <div id="panel-sub-tehilim" style="display:none">
    <div class="panel-back-wrap"><button class="panel-back" onclick="switchTab('menu')">← Accueil</button></div>
    <div class="sub-panel-header">Tehilim</div>
    <div class="menu-cards">
      <button class="menu-card card-jour" onclick="openJourReading()">
        <span class="menu-card-icon">📅</span>
        <div class="menu-card-content">
          <span class="menu-card-title">Tehilim du jour</span>
          <span class="menu-card-sub" id="menu-jour-sub"></span>
        </div>
      </button>
      <button class="menu-card card-perek" onclick="switchTab('perek')">
        <span class="menu-card-icon">📖</span>
        <div class="menu-card-content">
          <span class="menu-card-title">Tehilim par Perek</span>
          <span class="menu-card-sub">150 chapitres</span>
        </div>
      </button>
      <button class="menu-card" onclick="switchTab('birthday')">
        <span class="menu-card-icon">🎂</span>
        <div class="menu-card-content">
          <span class="menu-card-title">Mon Tehilim</span>
          <span class="menu-card-sub">Chapitre personnel</span>
        </div>
      </button>
      <button class="menu-card" onclick="switchTab('t119')">
        <span class="menu-card-icon">🔤</span>
        <div class="menu-card-content">
          <span class="menu-card-title">Tehilim 119 par nom</span>
          <span class="menu-card-sub">Prière personnalisée</span>
        </div>
      </button>
      <button class="menu-card" onclick="switchTab('cemetery')">
        <span class="menu-card-icon">🪦</span>
        <div class="menu-card-content">
          <span class="menu-card-title">Tehilim au cimetière</span>
          <span class="menu-card-sub">7 Psaumes + Psaume 119 נשמה</span>
        </div>
      </button>
      <button class="menu-card" onclick="switchTab('chains')">
        <span class="menu-card-icon">🙏</span>
        <div class="menu-card-content">
          <span class="menu-card-title">Demandes personnelles</span>
          <span class="menu-card-sub">Chaînes de Tehilim</span>
        </div>
      </button>
      <button class="menu-card coming-soon">
        <span class="menu-card-icon">🩺</span>
        <div class="menu-card-content"><span class="menu-card-title">Réfoua Chéléma</span></div>
      </button>
      <button class="menu-card coming-soon">
        <span class="menu-card-icon">✡️</span>
        <div class="menu-card-content"><span class="menu-card-title">Pour le peuple juif</span></div>
      </button>
      <button class="menu-card coming-soon">
        <span class="menu-card-icon">💍</span>
        <div class="menu-card-content"><span class="menu-card-title">Pour les occasions</span></div>
      </button>
      <button class="menu-card coming-soon">
        <span class="menu-card-icon">🕎</span>
        <div class="menu-card-content"><span class="menu-card-title">Pour les fêtes</span></div>
      </button>
      <button class="menu-card coming-soon">
        <span class="menu-card-icon">🍽️</span>
        <div class="menu-card-content"><span class="menu-card-title">Jours de jeûne</span></div>
      </button>
    </div>
  </div>

  <!-- SUB-PANEL: BETH CHABAD -->
  <div id="panel-sub-beth" style="display:none">
    <div class="panel-back-wrap"><button class="panel-back" onclick="switchTab('menu')">← Accueil</button></div>
    <div style="padding:0 16px 16px;">
      <div style="font-size:16px;font-weight:800;color:var(--black);margin-bottom:2px;">🕍 Trouver un Beth Chabad</div>
      <div style="font-size:11px;color:var(--gray-3);margin-bottom:12px;" id="beth-location-info">Localisation en cours…</div>
      <div id="beth-map-container" style="width:100%;height:50vh;border-radius:var(--radius);overflow:hidden;background:var(--gray-6);position:relative;">
        <div id="beth-map" style="width:100%;height:100%;"></div>
        <div id="beth-map-loading" style="position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;background:var(--gray-6);z-index:10;">
          <div style="text-align:center;color:var(--gray-3);">
            <div style="font-size:32px;margin-bottom:12px;">📍</div>
            <div style="font-size:13px;font-weight:600;">Géolocalisation en cours…</div>
          </div>
        </div>
      </div>
      <div id="beth-results" style="margin-top:12px;"></div>
      <div style="display:flex;gap:10px;margin-top:12px;">
        <button onclick="refreshBethMap()" style="flex:1;padding:12px;border:1px solid var(--gray-5);border-radius:var(--radius);background:var(--white);font-size:12px;font-weight:700;cursor:pointer;letter-spacing:0.5px;">📍 Actualiser</button>
      </div>
    </div>
  </div>

  <!-- SUB-PANEL: SIDOUR -->
  <div id="panel-sub-sidour" style="display:none">
    <div class="panel-back-wrap"><button class="panel-back" onclick="switchTab('menu')">← Accueil</button></div>
    <div style="padding:0 16px 16px;">
      <div style="font-size:18px;font-weight:800;color:var(--black);margin-bottom:4px;">🕯️ Sidour</div>
      <div style="font-size:12px;color:var(--gray-3);margin-bottom:16px;">Livres de prières</div>

      <!-- Patakh Eliyahou -->
      <div style="background:var(--white);border:1px solid var(--gray-5);border-radius:var(--radius);padding:16px;margin-bottom:12px;">
        <div style="display:flex;align-items:center;gap:10px;margin-bottom:12px;">
          <span style="font-size:24px;">📕</span>
          <div>
            <div style="font-size:15px;font-weight:700;color:var(--black);">Patakh Eliyahou</div>
            <div style="font-size:11px;color:var(--gray-3);">Rite Séfarade · Hébreu & Phonétique</div>
          </div>
        </div>
        <div style="display:flex;flex-direction:column;gap:8px;">
          <button onclick="switchTab('sub-sidour-patakh')" style="padding:12px;border:1px solid var(--gray-5);border-radius:var(--radius);background:var(--white);font-size:13px;font-weight:600;cursor:pointer;text-align:left;">🔤 Prières en hébreu & phonétique</button>
          <a href="https://www.770live.com/en770/siddur/siddur.htm" target="_blank" style="display:block;padding:12px;border:1px solid var(--gray-5);border-radius:var(--radius);background:var(--white);font-size:13px;font-weight:600;text-decoration:none;color:var(--black);">🌐 Sidour en ligne (770live) ↗</a>
        </div>
      </div>

      <!-- Tehilat Hachem -->
      <div style="background:var(--white);border:1px solid var(--gray-5);border-radius:var(--radius);padding:16px;margin-bottom:12px;">
        <div style="display:flex;align-items:center;gap:10px;margin-bottom:12px;">
          <span style="font-size:24px;">📗</span>
          <div>
            <div style="font-size:15px;font-weight:700;color:var(--black);">Tehilat Hachem</div>
            <div style="font-size:11px;color:var(--gray-3);">Nousakh Ha-Arizal · Chabad-Loubavitch</div>
          </div>
        </div>
        <div style="display:flex;flex-direction:column;gap:8px;">
          <a href="https://www.sefaria.org/Siddur_Tehilat_Hashem" target="_blank" style="display:block;padding:12px;border:1px solid var(--gray-5);border-radius:var(--radius);background:var(--white);font-size:13px;font-weight:600;text-decoration:none;color:var(--black);">📚 Siddur Sefaria (Hébreu) ↗</a>
        </div>
      </div>
    </div>
  </div>

  <!-- SUB-PANEL: SIDOUR PATAKH ELIYAHOU (Prayers) -->
  <div id="panel-sub-sidour-patakh" style="display:none">
    <div class="panel-back-wrap"><button class="panel-back" onclick="switchTab('sub-sidour')">← Sidour</button></div>
    <div style="padding:0 16px 16px;">
      <div style="font-size:16px;font-weight:800;color:var(--black);margin-bottom:2px;">📕 Patakh Eliyahou</div>
      <div style="font-size:11px;color:var(--gray-3);margin-bottom:16px;">Prières en hébreu & phonétique</div>
      <div id="patakh-tabs" style="display:flex;gap:6px;margin-bottom:16px;overflow-x:auto;-webkit-overflow-scrolling:touch;padding-bottom:4px;">
        <button class="patakh-tab active" onclick="showPatakh('shaharit')">Cha'harit</button>
        <button class="patakh-tab" onclick="showPatakh('minha')">Min'ha</button>
        <button class="patakh-tab" onclick="showPatakh('arvit')">Arvit</button>
        <button class="patakh-tab" onclick="showPatakh('shema')">Chéma</button>
        <button class="patakh-tab" onclick="showPatakh('birkat')">Birkat</button>
      </div>
      <div id="patakh-content" style="background:var(--white);border:1px solid var(--gray-5);border-radius:var(--radius);padding:16px;max-height:60vh;overflow-y:auto;"></div>
    </div>
  </div>

  <!-- SUB-PANEL: ÉTUDES -->
  <div id="panel-sub-etudes" style="display:none">
    <div class="panel-back-wrap"><button class="panel-back" onclick="switchTab('menu')">← Accueil</button></div>
    <div style="padding:0 16px 16px;">
      <div style="font-size:18px;font-weight:800;color:var(--black);margin-bottom:4px;">📖 Études du jour</div>
      <div style="font-size:12px;color:var(--gray-3);margin-bottom:16px;">Hayom Yom · Rambam · Tanya · 'Houmach</div>

      <!-- HYY Card (mirror) -->
      <div class="hyy-card" style="margin-bottom:12px;">
        <div class="hyy-header">
          <span class="hyy-icon" style="background:linear-gradient(135deg,#f59e0b,#fbbf24);"><svg viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M18 3H8a3 3 0 00-3 3v12a3 3 0 003 3h10"/><path d="M18 3v18c1.5 0 3-1 3-3V6c0-2-1.5-3-3-3z"/><line x1="9" y1="8" x2="15" y2="8" opacity="0.6"/><line x1="9" y1="11" x2="14" y2="11" opacity="0.6"/><line x1="9" y1="14" x2="12" y2="14" opacity="0.6"/></svg></span>
          <span class="hyy-title">Hayom Yom</span>
          <span class="hyy-date" id="etudes-hyy-date"></span>
          <button class="insta-share-btn" onclick="shareHyy(event)" style="margin-left:auto;"><svg viewBox="0 0 24 24"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg></button>
        </div>
        <div class="hyy-text" id="etudes-hyy-text" style="max-height:none;-webkit-line-clamp:unset;"><span class="hyy-loading">Chargement…</span></div>
      </div>

      <!-- Rambam Card (mirror) -->
      <div class="hyy-card" style="margin-bottom:12px;">
        <div class="hyy-header">
          <span class="hyy-icon" style="padding:0;overflow:hidden;"><img src="data:image/jpeg;base64,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" style="width:100%;height:100%;object-fit:cover;border-radius:inherit;" alt="Rambam"></span>
          <span class="hyy-title">Rambam</span>
          <span class="hyy-date" id="etudes-rambam-date"></span>
          <button class="insta-share-btn" onclick="shareRambam(event)" style="margin-left:auto;"><svg viewBox="0 0 24 24"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg></button>
        </div>
        <div class="hyy-text" id="etudes-rambam-text" style="max-height:none;-webkit-line-clamp:unset;"><span class="hyy-loading">Chargement…</span></div>
      </div>

      <!-- Tanya Card (mirror) -->
      <div class="hyy-card" style="margin-bottom:12px;">
        <div class="hyy-header">
          <span class="hyy-icon" style="background:linear-gradient(135deg,#0e7c47,#34d399);"><svg viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2L2 7l10 5 10-5-10-5z"/><path d="M2 17l10 5 10-5"/><path d="M2 12l10 5 10-5"/></svg></span>
          <span class="hyy-title">Tanya</span>
          <span class="hyy-date" id="etudes-tanya-date"></span>
          <button class="insta-share-btn" onclick="shareTanya(event)" style="margin-left:auto;"><svg viewBox="0 0 24 24"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg></button>
        </div>
        <div class="hyy-text" id="etudes-tanya-text" style="max-height:none;-webkit-line-clamp:unset;"><span class="hyy-loading">Chargement…</span></div>
      </div>

      <!-- Houmash Card (mirror) -->
      <div class="hyy-card">
        <div class="hyy-header">
          <span class="hyy-icon" style="background:linear-gradient(135deg,#b45309,#d97706);"><svg viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M4 19.5A2.5 2.5 0 016.5 17H20"/><path d="M6.5 2H20v20H6.5A2.5 2.5 0 014 19.5v-15A2.5 2.5 0 016.5 2z"/><line x1="8" y1="7" x2="16" y2="7" opacity="0.6"/><line x1="8" y1="10" x2="14" y2="10" opacity="0.6"/><line x1="8" y1="13" x2="12" y2="13" opacity="0.6"/></svg></span>
          <span class="hyy-title">'Houmach</span>
          <span class="hyy-date" id="etudes-houmash-date"></span>
          <button class="insta-share-btn" onclick="shareHoumash(event)" style="margin-left:auto;"><svg viewBox="0 0 24 24"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg></button>
        </div>
        <div class="hyy-text" id="etudes-houmash-text" style="max-height:none;-webkit-line-clamp:unset;"><span class="hyy-loading">Chargement…</span></div>
      </div>
    </div>
  </div>

  <!-- SUB-PANEL: DONS -->
  <div id="panel-sub-don" style="display:none">
    <div class="panel-back-wrap"><button class="panel-back" onclick="switchTab('menu')">← Accueil</button></div>
    <div style="padding:0 16px 16px;">
      <div style="font-size:18px;font-weight:800;color:var(--black);margin-bottom:4px;">💝 Tsédaka</div>
      <div style="font-size:12px;color:var(--gray-3);margin-bottom:16px;">Soutenez les Beth Chabad du monde entier</div>

      <!-- BLOC 1: FAIRE UN DON -->
      <div style="background:var(--white);border:1px solid var(--gray-5);border-radius:var(--radius);padding:20px;margin-bottom:16px;">
        <div style="display:flex;align-items:center;gap:10px;margin-bottom:14px;">
          <span style="width:40px;height:40px;border-radius:12px;background:linear-gradient(135deg,#1a6b3c,#2d8f5e);display:inline-flex;align-items:center;justify-content:center;flex-shrink:0;"><svg viewBox="0 0 24 24" width="22" height="22" fill="#fff" stroke="none"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg></span>
          <div>
            <div style="font-size:16px;font-weight:700;color:var(--black);">Faire un don</div>
            <div style="font-size:11px;color:var(--gray-3);">Don direct · Reçu fiscal immédiat</div>
          </div>
        </div>
        <p style="font-size:13px;line-height:1.7;color:var(--gray-2);margin:0 0 16px;">
          Votre don est reversé directement aux Beth Chabad partenaires. Chaque contribution fait une réelle différence.
        </p>
        <div style="display:grid;grid-template-columns:1fr 1fr 1fr;gap:10px;margin-bottom:12px;">
          <button class="don-amount-btn" onclick="selectDonAmount(18,this)">18 €<span style="display:block;font-size:9px;font-weight:400;color:var(--gray-3);margin-top:2px;">'Haï</span></button>
          <button class="don-amount-btn" onclick="selectDonAmount(36,this)">36 €<span style="display:block;font-size:9px;font-weight:400;color:var(--gray-3);margin-top:2px;">Double 'Haï</span></button>
          <button class="don-amount-btn" onclick="selectDonAmount(72,this)">72 €<span style="display:block;font-size:9px;font-weight:400;color:var(--gray-3);margin-top:2px;">'Hessed</span></button>
          <button class="don-amount-btn" onclick="selectDonAmount(180,this)">180 €</button>
          <button class="don-amount-btn" onclick="selectDonAmount(360,this)">360 €</button>
          <button class="don-amount-btn don-custom" onclick="promptDonAmount(this)">Autre</button>
        </div>
        <button style="width:100%;padding:14px;border:none;border-radius:var(--radius);background:linear-gradient(135deg, #1a6b3c, #2d8f5e);color:#fff;font-size:15px;font-weight:700;cursor:pointer;font-family:var(--font);letter-spacing:0.5px;" onclick="submitDonation()">Faire un don</button>
        <div style="text-align:center;font-size:10px;color:var(--gray-4);margin-top:8px;">🔒 Paiement sécurisé · Reçu fiscal disponible</div>
      </div>
    </div>
  </div>

  <!-- SUB-PANEL: CHABAP CLUB -->
  <div id="panel-sub-club" style="display:none">
    <div class="panel-back-wrap"><button class="panel-back" onclick="switchTab('menu')">← Accueil</button></div>
    <div class="sub-panel-header">🤝 Chabad Club</div>

    <!-- NOTRE HISTOIRE -->
    <div class="club-story">
      <div class="club-story-tagline">Portez fièrement · Soutenez puissamment</div>
      <div class="club-story-title">Notre Histoire</div>
      <p class="club-story-text">
        Depuis 1951, dans la célèbre synagogue 770 à Crown Heights, l'influence du Rabbi de Loubavitch se propage dans le monde entier et le mouvement Chabad connaît une expansion sans fin.
      </p>
      <div class="club-divider"></div>
      <p class="club-story-text">
        Nous souhaitons rendre hommage à cet endroit magique qui continue d'influencer le monde grâce au mérite de notre Rabbi. En achetant un produit Chabad Club, vous devenez un membre actif de la communauté&nbsp;: le Maasser de votre commande est reversé aux Beth Chabad.
      </p>
    </div>

    <!-- 3 PRODUITS -->
    <div class="club-products-title">🛍️ Nos produits</div>
    <div class="club-products">
      <a class="club-product-card" href="https://chabadclub.org/products/sweatshirt-chabad-club-770-olive" target="_blank" rel="noopener">
        <img class="club-product-img" src="https://chabadclub.org/cdn/shop/files/SweatshirtChabadClub770OliveRecto.png?v=1769600050&width=400" alt="Sweatshirt 770 Olive" loading="lazy">
        <div class="club-product-info">
          <div class="club-product-collection">From Crown Heights to the World</div>
          <div class="club-product-name">Sweatshirt Chabad Club 770 Olive</div>
          <div class="club-product-price">120,00 €</div>
        </div>
      </a>
      <a class="club-product-card" href="https://chabadclub.org/products/gilet-a-capuche-chabad-club-770-ecru" target="_blank" rel="noopener">
        <img class="club-product-img" src="https://chabadclub.org/cdn/shop/files/CHABAD_CLUB_GILET_SYNA_ECRU_RECTO.png?v=1767189371&width=400" alt="Gilet 770 Écru" loading="lazy">
        <div class="club-product-info">
          <div class="club-product-collection">From Crown Heights to the World</div>
          <div class="club-product-name">Gilet à capuche Chabad Club 770 Écru</div>
          <div class="club-product-price">120,00 €</div>
        </div>
      </a>
      <a class="club-product-card" href="https://chabadclub.org/products/t-shirt-coupe-normale-dollar-khaki-vintage" target="_blank" rel="noopener">
        <img class="club-product-img" src="https://chabadclub.org/cdn/shop/files/CHABAD_CLUB_TSHIRT_DOLLAR_KHAKI_VINTAGE_RECTO.png?v=1745267646&width=400" alt="T-Shirt Dollar Khaki" loading="lazy">
        <div class="club-product-info">
          <div class="club-product-collection">In God We Trust</div>
          <div class="club-product-name">T-Shirt Dollar Khaki Vintage</div>
          <div class="club-product-price">60,00 €</div>
        </div>
      </a>
    </div>
    <a class="club-cta" href="https://chabadclub.org" target="_blank" rel="noopener">Voir toute la boutique →</a>

    <div class="club-maasser">
      <div class="club-maasser-emoji">🤲</div>
      <div class="club-maasser-text"><strong>Le Maasser</strong> de chaque commande est reversé aux Beth Chabad pour faire perdurer les actions menées par le Rabbi depuis 1951.</div>
    </div>

    <!-- FONCTIONNALITES EXISTANTES -->
    <div class="club-products-title" style="margin-top:8px;">⚡ Fonctionnalités</div>
    <div class="club-cards">
      <button class="menu-card" onclick="switchTab('chains')">
        <span class="menu-card-icon">🔗</span>
        <div class="menu-card-content">
          <span class="menu-card-title">Chaînes de Tehilim</span>
          <span class="menu-card-sub">Priez ensemble</span>
        </div>
      </button>
      <button class="menu-card coming-soon">
        <span class="menu-card-icon">📊</span>
        <div class="menu-card-content"><span class="menu-card-title">Classement</span><span class="menu-card-sub">Top lecteurs</span></div>
      </button>
      <button class="menu-card coming-soon">
        <span class="menu-card-icon">🎯</span>
        <div class="menu-card-content"><span class="menu-card-title">Défis</span><span class="menu-card-sub">Défis communautaires</span></div>
      </button>
      <button class="menu-card coming-soon">
        <span class="menu-card-icon">📰</span>
        <div class="menu-card-content"><span class="menu-card-title">Actualités</span><span class="menu-card-sub">Torah & Halacha</span></div>
      </button>
      <button class="menu-card coming-soon">
        <span class="menu-card-icon">🗓️</span>
        <div class="menu-card-content"><span class="menu-card-title">Événements</span><span class="menu-card-sub">Cours & Chabbat</span></div>
      </button>
      <button class="menu-card coming-soon">
        <span class="menu-card-icon">💬</span>
        <div class="menu-card-content"><span class="menu-card-title">Communauté</span><span class="menu-card-sub">Entraide & partage</span></div>
      </button>
    </div>
  </div>

  <!-- PANEL: TEHILIM DU JOUR -->
  <div id="panel-jour" style="display:none">
    <div class="panel-back-wrap">
      <button class="panel-back" onclick="switchTab('menu')">← Menu</button>
    </div>
    <div class="day-badge-wrap">
      <div class="home-badge" id="home-badge"></div>
    </div>
    <div class="progress-section">
      <div class="progress-header">
        <span class="progress-label">Progression du jour</span>
        <span class="progress-pct" id="progress-pct">0%</span>
      </div>
      <div class="progress-track"><div class="progress-fill" id="progress-fill"></div></div>
      <span class="progress-detail" id="progress-detail"></span>
    </div>
    <div id="complete-card"></div>
    <div id="recap-card"></div>
    <div class="psalms-list" id="psalms-list"></div>
  </div>

  <!-- PANEL: PAR PEREK -->
  <div id="panel-perek" style="display:none">
    <div class="panel-back-wrap">
      <button class="panel-back" onclick="switchTab('menu')">← Menu</button>
    </div>
    <div class="progress-section" id="perek-progress">
      <div class="progress-header">
        <span class="progress-label">Progression globale</span>
        <span class="progress-pct" id="perek-progress-pct">0%</span>
      </div>
      <div class="progress-track"><div class="progress-fill" id="perek-progress-fill"></div></div>
      <span class="progress-detail" id="perek-progress-detail"></span>
    </div>
    <div class="perek-search-wrap">
      <input type="text" class="perek-search" id="perek-search" placeholder="🔍  Rechercher un chapitre..." oninput="filterPerek()">
    </div>
    <div class="psalms-list" id="perek-list"></div>
  </div>

  <!-- PANEL: MON TEHILIM (BIRTHDAY) -->
  <div id="panel-birthday" style="display:none">
    <div class="panel-back-wrap">
      <button class="panel-back" onclick="switchTab('menu')">← Menu</button>
    </div>
    <div id="birthday-content"></div>
  </div>

  <!-- PANEL: CHAINES DE TEHILIM -->
  <div id="panel-chains" style="display:none">
    <div class="panel-back-wrap">
      <button class="panel-back" onclick="switchTab('menu')">← Menu</button>
    </div>
    <div class="chain-header">
      <h2 class="chain-title">Chaînes de Tehilim</h2>
      <p class="chain-desc">Créez une chaîne de lecture collaborative. Partagez le lien et chaque participant reçoit un psaume différent à lire.</p>
    </div>
    <div id="chain-create-section">
      <button class="chain-create-btn" onclick="showChainForm()">+ Créer une nouvelle chaîne</button>
    </div>
    <div id="chain-form" style="display:none">
      <div class="chain-form-card">
        <div class="chain-form-group">
          <label class="chain-label">Type de demande</label>
          <div class="chain-type-btns" id="chain-type-btns">
            <button class="chain-type-btn active" data-type="refoua" onclick="selectChainType(this)">🩺 Réfoua Chéléma</button>
            <button class="chain-type-btn" data-type="mariage" onclick="selectChainType(this)">💍 Mariage</button>
            <button class="chain-type-btn" data-type="memoire" onclick="selectChainType(this)">🕯️ À la mémoire</button>
            <button class="chain-type-btn" data-type="autre" onclick="selectChainType(this)">✨ Autre</button>
          </div>
        </div>
        <div class="chain-form-group">
          <label class="chain-label">Nom complet</label>
          <div class="chain-name-row">
            <input type="text" class="chain-input chain-name-half" id="chain-firstname" placeholder="Prénom" dir="auto">
            <div class="t119-benbat-slider chain-benbat-slider" onclick="toggleBenBat('chain')">
              <div class="bb-slider-track">
                <span class="bb-slider-option" data-bb="ben">בן</span>
                <span class="bb-slider-option" data-bb="bat">בת</span>
                <div class="bb-slider-thumb"></div>
              </div>
            </div>
            <input type="text" class="chain-input chain-name-half" id="chain-mothername" placeholder="Mère" dir="auto">
          </div>
        </div>
        <div class="chain-form-group">
          <label class="chain-label">Description (optionnel)</label>
          <input type="text" class="chain-input" id="chain-desc-input" placeholder="Brève description..." dir="auto">
        </div>
        <div class="chain-form-actions">
          <button class="chain-cancel-btn" onclick="hideChainForm()">Annuler</button>
          <button class="chain-submit-btn" onclick="createChain()">Créer la chaîne</button>
        </div>
      </div>
    </div>
    <div id="chain-list"></div>
  </div>

  <!-- CHAIN DETAIL VIEW -->
  <div id="panel-chain-detail" style="display:none">
    <div class="panel-back-wrap">
      <button class="panel-back" onclick="backToChains()">← Retour</button>
      <button class="chain-share-top" onclick="shareChain()" style="display:flex;align-items:center;gap:6px;"><svg viewBox="0 0 24 24" width="14" height="14" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg> Partager</button>
    </div>
    <div id="chain-detail-content"></div>
  </div>

  <!-- PANEL: TEHILIM 119 PAR NOM -->
  <div id="panel-t119" style="display:none">
    <div class="panel-back-wrap">
      <button class="panel-back" onclick="switchTab('menu')">← Menu</button>
    </div>
    <div class="t119-header">
      <h2 class="t119-title">Tehilim 119 par nom</h2>
      <p class="t119-desc">Entrez le prénom de la personne et celui de sa mère. Les sections du Psaume 119 correspondant aux lettres seront affichées.</p>
    </div>
    <div class="t119-input-section">
      <div class="t119-fullname-row">
        <div class="t119-field">
          <label class="t119-name-label">Prénom</label>
          <input type="text" class="t119-input t119-input-half" id="t119-input" placeholder="David, יעקב..." dir="auto" oninput="onT119Input()" autocomplete="off">
          <div class="t119-suggestions" id="t119-suggestions"></div>
        </div>
        <div class="t119-benbat-slider" onclick="toggleBenBat('t119')">
          <div class="bb-slider-track">
            <span class="bb-slider-option" data-bb="ben">בן</span>
            <span class="bb-slider-option" data-bb="bat">בת</span>
            <div class="bb-slider-thumb"></div>
          </div>
        </div>
        <div class="t119-field">
          <label class="t119-name-label">Mère</label>
          <input type="text" class="t119-input t119-input-half" id="t119-mother-input" placeholder="Sarah, רחל..." dir="auto" oninput="onT119Input()" autocomplete="off">
          <div class="t119-suggestions" id="t119-mother-suggestions"></div>
        </div>
      </div>
      <div class="t119-hebrew-preview" id="t119-hebrew-preview"></div>
      <div class="t119-clear-wrap"><button class="t119-clear-btn" onclick="clearT119()" id="t119-clear" style="display:none">✕ Effacer</button></div>
      <div id="t119-kbd-wrap">
      <div class="t119-kbd-hint">✍️ Vous pouvez aussi écrire directement en français dans les cases ci-dessus</div>
      <div class="t119-keyboard" id="t119-keyboard">
        <div class="t119-kb-row">
          <button onclick="t119AddLetter('א')">א</button>
          <button onclick="t119AddLetter('ב')">ב</button>
          <button onclick="t119AddLetter('ג')">ג</button>
          <button onclick="t119AddLetter('ד')">ד</button>
          <button onclick="t119AddLetter('ה')">ה</button>
          <button onclick="t119AddLetter('ו')">ו</button>
          <button onclick="t119AddLetter('ז')">ז</button>
          <button onclick="t119AddLetter('ח')">ח</button>
          <button onclick="t119AddLetter('ט')">ט</button>
          <button onclick="t119AddLetter('י')">י</button>
          <button onclick="t119AddLetter('כ')">כ</button>
        </div>
        <div class="t119-kb-row">
          <button onclick="t119AddLetter('ל')">ל</button>
          <button onclick="t119AddLetter('מ')">מ</button>
          <button onclick="t119AddLetter('נ')">נ</button>
          <button onclick="t119AddLetter('ס')">ס</button>
          <button onclick="t119AddLetter('ע')">ע</button>
          <button onclick="t119AddLetter('פ')">פ</button>
          <button onclick="t119AddLetter('צ')">צ</button>
          <button onclick="t119AddLetter('ק')">ק</button>
          <button onclick="t119AddLetter('ר')">ר</button>
          <button onclick="t119AddLetter('ש')">ש</button>
          <button onclick="t119AddLetter('ת')">ת</button>
        </div>
        <div class="t119-kb-row">
          <button class="t119-kb-space" onclick="t119AddLetter(' ')">Espace</button>
          <button class="t119-kb-del" onclick="t119Backspace()">⌫</button>
        </div>
      </div>
      <div class="t119-convert-hint">💡 Tapez en français : sh→שׁ, ts→צ, kh→ח, th→ת etc.</div>
      </div>
    </div>
    <div id="t119-results"></div>
  </div>

  <!-- PANEL: TEHILIM AU CIMETIERE -->
  <div id="panel-cemetery" style="display:none">
    <div class="panel-back-wrap">
      <button class="panel-back" onclick="switchTab('menu')">← Menu</button>
    </div>
    <div class="cem-header">
      <div class="cem-icon">🕯️</div>
      <h2 class="cem-title">Tehilim au cimetière</h2>
      <p class="cem-desc">Psaumes traditionnels récités lors d'une visite au cimetière, suivis des sections du Psaume 119 correspondant au nom du défunt et au mot <strong>נשמה</strong> (Néchama – âme).</p>
    </div>
    <div id="cemetery-content"></div>
    <div class="cem-section-title" id="cem-name-title">🔤 Psaume 119 · Nom du défunt</div>
    <div class="cem-name-section">
      <div class="t119-input-wrap" style="margin:0 16px">
        <input type="text" class="t119-input" id="cem-name-input" placeholder="Nom du défunt (ex: david, sarah...)" dir="auto" oninput="onCemNameInput()" autocomplete="off">
        <button class="t119-clear" onclick="clearCemName()" id="cem-name-clear" style="display:none">✕</button>
      </div>
      <div class="t119-suggestions" id="cem-suggestions"></div>
      <div class="t119-hebrew-preview" id="cem-hebrew-preview"></div>
      <div id="cem-kbd-wrap">
      <div class="t119-keyboard" id="cem-keyboard">
        <div class="t119-kb-row">
          <button onclick="cemAddLetter('א')">א</button>
          <button onclick="cemAddLetter('ב')">ב</button>
          <button onclick="cemAddLetter('ג')">ג</button>
          <button onclick="cemAddLetter('ד')">ד</button>
          <button onclick="cemAddLetter('ה')">ה</button>
          <button onclick="cemAddLetter('ו')">ו</button>
          <button onclick="cemAddLetter('ז')">ז</button>
          <button onclick="cemAddLetter('ח')">ח</button>
          <button onclick="cemAddLetter('ט')">ט</button>
        </div>
        <div class="t119-kb-row">
          <button onclick="cemAddLetter('י')">י</button>
          <button onclick="cemAddLetter('כ')">כ</button>
          <button onclick="cemAddLetter('ל')">ל</button>
          <button onclick="cemAddLetter('מ')">מ</button>
          <button onclick="cemAddLetter('נ')">נ</button>
          <button onclick="cemAddLetter('ס')">ס</button>
          <button onclick="cemAddLetter('ע')">ע</button>
          <button onclick="cemAddLetter('פ')">פ</button>
          <button onclick="cemAddLetter('צ')">צ</button>
        </div>
        <div class="t119-kb-row">
          <button onclick="cemAddLetter('ק')">ק</button>
          <button onclick="cemAddLetter('ר')">ר</button>
          <button onclick="cemAddLetter('ש')">ש</button>
          <button onclick="cemAddLetter('ת')">ת</button>
        </div>
        <div class="t119-kb-row">
          <button class="t119-kb-space" onclick="cemAddLetter(' ')">Espace</button>
          <button class="t119-kb-del" onclick="cemBackspace()">⌫</button>
        </div>
      </div>
      <div class="t119-convert-hint">💡 Tapez en français ou en hébreu</div>
      </div>
    </div>
    <div id="cem-name-results"></div>
    <div id="cem-neshama-section"></div>
  </div>

  <!-- BIRTHDAY POPUP -->
  <div id="birthday-popup" class="bday-overlay" style="display:none" onclick="if(event.target===this)closeBdayPopup()">
    <div class="bday-popup">
      <div class="bday-popup-inner" id="bday-popup-inner"></div>
      <button class="bday-close" onclick="closeBdayPopup()">Fermer</button>
    </div>
  </div>

  <div class="app-footer"><span class="footer-logo-wrap"><img src="data:image/png;base64,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" alt="770 Lab" style="height:22px;width:auto;opacity:0.4;"></span></div>
  <div class="insta-bottom-nav" id="home-nav">
    <button class="insta-nav-item active" onclick="switchTab('menu')"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg><span>Accueil</span></button>
    <button class="insta-nav-item" onclick="switchTab('sub-sidour')"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"><ellipse cx="12" cy="6" rx="2.5" ry="3"/><path d="M7 10c1-1 3-1.5 5-1.5s4 .5 5 1.5"/><path d="M7 10v11H17V10"/><path d="M7 10.5c-.5.5-1 1.5-1 3" opacity="0.5"/><path d="M17 10.5c.5.5 1 1.5 1 3" opacity="0.5"/><rect x="10" y="14" width="4" height="3" rx="0.5" opacity="0.5"/></svg><span>Prières</span></button>
    <button class="insta-nav-center" onclick="switchTab('sub-objectifs')"><div class="insta-nav-center-ring"><div class="insta-nav-center-inner"><img src="data:image/png;base64,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" style="width:22px;height:22px;border-radius:4px;object-fit:cover;" alt="Objectifs"></div></div><span>Objectifs</span></button>
    <button class="insta-nav-item" onclick="switchTab('sub-tehilim')"><img src="data:image/png;base64,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" style="width:22px;height:22px;border-radius:4px;object-fit:cover;" alt="Tehilim"><span>Tehilim</span></button>
    <button class="insta-nav-item" onclick="switchTab('sub-etudes')"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2z"/><path d="M22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z"/></svg><span>Études</span></button>
  </div>
</div>

<!-- READING SCREEN -->
<div id="reading" style="display:none">
  <div class="reading-header">
    <button class="back-btn" onclick="goHome()">← Retour</button>
    <span class="reading-chapter" id="reading-chapter"></span>
    <span style="min-width:70px"></span>
  </div>
  <div class="story-bar" id="story-bar"></div>
  <div class="reading-body" id="reading-body"></div>
  <div class="reading-bottom-bar"></div>
  <div class="insta-bottom-nav">
    <button class="insta-nav-item" onclick="goHome()"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg><span>Accueil</span></button>
    <button class="insta-nav-item" onclick="goHome();switchTab('sub-sidour')"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"><ellipse cx="12" cy="6" rx="2.5" ry="3"/><path d="M7 10c1-1 3-1.5 5-1.5s4 .5 5 1.5"/><path d="M7 10v11H17V10"/><path d="M7 10.5c-.5.5-1 1.5-1 3" opacity="0.5"/><path d="M17 10.5c.5.5 1 1.5 1 3" opacity="0.5"/><rect x="10" y="14" width="4" height="3" rx="0.5" opacity="0.5"/></svg><span>Prières</span></button>
    <button class="insta-nav-center" onclick="goHome();switchTab('sub-objectifs')"><div class="insta-nav-center-ring"><div class="insta-nav-center-inner"><img src="data:image/png;base64,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" style="width:22px;height:22px;border-radius:4px;object-fit:cover;" alt="Objectifs"></div></div><span>Objectifs</span></button>
    <button class="insta-nav-item" onclick="goHome();switchTab('sub-tehilim')"><img src="data:image/png;base64,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" style="width:22px;height:22px;border-radius:4px;object-fit:cover;" alt="Tehilim"><span>Tehilim</span></button>
    <button class="insta-nav-item" onclick="goHome();switchTab('sub-etudes')"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2z"/><path d="M22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z"/></svg><span>Études</span></button>
  </div>
</div>

<!-- STORY OVERLAY -->
<div id="obj-story-overlay" style="display:none">
  <div class="os-progress" id="os-progress"></div>
  <button class="os-close" onclick="closeObjStory()">✕</button>
  <div class="os-content" id="os-content"></div>
  <div class="os-tap-left" onclick="storyNav('prev')"></div>
  <div class="os-tap-right" onclick="storyNav('next')"></div>
</div>

<script src="tehilim-data.js?v=20260220"></script>
<script>

const QUOTES = [
  { text: "Celui qui récite les Tehilim chaque jour, c'est comme s'il avait accompli toute la Torah.", source: "Midrash Chocher Tov" },
  { text: "Les Tehilim brisent toutes les barrières et s'élèvent de niveau en niveau sans obstacle.", source: "Rabbi Na'hman de Breslev" },
  { text: "Le Livre des Tehilim est le remède pour toutes les souffrances.", source: "Le Baal Chem Tov" },
  { text: "David, roi d'Israël, a composé les Tehilim en incluant en eux les prières de chaque juif, en tout temps et en tout lieu.", source: "Le Sfat Emet" },
  { text: "Celui qui dit des Tehilim repousse les forces du mal et fait descendre la bénédiction sur le monde.", source: "Le Zohar HaKadoch" },
  { text: "Si les gens connaissaient la puissance des Tehilim, ils les réciteraient à chaque instant.", source: "Rabbi Yéhouda HéH'assid" },
  { text: "Les portes des larmes ne sont jamais fermées, et les Tehilim sont la clé de toutes les autres portes.", source: "Le Rabbi de Loubavitch" },
  { text: "Chaque mot des Tehilim possède le pouvoir d'éveiller la miséricorde divine.", source: "Le 'Hafets 'Haïm" },
  { text: "Heureux celui qui dit des Tehilim avec ferveur, car Hachem compte chacun de ses mots comme des pierres précieuses.", source: "Midrach Rabba" },
  { text: "La récitation des Tehilim a le pouvoir de transformer un décret sévère en miséricorde.", source: "Le Ben Ich 'Haï" },
  { text: "Quand un homme ne sait pas quoi dire à Hachem, qu'il ouvre le livre des Tehilim.", source: "Rabbi Yéhiel Mikhal de Zlotchov" },
  { text: "Les Tehilim sont l'échelle par laquelle on s'élève vers le Créateur.", source: "Le Maguid de Mézéritch" },
  { text: "Dix formes de louanges ont été utilisées pour composer les Tehilim, et la plus grande de toutes est Halelou-ya.", source: "Talmud Pessa'him 117a" },
  { text: "La lecture des Tehilim est agréable à Hachem à toute heure du jour et de la nuit.", source: "Le Chla HaKadoch" },
  { text: "Celui qui récite le livre entier des Tehilim chaque mois mérite de recevoir la face de la Chékhina.", source: "Séfer Hassidim" },
  { text: "Les Tehilim sont le bouclier d'Israël : ils protègent aussi bien l'individu que la communauté.", source: "Le Rav Ovadia Yossef" },
  { text: "Quiconque dit des Tehilim est considéré comme s'il avait accompli toutes les supplications du monde.", source: "Yalkout Chimoni" },
  { text: "Le roi David a demandé à Hachem que la récitation des Tehilim soit considérée comme l'étude de Néguayim et Ohalot.", source: "Talmud Ménah'ot 4a" },
  { text: "Avec les Tehilim, on peut obtenir tout ce dont on a besoin, que ce soit sur le plan matériel ou spirituel.", source: "Rabbi Israël de Rouzhin" },
  { text: "Les Tehilim ont été composés avec Roua'h HaKodech pour toutes les générations et toutes les situations.", source: "Le Rambam" },
];

const COMPLETION_QUOTES = [
  { text: "Chaque bonne action que tu accomplis rapproche la venue du Machia'h. Tu as fait ta part aujourd'hui !", source: "Le Rabbi de Loubavitch" },
  { text: "Sois une « Dougma 'Haya » — un exemple vivant. Les gens sont plus touchés par ce que tu fais que par ce que tu dis.", source: "Le Rabbi de Loubavitch" },
  { text: "L'éducation d'un enfant est la plus grande des mitsvot, car elle contient en elle toutes les autres.", source: "Le Rabbi de Loubavitch" },
  { text: "Nous sommes la dernière génération de l'exil et la première de la délivrance !", source: "Le Rabbi de Loubavitch" },
  { text: "Une bougie allume une autre bougie sans perdre de sa propre lumière. Transmets la Torah avec joie.", source: "Le Rabbi de Loubavitch" },
  { text: "Le monde tient sur trois piliers : la Torah, la prière et les actes de bonté. Tu les as accomplis aujourd'hui.", source: "Pirké Avot 1:2" },
  { text: "Ne dis pas « quand j'aurai du temps libre j'étudierai », car peut-être n'auras-tu jamais de temps libre.", source: "Hillel, Pirké Avot 2:4" },
  { text: "Un seul acte, une seule parole, une seule pensée peut faire pencher la balance du monde entier vers le mérite.", source: "Rambam, Hilkhot Téchouva 3:4" },
  { text: "Éduquer un enfant selon sa voie, même quand il vieillira, il ne s'en écartera pas.", source: "Michlé (Proverbes) 22:6" },
  { text: "Le Machia'h attend à la porte. Chaque mitsva est une clé qui ouvre un verrou de plus.", source: "Le Rabbi de Loubavitch" },
  { text: "L'exemple est la plus puissante des leçons. Sois la lumière que tu veux voir dans le monde.", source: "Le Baal Chem Tov" },
  { text: "Toute la Torah se résume en une phrase : ce qui t'est odieux, ne le fais pas à ton prochain. Le reste est commentaire — va et étudie !", source: "Hillel, Talmud Chabbat 31a" },
  { text: "Quand une personne s'améliore, elle améliore le monde entier.", source: "Le Rabbi de Loubavitch" },
  { text: "Le but de l'étude n'est pas l'étude elle-même, mais l'action qui en découle.", source: "Talmud Kiddouchin 40b" },
  { text: "Les enfants sont les garants de la Torah. Sans eux, la Torah nous serait reprise.", source: "Midrash Chir HaChirim Rabba" },
  { text: "Le Machia'h viendra dans une génération qui sera soit entièrement méritante, soit entièrement… courageuse dans le repentir.", source: "Talmud Sanhédrin 98a" },
  { text: "Fais une mitsva de plus, et tu auras peut-être fait pencher le monde entier vers la délivrance.", source: "Le Rabbi de Loubavitch" },
  { text: "L'obscurité n'est pas chassée par un bâton, mais par la lumière. Allume ta lumière intérieure.", source: "Le Rabbi de Loubavitch" },
  { text: "Le plus grand cadeau que l'on puisse faire à ses enfants, c'est leur transmettre l'amour de la Torah.", source: "Rav Chimchon Raphaël Hirsch" },
  { text: "Vis de telle manière que les gens veulent connaître ta Torah.", source: "Le Rabbi de Loubavitch" },
];

const DAILY_SCHEDULE = {
  1: [1, 9], 2: [10, 17], 3: [18, 22], 4: [23, 28], 5: [29, 34],
  6: [35, 38], 7: [39, 43], 8: [44, 48], 9: [49, 54], 10: [55, 59],
  11: [60, 65], 12: [66, 68], 13: [69, 71], 14: [72, 76], 15: [77, 78],
  16: [79, 82], 17: [83, 87], 18: [88, 89], 19: [90, 96], 20: [97, 103],
  21: [104, 105], 22: [106, 107], 23: [108, 112], 24: [113, 118],
  25: [119, 119, "aleph-lamed"], 26: [119, 119, "mem-tav"], 27: [120, 134], 28: [135, 139], 29: [140, 144], 30: [145, 150]
};

const REMINDERS = [
  "Avez-vous lu les Tehilim du jour ?",
  "Avez-vous pris le temps de faire du bien à votre âme ?",
  "Un moment de Tehilim illumine toute la journée.",
  "Chaque mot de Tehilim est une prière qui monte au ciel.",
  "N'oubliez pas : les Tehilim sont la clé de toutes les portes.",
];

// --- Hebrew Calendar Converter ---
function hebrewElapsedDays(year) {
  const monthsElapsed = Math.floor((235 * year - 234) / 19);
  const partsElapsed = 12084 + 13753 * monthsElapsed;
  let day = monthsElapsed * 29 + Math.floor(partsElapsed / 25920);
  if (3 * (day + 1) % 7 < 3) day++;
  return day;
}

function hebrewYearLength(year) {
  return hebrewElapsedDays(year + 1) - hebrewElapsedDays(year);
}

function isHebrewLeapYear(year) {
  return ((7 * year + 1) % 19) < 7;
}

function hebrewMonthsInYear(year) {
  return isHebrewLeapYear(year) ? 13 : 12;
}

function hebrewMonthLength(year, month) {
  const yearLen = hebrewYearLength(year);
  if (month === 2) return (yearLen % 10 === 5) ? 30 : 29; // Cheshvan
  if (month === 3) return (yearLen % 10 === 3) ? 29 : 30; // Kislev
  if (month === 6 && !isHebrewLeapYear(year)) return 0; // Adar I in non-leap
  if (month === 6) return 30; // Adar I in leap
  if ([1, 5, 8, 10, 12].includes(month)) return 30; // Tishri, Shevat, Nisan, Sivan, Av
  return 29; // Tevet, Adar, Iyar, Tamouz, Eloul
}

const HEBREW_MONTH_NAMES = [
  "", "Tishri", "Heshvan", "Kislev", "Tevet", "Shevat",
  "Adar I", "Adar", "Nissan", "Iyar", "Sivan",
  "Tamouz", "Av", "Eloul"
];

function getHebrewMonthName(year, month) {
  if (month === 7 && !isHebrewLeapYear(year)) return "Adar";
  if (month === 7 && isHebrewLeapYear(year)) return "Adar II";
  return HEBREW_MONTH_NAMES[month] || "";
}

function gregorianToJD(year, month, day) {
  const a = Math.floor((14 - month) / 12);
  const y = year + 4800 - a;
  const m = month + 12 * a - 3;
  return day + Math.floor((153 * m + 2) / 5) + 365 * y + Math.floor(y / 4) - Math.floor(y / 100) + Math.floor(y / 400) - 32045;
}

function hebrewToJD(year, month, day) {
  let jd = hebrewElapsedDays(year) + 347997;
  for (let m = 1; m < month; m++) {
    jd += hebrewMonthLength(year, m);
  }
  return jd + day;
}

function jdToHebrew(jd) {
  let year = Math.floor((jd - 347997) / 366);
  let ySafety = 0;
  while (hebrewToJD(year + 1, 1, 1) <= jd && ySafety < 100) { year++; ySafety++; }
  let month = 1;
  let safety = 0;
  while (safety < 15) {
    safety++;
    const mLen = hebrewMonthLength(year, month);
    if (mLen === 0) { month++; continue; }
    if (jd <= hebrewToJD(year, month, mLen)) break;
    month++;
  }
  const day = jd - hebrewToJD(year, month, 0);
  return { year, month, day };
}

function getHebrewDate(date) {
  const jd = gregorianToJD(date.getFullYear(), date.getMonth() + 1, date.getDate());
  const heb = jdToHebrew(jd);
  return {
    day: heb.day,
    month: heb.month,
    year: heb.year,
    monthName: getHebrewMonthName(heb.year, heb.month),
  };
}


function getDayOfMonth() {
  const heb = getHebrewDate(new Date());
  return Math.min(heb.day, 29);
}




// Quote display durations based on word count (2.5 words/sec + 2.5s buffer)
// Reading speed: ~150 wpm on screen (French) = 2.5 words/sec
// Formula: 1s notice + (wordCount / 2.5)s reading + 2s absorb
function getQuoteDuration(q) {
  const totalWords = q.text.split(/\s+/).length + q.source.split(/\s+/).length;
  return Math.round(1000 + (totalWords / 2.5) * 1000);
}

// Hebrew numeral conversion (number → Hebrew letters)
function toHebrewNumeral(n) {
  const ones = ['','א','ב','ג','ד','ה','ו','ז','ח','ט'];
  const tens = ['','י','כ','ל','מ','נ','ס','ע','פ','צ'];
  const hundreds = ['','ק','ר','ש','ת'];
  if (n === 15) return 'טו';
  if (n === 16) return 'טז';
  let s = '';
  if (n >= 100) { s += hundreds[Math.floor(n/100)]; n %= 100; }
  if (n >= 10) { s += tens[Math.floor(n/10)]; n %= 10; }
  if (n > 0) s += ones[n];
  return s;
}

function toHebrewYear(y) {
  var n = y % 1000; // drop the thousands
  var ones = ['','א','ב','ג','ד','ה','ו','ז','ח','ט'];
  var tens = ['','י','כ','ל','מ','נ','ס','ע','פ','צ'];
  var s = '';
  while (n >= 400) { s += 'ת'; n -= 400; }
  if (n >= 100) { s += ['','ק','ר','ש'][Math.floor(n/100)]; n %= 100; }
  if (n === 15) { s += 'טו'; }
  else if (n === 16) { s += 'טז'; }
  else {
    if (n >= 10) { s += tens[Math.floor(n/10)]; n %= 10; }
    if (n > 0) s += ones[n];
  }
  // Add gershayim before last letter
  if (s.length > 1) {
    s = s.slice(0, -1) + '"' + s.slice(-1);
  }
  return s;
}

// Transliterated Hebrew letter name for a chapter number
function hebrewLetterName(n) {
  // Build from components
  const onesN = ['','Aleph','Beth','Guimel','Daleth','Hé','Vav','Zayin','Heth','Teth'];
  const tensN = ['','Youd','Kaf','Lamed','Mem','Noun','Samekh','Ayin','Pé','Tsadi'];
  const hundredsN = ['','Kouf','Rech','Chin','Tav'];
  if (n === 15) return 'Teth-Vav';
  if (n === 16) return 'Teth-Zayin';
  const parts = [];
  if (n >= 100) { parts.push(hundredsN[Math.floor(n/100)]); n %= 100; }
  if (n >= 10) { parts.push(tensN[Math.floor(n/10)]); n %= 10; }
  if (n > 0) parts.push(onesN[n]);
  return parts.join('-');
}

// ====== APP STATE ======
let currentScreen = "splash";
let currentPsalm = 0;
let readPsalms = new Set();
let quoteIndex = 0;
let quoteFade = true;
let availablePsalms = [];
let activeTab = "jour";
let browseSource = "jour"; // tracks which tab opened the reading screen
let currentJourDay = 1; // which day of the month is being viewed in jour mode
let quoteTimer = null;

// ====== INIT ======
function init() {
  try {
    const hebrewDate = getHebrewDate(new Date());
    const dayOfMonth = Math.min(hebrewDate.day, 30);
    window._hebrewDay = dayOfMonth;
    currentJourDay = dayOfMonth;
    const todaySchedule = DAILY_SCHEDULE[dayOfMonth] || [1, 9];
    const todayRange = [todaySchedule[0], todaySchedule[1]];
    const todaySection = todaySchedule[2] || null;

    let todayPsalms = TEHILIM.filter(p => p.number >= todayRange[0] && p.number <= todayRange[1]);

    if (todaySection === "aleph-lamed") {
      todayPsalms = todayPsalms.map(p => {
        if (p.number === 119) return { ...p, verses: p.verses.slice(0, 96), sectionLabel: "Aleph (א) à Lamed (ל)" };
        return p;
      });
    } else if (todaySection === "mem-tav") {
      todayPsalms = todayPsalms.map(p => {
        if (p.number === 119) return { ...p, verses: p.verses.slice(96), sectionLabel: "Mem (מ) à Tav (ת)" };
        return p;
      });
    }

    availablePsalms = todayPsalms;

    // Store today's expected range for display even if not all available
    window._todayRange = todayRange;
    window._todayExpectedCount = todayRange[1] - todayRange[0] + 1;

    // Badge text
    let badgeText = "Jour " + dayOfMonth + " du mois hébraïque — ";
    if (todaySection === "aleph-lamed") {
      badgeText += "Chapitre 119 · Aleph (א) à Lamed (ל)";
    } else if (todaySection === "mem-tav") {
      badgeText += "Chapitre 119 · Mem (מ) à Tav (ת)";
    } else if (todayRange[0] === todayRange[1]) {
      badgeText += "Chapitre " + todayRange[0];
    } else {
      badgeText += "Chapitres " + todayRange[0] + " à " + todayRange[1];
    }

    // Set dates
    var dateLineEl = document.getElementById("home-date-line");
    if (dateLineEl) dateLineEl.textContent = hebrewDate.day + " " + hebrewDate.monthName + " " + hebrewDate.year + " — " + new Date().toLocaleDateString("fr-FR", { weekday: "long", day: "numeric", month: "long" });
    document.getElementById("home-badge").textContent = badgeText;
    document.getElementById("menu-jour-sub").textContent = badgeText;
    var bigTeh = document.getElementById("big-teh-sub"); if (bigTeh) bigTeh.textContent = badgeText;

    // Init quotes
    updateQuote();
    scheduleNextQuote();

    // Auto transition - wait for first quote to be read
    const firstDuration = getQuoteDuration(QUOTES[0]);
    window._splashTimer = setTimeout(() => {
      document.getElementById("splash").classList.add("hidden");
      showHome();
    }, firstDuration + 1500);

    // T119 keyboard targets active field
    document.getElementById('t119-input').addEventListener('focus', function() { _t119ActiveField = 't119-input'; });
    document.getElementById('t119-mother-input').addEventListener('focus', function() { _t119ActiveField = 't119-mother-input'; });

  } catch(e) {
    document.body.innerHTML = '<div style="padding:40px;color:#000;background:#fafafa;min-height:100vh;font-family:serif"><h2>Erreur</h2><p>'+e.message+'</p></div>';
  }
}

function skipSplash() {
  if (window._splashTimer) { clearTimeout(window._splashTimer); window._splashTimer = null; }
  document.getElementById("splash").classList.add("hidden");
  showHome();
}

function showHome() {
  if (window._homeShown) return;
  window._homeShown = true;
  document.getElementById("home").style.display = "block";
  document.getElementById("reading").style.display = "none";
  switchTab("menu");
  setTimeout(() => document.getElementById("home").classList.add("visible"), 50);
  renderHome();
  renderObjStoryBar();
  loadHayomYom();
  loadRambam();
  loadTanya();
  loadHoumash();
  loadShabbatTimes();
  updateBigObjSub();
  cleanOldObjectives();
  updateBirthdaySub();
  setTimeout(checkBirthdayPopup, 1000);
  setTimeout(checkSharedChain, 500);
  // autoShowObjStory disabled — user taps the glowing ring instead
  currentScreen = "home";
}

function goHome() {
  if (browseSource === "perek" && window._savedAvailable) {
    availablePsalms = window._savedAvailable;
    window._savedAvailable = null;
  }
  document.getElementById("reading").style.display = "none";
  document.getElementById("home").style.display = "block";
  window.scrollTo(0, 0);
  document.getElementById("reading").scrollTop = 0;
  if (browseSource === "perek") {
    switchTab("perek");
  } else if (browseSource === "jour") {
    switchTab("jour");
    renderJourCalendar();
  } else if (browseSource === "chain") {
    if (currentChainId) {
      openChainDetail(currentChainId);
    } else {
      switchTab("chains");
    }
  } else {
    switchTab("menu");
  }
  currentScreen = "home";
}


function switchTab(tab) {
  activeTab = tab;
  var panels = ["menu","sub-objectifs","sub-tehilim","sub-club","sub-beth","sub-sidour","sub-sidour-patakh","sub-etudes","sub-don","jour","perek","birthday","chains","chain-detail","t119","cemetery"];
  panels.forEach(function(p) {
    var el = document.getElementById("panel-" + p);
    if (el) el.style.display = p === tab ? "block" : "none";
  });
  if (tab === "perek") renderPerek();
  if (tab === "jour") renderHome();
  if (tab === "birthday") renderBirthday();
  if (tab === "chains") renderChainList();
  if (tab === "cemetery") renderCemetery();
  if (tab === "sub-objectifs") { renderObjectives(); renderObjStoryBar(); }
  if (tab === "sub-etudes") { syncEtudesPanel(); }
  if (tab === "sub-sidour-patakh") { showPatakhDirect('shaharit'); }
  if (tab === "menu") { renderObjStoryBar(); updateBigObjSub(); }
  window.scrollTo(0, 0);
  document.getElementById("reading").scrollTop = 0;
  updateHomeNav(tab);
}

function updateBigObjSub() {
  var state = getObjState();
  var n = countAllChecked(state);
  var el = document.getElementById("big-obj-sub");
  if (el) el.textContent = n + "/" + TOTAL_OBJ + " accomplis";
}

function renderPerek(filter) {
  const list = document.getElementById("perek-list");
  const search = (filter || "").trim().toLowerCase();
  // Update progress
  const totalAvailable = TEHILIM.length;
  const totalRead = TEHILIM.filter(p => readPsalms.has(p.number)).length;
  const pct = totalAvailable > 0 ? Math.round((totalRead / totalAvailable) * 100) : 0;
  document.getElementById("perek-progress-pct").textContent = pct + "%";
  document.getElementById("perek-progress-fill").style.width = pct + "%";
  document.getElementById("perek-progress-detail").textContent = totalRead + " sur " + totalAvailable + " chapitre" + (totalAvailable > 1 ? "s" : "") + " lu" + (totalRead > 1 ? "s" : "");
  let html = '<div class="perek-grid">';
  let count = 0;
  for (let n = 1; n <= 150; n++) {
    const name = hebrewLetterName(n);
    if (search && !String(n).includes(search) && !name.toLowerCase().includes(search)) continue;
    const psalm = TEHILIM.find(p => p.number === n);
    const isRead = readPsalms.has(n);
    const readClass = isRead ? ' perek-read' : '';
    const checkMark = isRead ? '<span class="perek-check">✓</span>' : '';
    const inner = checkMark + '<span class="perek-num">' + n + '</span><span class="perek-heb">' + toHebrewNumeral(n) + '</span><span class="perek-name">' + name + '</span>';
    if (psalm) {
      html += '<button class="perek-cell available' + readClass + '" onclick="openPerek(' + n + ')">' + inner + '</button>';
    } else {
      html += '<div class="perek-cell unavailable">' + inner + '</div>';
    }
    count++;
  }
  html += '</div>';
  if (count === 0) html = '<p style="text-align:center;color:var(--text-light);padding:40px 20px;">Aucun chapitre trouvé</p>';
  list.innerHTML = html;
}

function filterPerek() {
  renderPerek(document.getElementById("perek-search").value);
}

function openPerek(num) {
  const psalm = TEHILIM.find(p => p.number === num);
  if (!psalm) return;
  browseSource = "perek";
  window._savedAvailable = availablePsalms;
  availablePsalms = TEHILIM.slice().sort((a,b) => a.number - b.number);
  currentPsalm = availablePsalms.findIndex(p => p.number === num);
  currentScreen = "reading";
  document.getElementById("home").style.display = "none";
  document.getElementById("reading").style.display = "flex";
  window.scrollTo(0, 0);
  document.getElementById("reading").scrollTop = 0;
  
  // Start with ALL groups collapsed
  storyExpandedGroup = -999;
  renderReading();
  
  // After 3 seconds, expand the group containing the current psalm with animation
  setTimeout(function() {
    var currentNum = availablePsalms[currentPsalm] ? availablePsalms[currentPsalm].number : 1;
    if (currentNum <= 10) storyExpandedGroup = 0;
    else storyExpandedGroup = Math.floor((currentNum - 1) / 10) * 10 + 1;
    renderStoryBar(true);
  }, 3000);
}

function renderHome() {
  const expectedCount = window._todayExpectedCount || availablePsalms.length;
  const progress = expectedCount > 0 ? Math.round((readPsalms.size / expectedCount) * 100) : 0;
  document.getElementById("progress-pct").textContent = progress + "%";
  document.getElementById("progress-fill").style.width = progress + "%";
  document.getElementById("progress-detail").textContent = readPsalms.size + " sur " + expectedCount + " chapitre" + (expectedCount > 1 ? "s" : "") + " lu" + (readPsalms.size > 1 ? "s" : "");

  // Complete card
  const cc = document.getElementById("complete-card");
  if (progress === 100) {
    cc.innerHTML = '<div class="complete-card"><span class="complete-icon">🌟</span><span class="complete-text">Kol HaKavod ! Vous avez terminé les Tehilim du jour !</span></div>';
  } else { cc.innerHTML = ""; }

  // Recap card
  const rc = document.getElementById("recap-card");
  const totalExpected = window._todayExpectedCount || availablePsalms.length;
  const unread = availablePsalms.filter(p => !readPsalms.has(p.number));
  const missingCount = totalExpected - availablePsalms.length;
  const totalUnread = unread.length + missingCount;
  if (totalUnread > 0 && readPsalms.size > 0 && progress < 100) {
    rc.innerHTML = '<div class="recap-card"><span class="recap-icon">📖</span><div><span class="recap-title">Rattraper votre retard</span><span class="recap-sub">Il vous reste ' + totalUnread + ' chapitre' + (totalUnread > 1 ? 's' : '') + ' à lire aujourd\'hui</span></div></div>';
  } else { rc.innerHTML = ""; }

  // Psalm list - show full expected range
  const list = document.getElementById("psalms-list");
  let html = '<span class="section-title">Chapitres du jour</span>';
  const range0 = window._todayRange ? window._todayRange[0] : 1;
  const range1 = window._todayRange ? window._todayRange[1] : 1;
  for (let num = range0; num <= range1; num++) {
    const psalm = availablePsalms.find(p => p.number === num);
    const isRead = readPsalms.has(num);
    if (psalm) {
      const label = psalm.sectionLabel ? " · " + psalm.sectionLabel : "";
      const idx = availablePsalms.indexOf(psalm);
      html += '<button class="psalm-card' + (isRead ? ' read' : '') + '" onclick="openPsalm(' + idx + ')">';
      html += '<div class="psalm-card-left"><div class="psalm-card-num' + (isRead ? ' done' : '') + '">' + (isRead ? "✓" : psalm.number) + '</div>';
      html += '<div><span class="psalm-card-title">Tehilim ' + psalm.number + label + '</span>';
      const pTitle = PSALM_TITLES[psalm.number] || '';
      html += '<span class="psalm-card-verses">' + pTitle + ' · ' + psalm.verses.length + ' verset' + (psalm.verses.length > 1 ? 's' : '') + '</span></div></div>';
      html += '<span class="psalm-card-arrow">›</span></button>';
    } else {
      const pTitle = PSALM_TITLES[num] || '';
      html += '<div class="psalm-card unavailable-card">';
      html += '<div class="psalm-card-left"><div class="psalm-card-num unavailable-num">' + num + '</div>';
      html += '<div><span class="psalm-card-title">Tehilim ' + num + '</span>';
      html += '<span class="psalm-card-verses">' + pTitle + ' · Bientôt disponible</span></div></div>';
      html += '<span class="psalm-card-arrow" style="opacity:0.3">🔒</span></div>';
    }
  }
  list.innerHTML = html;
}

function openJourReading() {
  switchTab('jour');
  renderJourCalendar();
}

function renderJourCalendar() {
  var heb = getHebrewDate(new Date());
  var todayDay = heb.day;
  var monthLen = hebrewMonthLength(heb.year, heb.month);
  var maxDays = Math.min(monthLen, 30);
  
  var HEBREW_MONTH_HEB = {
    1: 'תÖ´Ö¼שְׁרÖµי', 2: 'חÖ¶שְׁוÖ¸ן', 3: 'כÖ´Ö¼סÖ°לÖµו', 4: 'טÖµבÖµת', 5: 'שְׁבÖ¸ט',
    6: 'אֲדÖ¸ר א׳', 7: 'אֲדÖ¸ר', 8: 'נÖ´יסÖ¸ן', 9: 'אִיÖ¸Ö¼ר', 10: 'סÖ´יוÖ¸ן',
    11: 'תÖ·Ö¼מÖ¼וÖ¼ז', 12: 'אָב', 13: 'אֱלוÖ¼ל'
  };
  
  var monthHeb = HEBREW_MONTH_HEB[heb.month] || '';
  var monthLatin = getHebrewMonthName(heb.year, heb.month);
  var yearHeb = toHebrewYear(heb.year);
  
  var html = '';
  
  // Today's progress banner
  var todaySchedule = DAILY_SCHEDULE[todayDay];
  if (todaySchedule) {
    var todayStart = todaySchedule[0];
    var todayEnd = todaySchedule[1];
    var todayTotal = todayEnd - todayStart + 1;
    if (todaySchedule[2]) todayTotal = 1; // psalm 119 counts as 1
    var todayRead = 0;
    for (var p = todayStart; p <= todayEnd; p++) {
      if (readPsalms.has(p)) todayRead++;
    }
    if (todaySchedule[2]) todayRead = readPsalms.has(119) ? 1 : 0;
    var todayPct = Math.round((todayRead / todayTotal) * 100);
    var allDone = todayRead >= todayTotal;
    
    if (allDone) {
      html += '<div class="cal-progress-banner done">';
      html += '<div class="cal-progress-emoji">🌟</div>';
      html += '<div class="cal-progress-msg"><strong>Kol HaKavod !</strong><br>Tu as terminé les Tehilim du jour</div>';
      html += '</div>';
      
      // Check personal tehilim
      var bday = getBirthday();
      if (bday) {
        var age = calcHebrewAge(bday.month, bday.day, bday.year);
        var persoChap = age + 1;
        if (!readPsalms.has(persoChap)) {
          html += '<div class="cal-progress-banner perso" onclick="openPersoTehilim(' + persoChap + ')">';
          html += '<div class="cal-progress-emoji">📖</div>';
          html += '<div class="cal-progress-msg">As-tu lu ton Tehilim personnel ?<br><strong>Chapitre ' + persoChap + '</strong></div>';
          html += '<div class="cal-progress-arrow">→</div>';
          html += '</div>';
        } else {
          // Both done! Show Mashiach message
          html += getCompletionMessage();
        }
      }
    } else {
      html += '<div class="cal-progress-banner">';
      html += '<div class="cal-progress-info">';
      html += '<div class="cal-progress-msg"><strong>Jour ' + todayDay + '</strong> · ' + todayRead + '/' + todayTotal + ' chapitres lus</div>';
      html += '<div class="cal-progress-bar-wrap"><div class="cal-progress-bar-bg"><div class="cal-progress-bar-fill" style="width:' + todayPct + '%"></div></div><span class="cal-progress-pct">' + todayPct + '%</span></div>';
      html += '</div>';
      html += '<button class="cal-progress-go" onclick="openDayReading(' + todayDay + ')">Continuer →</button>';
      html += '</div>';
    }
  }
  
  html += '<div class="cal-header">';
  html += '<div class="cal-month-hebrew">' + monthHeb + ' ' + yearHeb + '</div>';
  html += '<div class="cal-month-name">' + monthLatin + ' ' + heb.year + '</div>';
  html += '</div>';
  html += '<div class="cal-grid">';
  
  for (var d = 1; d <= maxDays; d++) {
    var isToday = (d === todayDay);
    var schedule = DAILY_SCHEDULE[d];
    var rangeLabel = '';
    if (schedule) {
      if (schedule[2]) rangeLabel = 'Ch. 119';
      else if (schedule[0] === schedule[1]) rangeLabel = 'Ch. ' + schedule[0];
      else rangeLabel = schedule[0] + '–' + schedule[1];
    }
    // Check if day is fully read
    var dayDone = false;
    if (schedule) {
      dayDone = true;
      if (schedule[2]) {
        dayDone = readPsalms.has(119);
      } else {
        for (var pp = schedule[0]; pp <= schedule[1]; pp++) {
          if (!readPsalms.has(pp)) { dayDone = false; break; }
        }
      }
    }
    var cls = 'cal-day';
    if (isToday) cls += ' today';
    if (dayDone) cls += ' done';
    html += '<div class="' + cls + '" onclick="openDayReading(' + d + ')">';
    html += '<div class="cal-day-inner">';
    if (dayDone) html += '<div class="cal-day-check">✓</div>';
    html += '<div class="cal-day-num">' + toHebrewNumeral(d) + '</div>';
    html += '<div class="cal-day-label">' + rangeLabel + '</div>';
    html += '</div></div>';
  }
  
  html += '</div>';
  
  var container = document.getElementById("jour-calendar");
  if (!container) {
    var panel = document.getElementById("panel-jour");
    var calDiv = document.createElement("div");
    calDiv.id = "jour-calendar";
    panel.insertBefore(calDiv, panel.children[1]);
    container = calDiv;
  }
  container.innerHTML = html;
  
  // Hide old content
  document.getElementById("home-badge").parentElement.style.display = "none";
  document.querySelector("#panel-jour .progress-section").style.display = "none";
  var completeCard = document.getElementById("complete-card");
  if (completeCard) completeCard.style.display = "none";
  var recapCard = document.getElementById("recap-card");
  if (recapCard) recapCard.style.display = "none";
  var psalmsList = document.getElementById("psalms-list");
  if (psalmsList) psalmsList.style.display = "none";
}

function openPersoTehilim(chap) {
  var psalmData = TEHILIM.find(function(p) { return p.number === chap; });
  if (!psalmData) { alert('Chapitre ' + chap + ' bientôt disponible !'); return; }
  browseSource = 'birthday';
  availablePsalms = [psalmData];
  currentPsalm = 0;
  currentScreen = 'reading';
  document.getElementById('home').style.display = 'none';
  document.getElementById('reading').style.display = 'flex';
  window.scrollTo(0, 0);
  document.getElementById('reading').scrollTop = 0;
  renderReading();
}

var COMPLETION_MESSAGES = [
  {
    emoji: '👑',
    hebrew: 'כÖ¸Ö¼ל יÖ´שÖ°ׂרָאֵל יÖµשׁ לÖ¸הֶם חÖµלÖ¶ק לÖ¸עוÖ¹לָם הÖ·בָּא',
    text: 'Chaque mot de Tehilim que tu prononces <strong>brise un voile</strong> entre ce monde et la Guéoula. Aujourd\'hui, tu as fait ta part pour rapprocher la venue du <strong>Machia\'h</strong>.'
  },
  {
    emoji: '🕊️',
    hebrew: 'אֲנÖ´י מַאֲמÖ´ין בֶּאֱמוÖ¼נÖ¸ה שְׁלÖµמÖ¸ה בÖ°Ö¼בÖ´יאַת הÖ·מÖ¸Ö¼שִׁיחÖ·',
    text: 'Le Rabbi de Loubavitch enseigne que <strong>chaque chapitre de Tehilim</strong> a le pouvoir de transformer le monde. Aujourd\'hui, tu as planté des graines de <strong>Guéoula</strong>.'
  },
  {
    emoji: '✨',
    hebrew: 'בÖ°Ö¼זÖ¸כוÖ¼ת הÖ·תÖ°Ö¼הÖ´לÖ´Ö¼ים יÖ¸בוֹא מÖ¸שִׁיחÖ· צÖ´דÖ°קÖµנוÖ¼',
    text: 'Le Ba\'al Shem Tov a dit : <strong>Les Tehilim peuvent tout.</strong> Ta lecture d\'aujourd\'hui a ouvert des portes dans le Ciel. Demain, continue — <strong>Machia\'h arrive</strong>.'
  },
  {
    emoji: '🔥',
    hebrew: 'עוÖ¹ד מÖ°עÖ·ט וÖ°נÖ´זÖ°כÖ¶Ö¼ה לÖ´גְאֻלÖ¸Ö¼ה שְׁלÖµמÖ¸ה',
    text: 'Chaque Tehilim est une <strong>prière qui monte directement</strong> devant le Trône Céleste. Le mérite de ta lecture protège tout le <strong>Klal Israël</strong>.'
  },
  {
    emoji: '💎',
    hebrew: 'גÖ¸Ö¼דוÖ¹ל הÖ·מÖ·Ö¼עÖ²שÖ¶ׂה יוÖ¹תÖµר מÖ´ן הÖ·מÖ°Ö¼דÖ·בÖµÖ¼ר',
    text: 'Tu ne l\'as peut-être pas senti, mais tes Tehilim ont <strong>ébranlé des mondes</strong> aujourd\'hui. Le Zohar dit que la voix de celui qui lit les Tehilim est <strong>la plus douce devant Hachem</strong>.'
  },
  {
    emoji: '🌅',
    hebrew: 'הÖ·בÖ¼וÖ¹טÖµחÖ· בÖ·Ö¼יהוה חÖ¶סÖ¶ד יÖ°סוÖ¹בÖ°בÖ¶נÖ¼וÖ¼',
    text: 'Aujourd\'hui tu as choisi de <strong>te connecter à Hachem</strong> par les mots du Roi David. Ce mérite t\'accompagnera et celui de tes proches. <strong>Bientôt la Guéoula !</strong>'
  }
];

function getCompletionMessage() {
  var dayOfYear = Math.floor((Date.now() - new Date(new Date().getFullYear(), 0, 0)) / 86400000);
  var msg = COMPLETION_MESSAGES[dayOfYear % COMPLETION_MESSAGES.length];
  var h = '<div class="cal-completion-card">';
  h += '<div class="cal-completion-emoji">' + msg.emoji + '</div>';
  h += '<div class="cal-completion-hebrew">' + msg.hebrew + '</div>';
  h += '<div class="cal-completion-text">' + msg.text + '</div>';
  h += '<div class="cal-completion-footer">Rendez-vous demain בעזרת ה׳</div>';
  h += '</div>';
  return h;
}

function openDayReading(day) {
  currentJourDay = day;
  browseSource = "jour";
  var psalms = getPsalmsForDay(day);
  availablePsalms = psalms;
  currentPsalm = 0;
  currentScreen = "reading";
  document.getElementById("home").style.display = "none";
  document.getElementById("reading").style.display = "flex";
  window.scrollTo(0, 0);
  document.getElementById("reading").scrollTop = 0;
  renderReading();
}

function openPsalm(index) {
  currentPsalm = index;
  browseSource = "jour";
  currentJourDay = window._hebrewDay || 1;
  currentScreen = "reading";
  document.getElementById("home").style.display = "none";
  document.getElementById("reading").style.display = "flex";
  window.scrollTo(0, 0);
  document.getElementById("reading").scrollTop = 0;
  renderReading();
}

const PSALM_TITLES = [
  "",
  "Pour prévenir une fausse couche",
  "Contre une tempête en mer",
  "En toute occasion",
  "En toute occasion",
  "Contre un mauvais esprit",
  "Pour ceux qui souffrent des yeux",
  "Pour écarter ses ennemis",
  "Pour plaire",
  "Pour un garçon malade",
  "Pour conjurer la haine",
  "Pour détruire ses ennemis",
  "Contre la faiblesse",
  "Pour échapper à une mort violente",
  "Contre la peur",
  "Pour tuer un démon",
  "Pour découvrir un voleur",
  "À lire en route",
  "Pour échapper à des rois méchants",
  "Pour la sagesse",
  "Bon pour un jugement",
  "Avant d\'aller devant une autorité",
  "Contre tout chagrin",
  "Pour comprendre un rêve",
  "Pour être sauvé d\'une inondation",
  "Pour conjurer le malheur",
  "Contre le danger et le malheur",
  "Contre les bêtes sauvages",
  "Pour qu\'une prière soit acceptée",
  "Contre le mauvais esprit",
  "Contre toutes les mauvaises choses",
  "Contre le mauvais œil",
  "Pour demander miséricorde",
  "Pour une mère qui a perdu ses enfants",
  "Pendant la route",
  "Contre ses rivaux",
  "Pour annihiler les méchants",
  "Pour une location",
  "Contre les mauvais conseils",
  "Pour celui qui jeûne",
  "Pour échapper à un mauvais esprit",
  "Pour ne pas perdre son emploi",
  "Avant de construire une maison",
  "Avant de construire une maison",
  "Pour échapper à un mauvais esprit",
  "Pour celui qui a une épouse méchante",
  "Si un homme haït sa femme",
  "Pour faire pénitence",
  "Pour faire peur à ses ennemis",
  "Contre la fièvre",
  "Pour échapper aux brigands",
  "Pour un débauché",
  "Contre la tentation de la médisance",
  "Pour faire peur à ses ennemis",
  "Pour se venger de ses ennemis",
  "Pour toutes les mauvaises choses",
  "Pour un détenu",
  "Pour la réussite",
  "Contre un chien méchant",
  "Contre le mauvais penchant",
  "Pour aller en guerre",
  "Pour celui qui a peur de rester à la maison",
  "Après les prières de Min\'ha et \'Arvit",
  "Pour réussir dans les affaires",
  "Avant de traverser une rivière",
  "Pour obtenir quelque chose de quelqu\'un",
  "Pour un possédé du démon",
  "Contre une fièvre persistante",
  "Contre le mauvais esprit",
  "Pour un homme cupide et débauché",
  "En temps de guerre",
  "Pour plaire",
  "Pour trouver grâce",
  "Pour conjurer la haine",
  "Si vous craignez des ennemis",
  "Pour éliminer l\'orgueil",
  "Pour échapper à l\'eau et au feu",
  "Pour échapper à l\'eau et au feu",
  "Pour trouver grâce devant les autorités",
  "Pour vaincre des ennemis",
  "Pour se protéger de l\'idolâtrie",
  "Pour se protéger de l\'idolâtrie",
  "Pour celui qui perd ses membres",
  "En cas de guerre",
  "Pour un malade qui maigrit",
  "Pour contenter un ami",
  "Pour échapper à un mauvais sort",
  "Pour sauver la ville",
  "Pour sauver la ville",
  "Pour celui qui perd ses membres",
  "Pour échapper à un lion",
  "Contre un mauvais esprit",
  "Pour assister à de grands miracles",
  "Pour gagner un procès",
  "Si votre ennemi vous poursuit",
  "Pour ne pas être trompé par les gens",
  "Pour réjouir sa famille",
  "Pour réjouir sa famille",
  "Pour faire la paix avec son prochain",
  "Pour avoir la foi",
  "Pour vaincre son ennemi",
  "Contre un mauvais esprit",
  "Pour une femme stérile",
  "Pour une femme stérile",
  "Pour éloigner une chose nuisible",
  "Maladie qui récidive une quatrième fois",
  "Maladie qui récidive une troisième fois",
  "Contre une maladie persistante",
  "Pour la réussite",
  "Si votre ennemi vous poursuit",
  "Pour faire la paix avec son ennemi",
  "Pour se faire des amis",
  "Pour devenir fort et puissant",
  "Contre l\'hérésie",
  "Avant d\'acheter et de vendre",
  "Avant de discuter avec ses pareils",
  "Pour échapper à une mort violente",
  "Si on vous a dénoncé à tort",
  "Avant de répondre à un mécréant",
  "Avant d\'accomplir une mitsva",
  "Pour faire la paix",
  "Pour sortir seul la nuit",
  "Avant de rencontrer un homme important",
  "Pour un esclave en fuite",
  "Pour une traversée en bateau",
  "Contre les ennemis",
  "Pour une femme qui a perdu ses enfants",
  "Pour un bébé qui vient de naître",
  "Pour une femme enceinte",
  "Pour une mitsva",
  "Avant une traversée en bateau",
  "Contre l\'orgueilleux",
  "Pour tenir ses serments",
  "Pour inspirer l\'amitié",
  "À dire avant l\'étude",
  "Contre les pensées hérétiques",
  "Pour avouer ses fautes",
  "Pour conjurer la haine",
  "Pour lutter contre l\'orgueil",
  "Pour ramener l\'amour entre mari et femme",
  "Contre la haine entre mari et femme",
  "Contre les douleurs du cœur",
  "Pour ceux qui souffrent des cuisses",
  "Pour ceux qui souffrent des bras",
  "Pour celui qui s\'est brisé une main",
  "Contre la peur",
  "Pour se protéger des coups d\'épée",
  "Contre la morsure du serpent",
  "Contre un incendie",
  "Contre la propagation d\'un incendie",
  "Pour louer Hachem dans toutes Ses actions",
];

var readingMode = "hebrew"; // hebrew | phonetique | francais

// Font size levels: 0=smallest, 3=default, 6=biggest
var fontSizeLevel = parseInt(localStorage.getItem("tehilim_fontsize") || "3");
const FONT_SIZES = {
  // [hebrew, french, phonetic, sefer] per level
  0: [17, 16, 15, 18],
  1: [18, 17, 16, 19],
  2: [20, 19, 18, 21],
  3: [21, 20, 19, 22],  // default
  4: [23, 22, 21, 24],
  5: [25, 24, 23, 26],
  6: [28, 27, 26, 29],
};

function applyFontSize() {
  const sizes = FONT_SIZES[fontSizeLevel] || FONT_SIZES[3];
  document.documentElement.style.setProperty('--fs-hebrew', sizes[0] + 'px');
  document.documentElement.style.setProperty('--fs-french', sizes[1] + 'px');
  document.documentElement.style.setProperty('--fs-phonetic', sizes[2] + 'px');
  document.documentElement.style.setProperty('--fs-sefer', sizes[3] + 'px');
  // Update all labels
  document.querySelectorAll('[id^="fs-label-"]').forEach(el => {
    el.textContent = fontSizeLevel;
  });
}

function changeFontSize(delta) {
  fontSizeLevel = Math.max(0, Math.min(6, fontSizeLevel + delta));
  localStorage.setItem("tehilim_fontsize", fontSizeLevel);
  applyFontSize();
}

function setReadingMode(mode) {
  readingMode = mode;
  renderReading();
}

// French Patakh Eliyahou-style Hebrew to phonetic transliteration
function transliterate(heb) {
  var D='\u05BC',SHD='\u05C1',SID='\u05C2',SHVA='\u05B0',
    HS='\u05B1',HP='\u05B2',HQ='\u05B3',
    HI='\u05B4',TSE='\u05B5',SE='\u05B6',PA='\u05B7',
    QA='\u05B8',HO='\u05B9',HO2='\u05BA',QU='\u05BB',
    MET='\u05BD',MAQ='\u05BE',SOF='\u05C3',QQ='\u05C7';
  var VW={};[SHVA,HS,HP,HQ,HI,TSE,SE,PA,QA,HO,HO2,QU,QQ].forEach(function(v){VW[v]=1;});
  function isCV(c){return c>='\u05D0'&&c<='\u05EA';}

  heb=heb.replace(/יְהוָ[\u0591-\u05AF]*ה|יְהֹוָ[\u0591-\u05AF]*ה|יהוה/g,'Ado-na\u00ef');
  heb=heb.replace(/אֱ?לֹהִ[\u0591-\u05AF]*ים/g,'Élo-him');
  heb=heb.replace(/אֱ?לֹהֵ[\u0591-\u05AF]*ינוּ/g,'Élo-hénou');
  heb=heb.replace(/אֲדֹנָ[\u0591-\u05AF]*י/g,'Ado-naï');

  var TK=[],i=0;
  while(i<heb.length){
    var ch=heb[i];
    if(ch===' '||ch===MAQ){TK.push({t:'s'});i++;continue;}
    if(ch===SOF||ch==='׀'||ch===':'){i++;continue;}
    if(ch>='\u0591'&&ch<='\u05AF'||ch===MET){i++;continue;}
    if(/[A-Za-z\u00C0-\u00FF\-]/.test(ch)){TK.push({t:'l',c:ch});i++;continue;}
    if(isCV(ch)){
      var tk={t:'C',l:ch,d:false,v:'',sh:false,si:false};i++;
      while(i<heb.length){
        var m=heb[i];
        if(m===D){tk.d=true;i++;}
        else if(m===SHD){tk.sh=true;i++;}
        else if(m===SID){tk.si=true;i++;}
        else if(VW[m]){tk.v=m;i++;}
        else if(m===MET||(m>='\u0591'&&m<='\u05AF')){i++;}
        else break;
      }
      TK.push(tk);
    } else i++;
  }
  function nxC(f){for(var n=f+1;n<TK.length;n++){if(TK[n].t==='C')return{tk:TK[n],i:n};if(TK[n].t==='s')return null;}return null;}
  function pvC(f){for(var p=f-1;p>=0;p--){if(TK[p].t==='C')return{tk:TK[p],i:p};if(TK[p].t==='s')return null;}return null;}
  function atE(f){return !nxC(f);}
  function isKol(idx){var tk=TK[idx];if(tk.l!=='\u05DB'||!tk.d)return false;if(tk.v!==QA&&tk.v!==QQ)return false;var n=nxC(idx);if(n&&n.tk.l==='\u05DC'&&(!n.tk.v||n.tk.v===SHVA))return true;return !n;}

  var res='',ws=true;
  for(var t=0;t<TK.length;t++){
    var tk=TK[t];
    if(tk.t==='s'){res+=' ';ws=true;continue;}
    if(tk.t==='l'){res+=tk.c;ws=false;continue;}
    if(tk.t!=='C')continue;
    var L=tk.l,dg=tk.d,V=tk.v;
    var nx=nxC(t),pv=pvC(t),ae=atE(t);
    var c='';
    switch(L){
      case'\u05D0':c='';break;
      case'\u05D1':c=dg?'b':'v';break;
      case'\u05D2':c='g';break;
      case'\u05D3':c='d';break;
      case'\u05D4':c=(ae&&!dg)?'':'h';break;
      case'\u05D5':
        if(dg&&!V&&nx&&nx.tk.l==='\u05D5'){c='v';break;}
        if(V===HO||V===HO2){c='';V=HO;}
        else if(dg&&!V){c='';V=QU;dg=false;}
        else c='v';break;
      case'\u05D6':c='z';break;
      case'\u05D7':c='\u2019h';break;
      case'\u05D8':c='t';break;
      case'\u05D9':if(!V&&pv&&(pv.tk.v===TSE||pv.tk.v===HI)){c='';break;}c='y';break;
      case'\u05DB':c=dg?'k':'kh';break;
      case'\u05DA':c='kh';break;
      case'\u05DC':c='l';break;
      case'\u05DE':c='m';break;
      case'\u05DD':c='m';break;
      case'\u05E0':c='n';break;
      case'\u05DF':c='n';break;
      case'\u05E1':c='s';break;
      case'\u05E2':c='\u2019';break;
      case'\u05E4':c=dg?'p':'f';break;
      case'\u05E3':c='f';break;
      case'\u05E6':c='ts';break;
      case'\u05E5':c='ts';break;
      case'\u05E7':c='k';break;
      case'\u05E8':c='r';break;
      case'\u05E9':c=tk.si?'s':'ch';break;
      case'\u05EA':c='t';break;
      default:c='';
    }
    var vo='';
    switch(V){
      case PA:vo='a';break;
      case QA:vo=(tk.v===QQ||isKol(t))?'o':'a';break;
      case QQ:vo='o';break;
      case SE:vo='\u00e9';break;
      case TSE:vo='\u00e9';break;
      case HI:vo='i';break;
      case HO:case HO2:vo='o';break;
      case QU:vo='ou';break;
      case HS:vo='\u00e9';break;
      case HP:vo='a';break;
      case HQ:vo='o';break;
      case SHVA:if(ws)vo='e';else if(pv&&pv.tk.v===SHVA)vo='e';else vo='';break;
      default:vo='';
    }
    if(V===PA&&(L==='\u05D7'||L==='\u05E2'||L==='\u05D4')&&ae){res+=vo+c;ws=false;continue;}
    if(L==='\u05D2'&&(vo==='\u00e9'||vo==='i'||vo==='e')){res+=c+'u'+vo;ws=false;continue;}
    res+=c+vo;ws=false;
  }
  res=res.replace(/\s+/g,' ').trim().replace(/\u2019\u2019/g,'\u2019');
  var fi=0;while(fi<res.length&&res[fi]==='\u2019')fi++;
  if(fi<res.length)res=res.slice(0,fi)+res[fi].toUpperCase()+res.slice(fi+1);
  return res;
}

function getReadHistory(num) {
  try { return JSON.parse(localStorage.getItem("tehilim_history_" + num)) || []; } catch(e) { return []; }
}
function saveReadHistory(num, history) {
  localStorage.setItem("tehilim_history_" + num, JSON.stringify(history));
}

function renderReading() {
  let allHtml = '';
  
  if (availablePsalms.length === 0) {
    var schedule = DAILY_SCHEDULE[currentJourDay];
    var rangeText = schedule ? (schedule[0] + ' à ' + schedule[1]) : '';
    allHtml = '<div class="snap-section" data-idx="0" style="display:flex;align-items:center;justify-content:center;text-align:center;padding:40px">' +
      '<div><div style="font-size:48px;margin-bottom:16px">🔒</div>' +
      '<div style="font-size:18px;font-weight:700;margin-bottom:8px">Bientôt disponible</div>' +
      '<div style="font-size:14px;color:var(--gray-3)">Les psaumes ' + rangeText + ' seront ajoutés prochainement</div></div></div>';
    const body = document.getElementById("reading-body");
    body.innerHTML = allHtml;
    renderStoryBar();
    requestAnimationFrame(function() {
      var bh = body.clientHeight;
      body.querySelectorAll('.snap-section').forEach(function(s) { s.style.height = bh + 'px'; });
    });
    updateReadingHeader();
    return;
  }
  
  availablePsalms.forEach((psalm, idx) => {
    const isRead = readPsalms.has(psalm.number);
    const label = psalm.sectionLabel ? " · " + psalm.sectionLabel : "";
    const history = getReadHistory(psalm.number);
    const readCount = history.length;
    const heartSVG = isRead
      ? '<svg viewBox="0 0 24 24" fill="#ed4956" stroke="#ed4956" stroke-width="1.5"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg>'
      : '<svg viewBox="0 0 24 24" fill="none" stroke="var(--gray-1)" stroke-width="1.5"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg>';

    allHtml += '<div class="snap-section" data-idx="' + idx + '">';
    allHtml += '<div class="insta-post">';
    
    // Header
    allHtml += '<div class="insta-post-header">';
    allHtml += '<div class="insta-post-avatar"><div class="insta-post-avatar-inner">' + toHebrewNumeral(psalm.number) + '</div></div>';
    allHtml += '<div><div class="insta-post-user">' + (PSALM_TITLES[psalm.number] || 'Tehilim ' + psalm.number) + '</div>';
    allHtml += '<div class="insta-post-location">' + psalm.verses.length + ' versets / ' + psalm.verses.length + ' passouk' + label + '</div></div></div>';

    // Content
    allHtml += '<hr class="insta-post-divider">';
    allHtml += '<div class="insta-post-content">';
    
    var titleBig;
    if (readingMode === 'hebrew') titleBig = 'פרק ' + toHebrewNumeral(psalm.number);
    else if (readingMode === 'phonetique') titleBig = 'Perek ' + hebrewLetterName(psalm.number);
    else titleBig = 'Chapitre ' + psalm.number;
    
    allHtml += '<div class="psalm-header-reading" style="padding-top:16px;"><span class="psalm-num-hebrew-big" style="' + (readingMode !== 'hebrew' ? 'font-family:var(--font);direction:ltr;' : '') + '">' + titleBig + '</span>';
    if (psalm.sectionLabel) allHtml += '<span class="psalm-section-label">' + psalm.sectionLabel + '</span>';
    allHtml += '</div>';

    // Mode toggle
    allHtml += '<div class="reading-toggle" data-mode="' + readingMode + '">';
    allHtml += '<div class="reading-toggle-slider"></div>';
    allHtml += '<button class="reading-toggle-btn' + (readingMode === 'hebrew' ? ' active' : '') + '" onclick="setReadingMode(\'hebrew\')">עברית</button>';
    allHtml += '<button class="reading-toggle-btn' + (readingMode === 'phonetique' ? ' active' : '') + '" onclick="setReadingMode(\'phonetique\')">Phonétique</button>';
    allHtml += '<button class="reading-toggle-btn' + (readingMode === 'francais' ? ' active' : '') + '" onclick="setReadingMode(\'francais\')">Français</button>';
    allHtml += '</div>';

    // Font size control
    allHtml += '<div class="font-size-bar">';
    allHtml += '<button class="font-size-btn" onclick="changeFontSize(-1)" aria-label="Réduire">A−</button>';
    allHtml += '<span class="font-size-label" id="fs-label-' + idx + '">' + fontSizeLevel + '</span>';
    allHtml += '<button class="font-size-btn" onclick="changeFontSize(1)" aria-label="Agrandir">A+</button>';
    allHtml += '</div>';

    if (readingMode === 'hebrew') {
      allHtml += '<div class="sefer-text">';
      psalm.verses.forEach((v, i) => {
        allHtml += '<span class="sefer-verse-num">' + toHebrewNumeral(i + 1) + '</span> ' + v.hebrew + ' ';
      });
      allHtml += '</div>';
    } else if (readingMode === 'phonetique') {
      psalm.verses.forEach((v, i) => {
        allHtml += '<div class="verse-block"><span class="verse-num">' + toHebrewNumeral(i + 1) + '</span>';
        allHtml += '<p class="hebrew-text">' + v.hebrew + '</p>';
        allHtml += '<p class="phonetic-text">' + transliterate(v.hebrew) + '</p></div>';
      });
    } else {
      psalm.verses.forEach((v, i) => {
        var frText = v.french || '<em style="color:var(--gray-4)">Traduction à venir</em>';
        allHtml += '<div class="verse-block"><span class="verse-num">' + toHebrewNumeral(i + 1) + '</span>';
        allHtml += '<p class="french-text">' + frText + '</p></div>';
      });
    }
    allHtml += '</div>'; // close content

    // Post footer (always visible, not scrollable)
    allHtml += '<div class="insta-post-footer">';
    allHtml += '<div class="insta-actions">';
    allHtml += '<button class="insta-heart-btn' + (isRead ? ' liked' : '') + '" onclick="toggleHeart(' + psalm.number + ')">' + heartSVG + '</button>';
    allHtml += '<button class="insta-share-btn" onclick="sharePsalm(' + psalm.number + ')"><svg viewBox="0 0 24 24"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg></button>';
    if (idx < availablePsalms.length - 1) {
      allHtml += '<button class="insta-nav-btn" onclick="nextPsalm()" title="Suivant"><svg viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"/></svg></button>';
    }
    allHtml += '</div>';
    if (readCount > 0) {
      allHtml += '<div class="insta-likes" onclick="showHistory(' + psalm.number + ')">' + readCount + ' lecture' + (readCount > 1 ? 's' : '') + '</div>';
    }
    if (history.length > 0) {
      const last = new Date(history[history.length - 1]);
      allHtml += '<div class="insta-timestamp">Dernière lecture · ' + formatTimestamp(last) + '</div>';
    }
    allHtml += '</div>'; // close post footer

    allHtml += '</div>'; // close insta-post
    allHtml += '</div>'; // close snap-section
  });

  const body = document.getElementById("reading-body");
  body.innerHTML = allHtml;
  applyFontSize();
  renderStoryBar();
  
  // Set snap section heights to match reading-body
  // Scroll to current psalm (within reading-body only)
  requestAnimationFrame(function() {
    var bh = body.clientHeight;
    body.querySelectorAll('.snap-section').forEach(function(s) { s.style.height = bh + 'px'; });
    var target = body.querySelector('[data-idx="' + currentPsalm + '"]');
    if (target) body.scrollTop = target.offsetTop;
    window.scrollTo(0, 0);
  });
  
  updateReadingHeader();
  
  // Listen for snap scroll to update header
  if (!body._snapListener) {
    let scrollTimer;
    body.addEventListener('scroll', function() {
      clearTimeout(scrollTimer);
      scrollTimer = setTimeout(function() {
        if (window._storyJumping) return;
        const sections = body.querySelectorAll('.snap-section');
        const bodyTop = body.scrollTop;
        const bodyH = body.clientHeight;
        let closest = 0, minDist = Infinity;
        sections.forEach(function(s, i) {
          var dist = Math.abs(s.offsetTop - bodyTop);
          if (dist < minDist) { minDist = dist; closest = i; }
        });
        if (closest !== currentPsalm) {
          currentPsalm = closest;
          storyExpandedGroup = -1;
          updateReadingHeader();
        }
      }, 80);
    }, { passive: true });
    body._snapListener = true;
  }
}

function updateReadingHeader() {
  const psalm = availablePsalms[currentPsalm];
  if (!psalm) return;
  const label = psalm.sectionLabel ? " · " + psalm.sectionLabel : "";
  if (browseSource === 'perek') {
    document.getElementById("reading-chapter").textContent = "Tehilim par Perek";
  } else if (browseSource === 'birthday') {
    document.getElementById("reading-chapter").textContent = "Mon Tehilim";
  } else if (browseSource === 'chain') {
    var chains = getChains();
    var ch = chains.find(function(c) { return c.id === currentChainId; });
    document.getElementById("reading-chapter").textContent = ch ? "Chaîne · " + ch.name : "Chaîne de Tehilim";
  } else {
    var schedule = DAILY_SCHEDULE[currentJourDay];
    var rangeText = "";
    if (schedule) {
      if (schedule[2]) rangeText = "Ch. 119";
      else if (schedule[0] === schedule[1]) rangeText = "Ch. " + schedule[0];
      else rangeText = "Ch. " + schedule[0] + "–" + schedule[1];
    }
    var todayDay = window._hebrewDay || 1;
    var prefix = (currentJourDay === todayDay) ? "Aujourd'hui · " : "";
    document.getElementById("reading-chapter").textContent = prefix + "Jour " + currentJourDay + " · " + rangeText;
  }
  updateFloatingHeart();
  updateStoryBar();
}

var storyExpandedGroup = -1; // which decade is expanded (-1 = 1-10 by default)

function getPsalmsForDay(day) {
  var schedule = DAILY_SCHEDULE[day] || [1, 9];
  var range = [schedule[0], schedule[1]];
  var section = schedule[2] || null;
  var psalms = TEHILIM.filter(function(p) { return p.number >= range[0] && p.number <= range[1]; });
  if (section === "aleph-lamed") {
    psalms = psalms.map(function(p) {
      if (p.number === 119) return Object.assign({}, p, { verses: p.verses.slice(0, 96), sectionLabel: "Aleph (א) à Lamed (ל)" });
      return p;
    });
  } else if (section === "mem-tav") {
    psalms = psalms.map(function(p) {
      if (p.number === 119) return Object.assign({}, p, { verses: p.verses.slice(96), sectionLabel: "Mem (מ) à Tav (ת)" });
      return p;
    });
  }
  return psalms;
}

function switchToDay(day) {
  currentJourDay = day;
  var psalms = getPsalmsForDay(day);
  availablePsalms = psalms;
  currentPsalm = 0;
  storyExpandedGroup = -1;
  renderReading();
  updateReadingHeader();
  var body = document.getElementById("reading-body");
  body.scrollTop = 0;
}

function renderStoryBar(animate) {
  var bar = document.getElementById("story-bar");
  if (!bar) return;
  var html = '';
  
  if (browseSource === "jour") {
    // Day mode: show 30 day circles
    var todayDay = window._hebrewDay || 1;
    for (var d = 1; d <= 30; d++) {
      var isActive = (d === currentJourDay);
      var isToday = (d === todayDay);
      var cls = 'story-item';
      if (isActive) cls += ' active';
      else if (!isToday) cls += ' read';
      html += '<div class="' + cls + '" onclick="switchToDay(' + d + ')">';
      html += '<div class="story-ring"><div class="story-circle">' + toHebrewNumeral(d) + '</div></div>';
      html += '<div class="story-label">Jour ' + d + '</div>';
      html += '</div>';
    }
    bar.innerHTML = html;
    var activeItem = bar.querySelector('.story-item.active');
    if (activeItem) {
      activeItem.scrollIntoView({ behavior:'smooth', block:'nearest', inline:'center' });
    }
    return;
  }
  
  // Perek mode: expandable groups
  var currentNum = availablePsalms[currentPsalm] ? availablePsalms[currentPsalm].number : 0;
  
  // Determine which group the current psalm belongs to
  var currentGroup;
  if (currentNum <= 10) currentGroup = 0;
  else currentGroup = Math.floor((currentNum - 1) / 10) * 10 + 1; // 11,21,31...
  
  // Auto-expand the group containing current psalm
  if (storyExpandedGroup === -1) {
    storyExpandedGroup = currentGroup;
  }
  
  // Build all groups: 1-10, 11-20, 21-30, ...
  var decades = [];
  // First group: 1-10
  decades.push({ start: 1, end: 10 });
  for (var d = 11; d <= 150; d += 10) {
    decades.push({ start: d, end: Math.min(d + 9, 150) });
  }
  
  var animIdx = 0;
  
  decades.forEach(function(dec) {
    // Check if any psalms exist in this range
    var psalmsInRange = [];
    availablePsalms.forEach(function(p, idx) {
      if (p.number >= dec.start && p.number <= dec.end) {
        psalmsInRange.push({ psalm: p, idx: idx });
      }
    });
    if (psalmsInRange.length === 0) return;
    
    var isExpanded = (storyExpandedGroup === dec.start) || (dec.start === 1 && storyExpandedGroup === 0);
    
    if (isExpanded) {
      // Show individual circles
      psalmsInRange.forEach(function(item) {
        var isActive = (item.psalm.number === currentNum);
        var isRead = readPsalms.has(item.psalm.number);
        var cls = 'story-item' + (isActive ? ' active' : '') + (isRead ? ' read' : '');
        if (animate) cls += ' anim-in';
        var style = '';
        html += '<div class="' + cls + '"' + style + ' onclick="jumpToStory(' + item.idx + ')">';
        html += '<div class="story-ring"><div class="story-circle">' + toHebrewNumeral(item.psalm.number) + '</div></div>';
        html += '<div class="story-label">' + item.psalm.number + '</div>';
        html += '</div>';
        animIdx++;
      });
    } else {
      // Show collapsed group circle
      var allRead = true;
      var someActive = false;
      var firstIdx = psalmsInRange[0].idx;
      psalmsInRange.forEach(function(item) {
        if (!readPsalms.has(item.psalm.number)) allRead = false;
        if (item.psalm.number === currentNum) someActive = true;
      });
      var cls = 'story-item' + (someActive ? ' active' : '') + (allRead ? ' read' : '');
      var hebrewLabel = toHebrewNumeral(dec.start) + '‑' + toHebrewNumeral(dec.end);
      html += '<div class="' + cls + '" onclick="expandStoryGroup(' + dec.start + ')">';
      html += '<div class="story-ring"><div class="story-circle story-circle-group">' + hebrewLabel + '</div></div>';
      html += '<div class="story-label">' + dec.start + '-' + dec.end + '</div>';
      html += '</div>';
    }
  });
  
  bar.innerHTML = html;
  if (!animate) {
    var activeItem = bar.querySelector('.story-item.active');
    if (activeItem) {
      activeItem.scrollIntoView({ behavior:'smooth', block:'nearest', inline:'center' });
    }
  }
}

function expandStoryGroup(start) {
  if (start >= 1 && start <= 10) storyExpandedGroup = 0;
  else storyExpandedGroup = start;
  
  // Jump to first psalm of this group
  var targetIdx = -1;
  for (var i = 0; i < availablePsalms.length; i++) {
    if (availablePsalms[i].number >= start) { targetIdx = i; break; }
  }
  if (targetIdx >= 0) {
    currentPsalm = targetIdx;
    var body = document.getElementById("reading-body");
    var target = body.querySelector('[data-idx="' + targetIdx + '"]');
    if (target) body.scrollTo({ top: target.offsetTop, behavior: 'smooth' });
  }
  
  renderStoryBar(true);
  updateReadingHeader();
  setTimeout(function() {
    var bar = document.getElementById("story-bar");
    var firstAnim = bar.querySelector('.story-item.anim-in');
    if (firstAnim) firstAnim.scrollIntoView({ behavior:'smooth', block:'nearest', inline:'start' });
  }, 100);
}

function updateStoryBar() {
  renderStoryBar();
}

function jumpToStory(idx) {
  if (idx < 0 || idx >= availablePsalms.length) return;
  window._storyJumping = true;
  currentPsalm = idx;
  storyExpandedGroup = -1;
  var body = document.getElementById("reading-body");
  var target = body.querySelector('[data-idx="' + idx + '"]');
  if (target) {
    body.scrollTo({ top: target.offsetTop, behavior: 'smooth' });
  }
  updateReadingHeader();
  setTimeout(function() { window._storyJumping = false; }, 600);
}

function updateFloatingHeart() {
  const psalm = availablePsalms[currentPsalm];
  if (!psalm) return;
  const btn = document.getElementById("floating-heart");
  if (!btn) return;
  if (readPsalms.has(psalm.number)) {
    btn.classList.add("liked");
  } else {
    btn.classList.remove("liked");
  }
}

function toggleCurrentHeart() {
  const psalm = availablePsalms[currentPsalm];
  if (!psalm) return;
  toggleHeart(psalm.number);
  updateFloatingHeart();
}

function formatTimestamp(d) {
  const months = ["jan","fév","mar","avr","mai","juin","juil","aoû","sep","oct","nov","déc"];
  return d.getDate() + " " + months[d.getMonth()] + " " + d.getFullYear() + " à " + String(d.getHours()).padStart(2,"0") + ":" + String(d.getMinutes()).padStart(2,"0");
}

function toggleHeart(num) {
  if (readPsalms.has(num)) {
    // Show history so they can remove readings
    showHistory(num);
  } else {
    markRead(num);
  }
}

function showHistory(num) {
  const history = getReadHistory(num);
  let html = '<div class="history-overlay" onclick="if(event.target===this)closeHistory()">';
  html += '<div class="history-popup">';
  html += '<div class="history-header"><span class="history-title">❤️ ' + history.length + ' lecture' + (history.length > 1 ? 's' : '') + ' · Chapitre ' + num + '</span>';
  html += '<button class="history-close" onclick="closeHistory()">✕</button></div>';
  if (history.length === 0) {
    html += '<div class="history-empty">Aucune lecture enregistrée</div>';
  } else {
    history.slice().reverse().forEach((ts, i) => {
      const d = new Date(ts);
      const idx = history.length - 1 - i;
      html += '<div class="history-item"><div class="history-item-info"><span class="history-item-icon">❤️</span><div><span class="history-item-date">' + formatTimestamp(d) + '</span></div></div>';
      html += '<button class="history-item-remove" onclick="removeReading(' + num + ',' + idx + ')">Supprimer</button></div>';
    });
  }
  html += '</div></div>';
  document.getElementById("reading-body").insertAdjacentHTML("beforeend", html);
}

function closeHistory() {
  const overlay = document.querySelector(".history-overlay");
  if (overlay) overlay.remove();
}

function removeReading(num, index) {
  const history = getReadHistory(num);
  history.splice(index, 1);
  saveReadHistory(num, history);
  if (history.length === 0) {
    readPsalms.delete(num);
  }
  closeHistory();
  updateFloatingHeart();
  renderReading();
}

function markRead(num) {
  readPsalms.add(num);
  const history = getReadHistory(num);
  history.push(new Date().toISOString());
  saveReadHistory(num, history);

  // Update heart in-place (no full re-render to avoid scroll jump)
  var section = document.querySelector('[data-idx="' + currentPsalm + '"]');
  if (section) {
    var heartBtn = section.querySelector('.insta-heart-btn');
    if (heartBtn) {
      heartBtn.classList.add('liked');
      heartBtn.innerHTML = '<svg viewBox="0 0 24 24" fill="#ed4956" stroke="#ed4956" stroke-width="1.5"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg>';
    }
    var footer = section.querySelector('.insta-post-footer');
    if (footer) {
      var likesEl = footer.querySelector('.insta-likes');
      var readCount = history.length;
      if (likesEl) {
        likesEl.textContent = readCount + ' lecture' + (readCount > 1 ? 's' : '');
      } else {
        var actions = footer.querySelector('.insta-actions');
        if (actions) {
          var div = document.createElement('div');
          div.className = 'insta-likes';
          div.textContent = readCount + ' lecture' + (readCount > 1 ? 's' : '');
          div.onclick = function() { showHistory(num); };
          actions.insertAdjacentElement('afterend', div);
        }
      }
      // Update timestamp
      var tsEl = footer.querySelector('.insta-timestamp');
      var now = new Date();
      var tsText = 'Dernière lecture · ' + formatTimestamp(now);
      if (tsEl) {
        tsEl.textContent = tsText;
      } else {
        var ts = document.createElement('div');
        ts.className = 'insta-timestamp';
        ts.textContent = tsText;
        footer.appendChild(ts);
      }
    }
  }
  updateStoryBar();

  if (browseSource === "jour") {
    const allRead = availablePsalms.every(p => readPsalms.has(p.number));
    if (allRead) {
      setTimeout(() => goHome(), 800);
      return;
    }
  }
  if (browseSource === "birthday") {
    // Personal tehilim read - go back to jour calendar to show completion message
    setTimeout(function() {
      browseSource = "jour";
      document.getElementById("reading").style.display = "none";
      document.getElementById("home").style.display = "block";
      switchTab("jour");
      renderJourCalendar();
      window.scrollTo(0, 0);
      currentScreen = "home";
    }, 800);
    return;
  }
  if (browseSource === "chain") {
    // Complete reading via API
    if (CHAIN_API_URL) {
      chainApi({
        action: 'completeReading',
        chainId: currentChainId,
        psalmNumber: num,
        userId: getChainUserId(),
        userName: getChainUserName() || 'Anonyme'
      }, function(result) {
        if (result.success) {
          _myAssignment = result.nextAssigned;
          if (result.cycleComplete) {
            // Cycle complete!
            setTimeout(function() {
              document.getElementById("reading").style.display = "none";
              document.getElementById("home").style.display = "block";
              currentScreen = "home";
              openChainDetail(currentChainId);
              setTimeout(function() {
                alert('🎉 Mazal Tov ! Le cycle ' + (result.currentCycle) + ' est terminé ! Un nouveau cycle commence.');
              }, 500);
            }, 800);
          } else if (result.nextAssigned) {
            // Auto-load next assigned psalm
            setTimeout(function() {
              var nextPsalmData = TEHILIM.find(function(p) { return p.number === result.nextAssigned; });
              if (nextPsalmData) {
                window._chainPsalmNum = result.nextAssigned;
                availablePsalms = [nextPsalmData];
                currentPsalm = 0;
                window.scrollTo(0, 0);
                document.getElementById('reading').scrollTop = 0;
                renderReading();
              } else {
                document.getElementById("reading").style.display = "none";
                document.getElementById("home").style.display = "block";
                currentScreen = "home";
                openChainDetail(currentChainId);
              }
            }, 800);
          } else {
            // All psalms assigned, go back
            setTimeout(function() {
              document.getElementById("reading").style.display = "none";
              document.getElementById("home").style.display = "block";
              currentScreen = "home";
              openChainDetail(currentChainId);
            }, 800);
          }
        }
      });
    } else {
      // Offline fallback
      var chains = getChains();
      var cidx = chains.findIndex(function(c) { return c.id === currentChainId; });
      if (cidx !== -1) {
        var chain = chains[cidx];
        if ((chain.psalmsRead || []).indexOf(num) === -1) {
          if (!chain.psalmsRead) chain.psalmsRead = [];
          chain.psalmsRead.push(num);
        }
        chains[cidx] = chain;
        saveChains(chains);
      }
      setTimeout(function() {
        document.getElementById("reading").style.display = "none";
        document.getElementById("home").style.display = "block";
        currentScreen = "home";
        openChainDetail(currentChainId);
      }, 800);
    }
    return;
  }
  // Auto-advance to next psalm after a short pause
  if (currentPsalm < availablePsalms.length - 1) {
    setTimeout(function() { nextPsalm(); }, 700);
  }
}

function unmarkRead(num) {
  readPsalms.delete(num);
  renderReading();
}

function prevPsalm() {
  if (currentPsalm > 0) {
    currentPsalm--;
    scrollToCurrentPsalm();
  }
}
function nextPsalm() {
  if (currentPsalm < availablePsalms.length - 1) {
    currentPsalm++;
    scrollToCurrentPsalm();
  }
}

function scrollToCurrentPsalm() {
  const body = document.getElementById("reading-body");
  const target = body.querySelector('[data-idx="' + currentPsalm + '"]');
  if (target) body.scrollTo({ top: target.offsetTop, behavior: 'smooth' });
  storyExpandedGroup = -1;
  updateReadingHeader();
}

// Snap scroll handles psalm navigation natively

function dismissNotif() {
  const n = document.getElementById("notif");
  n.classList.remove("show");
}

// ====== QUOTES ======
function updateQuote() {
  const q = QUOTES[quoteIndex];
  var sq = document.getElementById("splash-quote"); if (sq) sq.textContent = "« " + q.text + " »";
  var ss = document.getElementById("splash-source"); if (ss) ss.textContent = "— " + q.source;
  var hq = document.getElementById("home-quote"); if (hq) hq.textContent = "« " + q.text + " »";
  var hs = document.getElementById("home-source"); if (hs) hs.textContent = "— " + q.source;
  renderDots();
}

function renderDots() {
  ["splash-dots", "home-dots"].forEach(id => {
    const el = document.getElementById(id);
    if (!el) return;
    let html = "";
    QUOTES.forEach((_, i) => {
      const w = i === quoteIndex ? 18 : 6;
      const bg = i === quoteIndex ? "var(--black)" : "var(--gray-5)";
      html += '<div class="' + (id === "splash-dots" ? "splash-dot" : "quote-dot") + '" data-qi="' + i + '" style="width:' + w + 'px;background:' + bg + '"></div>';
    });
    el.innerHTML = html;
    el.onclick = function(e) {
      var dot = e.target.closest('[data-qi]');
      var idx = dot ? parseInt(dot.getAttribute('data-qi')) : -1;
      if (idx >= 0 && idx !== quoteIndex) {
        jumpToQuote(idx);
      } else {
        jumpToQuote((quoteIndex + 1) % QUOTES.length);
      }
    };
  });
}

function jumpToQuote(idx) {
  if (quoteTimer) clearTimeout(quoteTimer);
  ["splash-quote", "splash-source", "home-quote", "home-source"].forEach(id => {
    const el = document.getElementById(id);
    if (el) { el.style.opacity = "0"; el.style.transform = "translateY(8px)"; }
  });
  setTimeout(() => {
    quoteIndex = idx;
    updateQuote();
    ["splash-quote", "splash-source", "home-quote", "home-source"].forEach(id => {
      const el = document.getElementById(id);
      if (el) { el.style.opacity = "1"; el.style.transform = "translateY(0)"; }
    });
    scheduleNextQuote();
  }, 400);
}

function scheduleNextQuote() {
  if (quoteTimer) clearTimeout(quoteTimer);
  const duration = getQuoteDuration(QUOTES[quoteIndex]);
  quoteTimer = setTimeout(cycleQuote, duration);
}

function cycleQuote() {
  quoteFade = false;
  ["splash-quote", "splash-source", "home-quote", "home-source"].forEach(id => {
    const el = document.getElementById(id);
    if (el) { el.style.opacity = "0"; el.style.transform = "translateY(8px)"; }
  });
  setTimeout(() => {
    quoteIndex = (quoteIndex + 1) % QUOTES.length;
    updateQuote();
    ["splash-quote", "splash-source", "home-quote", "home-source"].forEach(id => {
      const el = document.getElementById(id);
      if (el) { el.style.opacity = "1"; el.style.transform = "translateY(0)"; }
    });
    quoteFade = true;
    scheduleNextQuote();
  }, 600);
}

// ====== BIRTHDAY / MON TEHILIM ======
const HEBREW_MONTHS_LIST = [
  { value: 1, name: "Tishri", heb: "תשרי" },
  { value: 2, name: "Heshvan", heb: "חשוון" },
  { value: 3, name: "Kislev", heb: "כסלו" },
  { value: 4, name: "Tevet", heb: "טבת" },
  { value: 5, name: "Shevat", heb: "שבט" },
  { value: 6, name: "Adar I", heb: "אדר א׳" },
  { value: 7, name: "Adar", heb: "אדר" },
  { value: 8, name: "Nissan", heb: "ניסן" },
  { value: 9, name: "Iyar", heb: "אייר" },
  { value: 10, name: "Sivan", heb: "סיוון" },
  { value: 11, name: "Tamouz", heb: "תמוז" },
  { value: 12, name: "Av", heb: "אב" },
  { value: 13, name: "Eloul", heb: "אלול" }
];

function getBirthday() {
  try { return JSON.parse(localStorage.getItem("tehilim_birthday")); } catch(e) { return null; }
}

function saveBirthday(month, day, year) {
  localStorage.setItem("tehilim_birthday", JSON.stringify({ month, day, year }));
}

function clearBirthday() {
  localStorage.removeItem("tehilim_birthday");
  renderBirthday();
  updateBirthdaySub();
}

function calcHebrewAge(birthMonth, birthDay, birthYear) {
  const today = getHebrewDate(new Date());
  let age = today.year - birthYear;
  // If birthday hasn't happened yet this year
  if (today.month < birthMonth || (today.month === birthMonth && today.day < birthDay)) {
    age--;
  }
  return age;
}

function daysUntilHebrewBirthday(birthMonth, birthDay) {
  const today = getHebrewDate(new Date());
  const thisYear = today.year;
  // Try this year's birthday
  let bdayJD = hebrewToJD(thisYear, birthMonth, Math.min(birthDay, hebrewMonthLength(thisYear, birthMonth) || 29));
  const todayJD = hebrewToJD(thisYear, today.month, today.day);
  if (bdayJD < todayJD) {
    // Birthday already passed, try next year
    const nextYear = thisYear + 1;
    const mLen = hebrewMonthLength(nextYear, birthMonth);
    if (mLen === 0) {
      // Month doesn't exist next year (Adar I in non-leap), use Adar
      bdayJD = hebrewToJD(nextYear, 7, Math.min(birthDay, hebrewMonthLength(nextYear, 7)));
    } else {
      bdayJD = hebrewToJD(nextYear, birthMonth, Math.min(birthDay, mLen));
    }
  }
  return bdayJD - todayJD;
}

function renderBirthday() {
  const container = document.getElementById("birthday-content");
  const bday = getBirthday();

  if (!bday) {
    container.innerHTML = '<div class="bday-section">' +
      '<div class="bday-title">Mon Tehilim personnel</div>' +
      '<div class="bday-desc">Selon la tradition juive, chaque personne a un chapitre de Tehilim qui lui correspond : son âge + 1. Entre ta date de naissance pour découvrir le tien.</div>' +
      '<div class="bday-form">' +
        '<input type="date" class="bday-date-input" id="bday-greg-date" onchange="onGregDateChange()">' +
        '<div class="bday-hebrew-preview" id="bday-hebrew-preview"></div>' +
        '<button class="bday-save" id="bday-save-btn" onclick="onSaveBirthday()" style="display:none">Découvrir mon Tehilim</button>' +
      '</div>' +
    '</div>';
  } else {
    // Show result
    const age = calcHebrewAge(bday.month, bday.day, bday.year);
    const tehilimNum = age + 1;
    const daysUntil = daysUntilHebrewBirthday(bday.month, bday.day);
    const monthInfo = HEBREW_MONTHS_LIST.find(m => m.value === bday.month);
    const monthName = monthInfo ? monthInfo.name : "";
    const monthHeb = monthInfo ? monthInfo.heb : "";

    let countdownHtml = "";
    if (daysUntil === 0) {
      countdownHtml = '<div class="bday-countdown" style="background:var(--black);"><span class="bday-countdown-num" style="color:var(--white);">🎂 היום!</span><span class="bday-countdown-label" style="color:var(--gray-2);">Joyeux anniversaire ! Aujourd\'hui tu commences le chapitre ' + tehilimNum + '</span></div>';
    } else {
      countdownHtml = '<div class="bday-countdown"><span class="bday-countdown-num">' + daysUntil + '</span><span class="bday-countdown-label">jour' + (daysUntil > 1 ? 's' : '') + ' avant ton prochain anniversaire hébraïque</span></div>';
    }

    let readBtn = "";
    if (TEHILIM.find(p => p.number === tehilimNum)) {
      readBtn = '<button class="bday-read-btn" onclick="openPerek(' + tehilimNum + ')">Lire le chapitre ' + tehilimNum + '</button>';
    } else {
      readBtn = '<div style="font-size:12px;color:var(--gray-3);margin-top:8px;">Ce chapitre sera bientôt disponible</div>';
    }

    container.innerHTML = '<div class="bday-section">' +
      '<div class="bday-result">' +
        '<div class="bday-result-tehilim">פרק ' + toHebrewNumeral(tehilimNum) + '</div>' +
        '<div class="bday-result-chapter">Chapitre ' + tehilimNum + '</div>' +
        '<div class="bday-result-sub">Ton Tehilim personnel</div>' +
        readBtn +
        '<div class="bday-result-info">Tu as ' + age + ' ans · Né(e) le ' + bday.day + ' ' + monthName + ' (' + monthHeb + ') ' + bday.year + '<br>' +
        'Âge (' + age + ') + 1 = Chapitre ' + tehilimNum + '</div>' +
      '</div>' +
      countdownHtml +
      '<div style="text-align:center"><button class="bday-reset" onclick="clearBirthday()">Modifier ma date de naissance</button></div>' +
    '</div>';
  }
}

function onGregDateChange() {
  const input = document.getElementById("bday-greg-date");
  const preview = document.getElementById("bday-hebrew-preview");
  const saveBtn = document.getElementById("bday-save-btn");
  if (!input.value) { preview.innerHTML = ""; saveBtn.style.display = "none"; return; }
  const parts = input.value.split("-");
  const d = new Date(parseInt(parts[0]), parseInt(parts[1]) - 1, parseInt(parts[2]));
  const heb = getHebrewDate(d);
  const monthInfo = HEBREW_MONTHS_LIST.find(m => m.value === heb.month);
  const monthName = monthInfo ? monthInfo.name : "";
  const monthHeb = monthInfo ? monthInfo.heb : "";
  preview.innerHTML = '<span class="bday-preview-heb">' + heb.day + ' ' + monthHeb + ' ' + heb.year + '</span>' +
    '<span class="bday-preview-latin">' + heb.day + ' ' + monthName + ' ' + heb.year + '</span>';
  saveBtn.style.display = "block";
  // Store temp data
  window._bdayTemp = { month: heb.month, day: heb.day, year: heb.year };
}

function onSaveBirthday() {
  if (!window._bdayTemp) return;
  saveBirthday(window._bdayTemp.month, window._bdayTemp.day, window._bdayTemp.year);
  window._bdayTemp = null;
  renderBirthday();
  updateBirthdaySub();
}

function updateBirthdaySub() {
  const el = document.getElementById("menu-birthday-sub");
  if (!el) return;
  const bday = getBirthday();
  if (bday) {
    const age = calcHebrewAge(bday.month, bday.day, bday.year);
    el.textContent = "Chapitre " + (age + 1) + " · " + age + " ans";
  } else {
    el.textContent = "Quel est ton chapitre personnel ?";
  }
}

function checkBirthdayPopup() {
  const bday = getBirthday();
  if (!bday) return;

  const daysUntil = daysUntilHebrewBirthday(bday.month, bday.day);
  const age = calcHebrewAge(bday.month, bday.day, bday.year);
  const tehilimNum = age + 1;
  const lastPopup = localStorage.getItem("tehilim_bday_popup_shown");
  const today = new Date().toDateString();
  if (lastPopup === today) return; // Already shown today

  let popupHtml = "";
  let shouldShow = false;

  if (daysUntil === 0) {
    // Birthday today!
    shouldShow = true;
    const nextAge = age; // They just turned this age
    popupHtml = '<div class="bday-popup-emoji">🎂✡️🎂</div>' +
      '<div class="bday-popup-title">!היום יום הולדת</div>' +
      '<div class="bday-popup-highlight">Mazal Tov ! Tu as ' + nextAge + ' ans aujourd\'hui !</div>' +
      '<div class="bday-popup-msg">« Le jour où tu es né(e), le monde entier ne pouvait plus continuer à exister sans toi. Il y a ' + nextAge + ' ans, des lumières uniques ont brillé pour ta venue au monde — et aujourd\'hui, elles brillent encore plus fort. »</div>' +
      '<div class="bday-popup-highlight">Aujourd\'hui tu commences le chapitre ' + tehilimNum + ' des Tehilim.</div>' +
      '<div class="bday-popup-msg">Un nouveau chapitre, de nouvelles hauteurs spirituelles. Que cette année soit remplie de bénédictions, de réussite et de joie !</div>';
  } else if (daysUntil === 30) {
    shouldShow = true;
    popupHtml = '<div class="bday-popup-emoji">📅</div>' +
      '<div class="bday-popup-title">תזכורת</div>' +
      '<div class="bday-popup-highlight">Dans 1 mois, c\'est ton anniversaire hébraïque !</div>' +
      '<div class="bday-popup-msg">Prépare-toi spirituellement. Bientôt tu entameras le chapitre ' + (age + 2) + ' des Tehilim.</div>';
  } else if (daysUntil === 14) {
    shouldShow = true;
    popupHtml = '<div class="bday-popup-emoji">🕯️</div>' +
      '<div class="bday-popup-title">תזכורת</div>' +
      '<div class="bday-popup-highlight">Dans 2 semaines, c\'est ton anniversaire hébraïque !</div>' +
      '<div class="bday-popup-msg">Le Rebbe enseigne que les jours avant l\'anniversaire sont propices à l\'introspection et aux bonnes résolutions.</div>';
  } else if (daysUntil === 7) {
    shouldShow = true;
    popupHtml = '<div class="bday-popup-emoji">⭐</div>' +
      '<div class="bday-popup-title">תזכורת</div>' +
      '<div class="bday-popup-highlight">Dans 1 semaine, c\'est ton anniversaire hébraïque !</div>' +
      '<div class="bday-popup-msg">C\'est le moment de finir le chapitre ' + tehilimNum + ' et de te préparer pour le chapitre ' + (age + 2) + ' qui t\'attend.</div>';
  }

  if (shouldShow) {
    document.getElementById("bday-popup-inner").innerHTML = popupHtml;
    document.getElementById("birthday-popup").style.display = "flex";
    localStorage.setItem("tehilim_bday_popup_shown", today);
  }
}

function closeBdayPopup() {
  document.getElementById("birthday-popup").style.display = "none";
}

// ====== TEHILIM AU CIMETIERE ======
var CEMETERY_PSALMS = [33, 16, 17, 72, 91, 104, 130];
var NESHAMA_LETTERS = [
  { letter: 'נ', name: 'Noun', start: 105, end: 112 },
  { letter: 'ש', name: 'Chin', start: 161, end: 168 },
  { letter: 'מ', name: 'Mem', start: 97, end: 104 },
  { letter: 'ה', name: 'Hé', start: 33, end: 40 }
];
var cemCardModes = {}; // per-card mode tracking

function cemToggleHtml(cardId, currentMode) {
  var modes = ['hebrew','phonetique','francais'];
  var labels = ['עברית','Phonétique','Français'];
  var h = '<div class="reading-toggle" data-mode="' + currentMode + '" style="margin:8px 0 12px">';
  h += '<div class="reading-toggle-slider"></div>';
  for (var i = 0; i < 3; i++) {
    h += '<button class="reading-toggle-btn' + (currentMode === modes[i] ? ' active' : '') + '" onclick="setCemCardMode(\'' + cardId + '\',\'' + modes[i] + '\')">' + labels[i] + '</button>';
  }
  h += '</div>';
  return h;
}

function setCemCardMode(cardId, mode) {
  cemCardModes[cardId] = mode;
  var bodyEl = document.getElementById(cardId);
  if (!bodyEl) return;
  // Determine what kind of card this is and re-render its content
  var data = bodyEl.getAttribute('data-cem');
  if (!data) return;
  var parsed = JSON.parse(data);
  var html = cemToggleHtml(cardId, mode);
  if (parsed.type === 'psalm') {
    var psalm = TEHILIM.find(function(p) { return p.number === parsed.num; });
    if (psalm) html += cemRenderVerses(psalm.verses, 1, mode);
  } else if (parsed.type === '119section') {
    var psalm119 = TEHILIM.find(function(p) { return p.number === 119; });
    if (psalm119) {
      var sv = [];
      for (var v = parsed.start - 1; v < parsed.end && v < psalm119.verses.length; v++) {
        sv.push(psalm119.verses[v]);
      }
      html += cemRenderVerses(sv, parsed.start, mode);
    }
  }
  bodyEl.innerHTML = html;
  // Make sure body is open
  if (!bodyEl.classList.contains('open')) bodyEl.classList.add('open');
}

function cemRenderVerses(verses, startIndex, mode) {
  var html = '';
  if (mode === 'hebrew') {
    verses.forEach(function(v, i) {
      html += '<div class="cem-verse"><span class="cem-verse-num">' + toHebrewNumeral(startIndex + i) + '</span> ' + v.hebrew + '</div>';
    });
  } else if (mode === 'phonetique') {
    verses.forEach(function(v, i) {
      html += '<div class="verse-block" style="margin:0 0 16px;padding-left:28px;position:relative"><span class="verse-num">' + toHebrewNumeral(startIndex + i) + '</span>';
      html += '<p class="hebrew-text">' + v.hebrew + '</p>';
      html += '<p class="phonetic-text">' + transliterate(v.hebrew) + '</p></div>';
    });
  } else {
    verses.forEach(function(v, i) {
      var frText = v.french || '<em style="color:var(--gray-4)">Traduction à venir</em>';
      html += '<div class="verse-block" style="margin:0 0 16px;padding-left:28px;position:relative"><span class="verse-num">' + toHebrewNumeral(startIndex + i) + '</span>';
      html += '<p class="french-text">' + frText + '</p></div>';
    });
  }
  return html;
}

function renderCemetery() {
  var container = document.getElementById('cemetery-content');
  if (!container.innerHTML) {
    var html = '';
    html += '<div class="cem-section-title">📖 Les 7 Psaumes</div>';
    CEMETERY_PSALMS.forEach(function(num) {
      var psalm = TEHILIM.find(function(p) { return p.number === num; });
      if (!psalm) return;
      var id = 'cem-psalm-' + num;
      var mode = cemCardModes[id] || 'hebrew';
      html += '<div class="cem-psalm-card">';
      html += '<div class="cem-psalm-header" onclick="toggleCemPsalm(\'' + id + '\')">';
      html += '<span class="cem-psalm-num">פרק ' + toHebrewNumeral(num) + ' · Psaume ' + num + '</span>';
      html += '<span class="cem-psalm-toggle" id="' + id + '-toggle">â–¼</span>';
      html += '</div>';
      html += '<div class="cem-psalm-body" id="' + id + '" data-cem=\'' + JSON.stringify({type:'psalm',num:num}) + '\'>';
      html += cemToggleHtml(id, mode);
      html += cemRenderVerses(psalm.verses, 1, mode);
      html += '</div></div>';
    });
    container.innerHTML = html;
    toggleCemPsalm('cem-psalm-33');
  }
  renderCemNeshama();
}

function renderCemNeshama() {
  var container = document.getElementById('cem-neshama-section');
  if (container.innerHTML) return;
  var psalm119 = TEHILIM.find(function(p) { return p.number === 119; });
  if (!psalm119) return;
  
  var html = '<div class="cem-section-title">✡ Psaume 119 · נשמה</div>';
  html += '<div class="cem-neshama-word">נ ש מ ה</div>';
  html += '<div style="text-align:center;font-size:12px;color:var(--gray-3);margin-bottom:16px">Néchama · L\'âme</div>';
  
  NESHAMA_LETTERS.forEach(function(info) {
    var id = 'cem-nesh-' + info.letter;
    var mode = cemCardModes[id] || 'hebrew';
    html += '<div class="cem-psalm-card">';
    html += '<div class="cem-psalm-header" onclick="toggleCemPsalm(\'' + id + '\')">';
    html += '<div style="display:flex;align-items:center;gap:10px">';
    html += '<div class="cem-119-circle">' + info.letter + '</div>';
    html += '<div class="cem-119-info">' + info.name + ' · ' + info.letter + '<div class="cem-119-range">Versets ' + info.start + '–' + info.end + '</div></div>';
    html += '</div>';
    html += '<span class="cem-psalm-toggle" id="' + id + '-toggle">â–¼</span>';
    html += '</div>';
    html += '<div class="cem-psalm-body" id="' + id + '" data-cem=\'' + JSON.stringify({type:'119section',start:info.start,end:info.end}) + '\'>';
    html += cemToggleHtml(id, mode);
    var sectionVerses = [];
    for (var v = info.start - 1; v < info.end && v < psalm119.verses.length; v++) {
      sectionVerses.push(psalm119.verses[v]);
    }
    html += cemRenderVerses(sectionVerses, info.start, mode);
    html += '</div></div>';
  });
  
  container.innerHTML = html;
}

// Cemetery name input handlers
function cemAddLetter(l) {
  var input = document.getElementById('cem-name-input');
  input.value += l;
  onCemNameInput();
}
function cemBackspace() {
  var input = document.getElementById('cem-name-input');
  input.value = input.value.slice(0, -1);
  onCemNameInput();
}
function clearCemName() {
  document.getElementById('cem-name-input').value = '';
  document.getElementById('cem-suggestions').classList.remove('active');
  document.getElementById('cem-suggestions').innerHTML = '';
  document.getElementById('cem-hebrew-preview').textContent = '';
  document.getElementById('cem-name-results').innerHTML = '';
  document.getElementById('cem-name-clear').style.display = 'none';
}

function selectCemName(hebrew) {
  document.getElementById('cem-name-input').value = hebrew;
  document.getElementById('cem-suggestions').classList.remove('active');
  document.getElementById('cem-suggestions').innerHTML = '';
  document.getElementById('cem-hebrew-preview').textContent = hebrew;
  document.getElementById('cem-name-clear').style.display = 'flex';
  var letters = extractHebrewLetters(hebrew);
  renderCemNameResults(letters, hebrew);
}

function renderCemSuggestions(query) {
  var container = document.getElementById('cem-suggestions');
  if (!query || query.length < 1) {
    container.classList.remove('active');
    container.innerHTML = '';
    return;
  }
  var results = searchNames(query);
  if (results.length === 0) {
    container.classList.remove('active');
    container.innerHTML = '';
    return;
  }
  var genderIcon = { M: '👨', F: '👩', U: '' };
  var html = '';
  results.forEach(function(r) {
    html += '<div class="t119-sug-item" onclick="selectCemName(\'' + r.hebrew.replace(/'/g, "\\'") + '\')">';
    html += '<span class="t119-sug-heb">' + r.hebrew + '</span>';
    html += '<span class="t119-sug-lat">' + r.latin + '<span class="t119-sug-gender">' + (genderIcon[r.gender] || '') + '</span></span>';
    html += '</div>';
  });
  container.innerHTML = html;
  container.classList.add('active');
}

function onCemNameInput() {
  var val = document.getElementById('cem-name-input').value;
  var clearBtn = document.getElementById('cem-name-clear');
  clearBtn.style.display = val.length > 0 ? 'flex' : 'none';
  
  var isHebrew = val.length > 0 && val.charCodeAt(0) >= 0x0590 && val.charCodeAt(0) <= 0x05FF;
  
  if (isHebrew) {
    document.getElementById('cem-hebrew-preview').textContent = val;
    document.getElementById('cem-suggestions').classList.remove('active');
    document.getElementById('cem-suggestions').innerHTML = '';
    var letters = extractHebrewLetters(val);
    renderCemNameResults(letters, val);
  } else {
    renderCemSuggestions(val);
    var hebrew = frenchToHebrew(val);
    document.getElementById('cem-hebrew-preview').textContent = hebrew;
    var letters = extractHebrewLetters(hebrew);
    renderCemNameResults(letters, hebrew);
  }
}

function renderCemNameResults(letters, hebrewName) {
  var container = document.getElementById('cem-name-results');
  if (letters.length === 0) {
    container.innerHTML = '';
    return;
  }
  
  var psalm119 = TEHILIM.find(function(p) { return p.number === 119; });
  if (!psalm119) {
    container.innerHTML = '';
    return;
  }
  
  var html = '<div style="text-align:center;padding:8px 16px 12px;font-size:13px;color:var(--gray-2)">';
  html += '<strong>' + letters.length + ' section' + (letters.length > 1 ? 's' : '') + '</strong> pour <span style="font-family:Noto Serif Hebrew,serif;font-size:16px;font-weight:700">' + hebrewName.trim() + '</span>';
  html += '</div>';
  
  letters.forEach(function(info, idx) {
    var id = 'cem-name-119-' + idx;
    var mode = cemCardModes[id] || 'hebrew';
    html += '<div class="cem-psalm-card">';
    html += '<div class="cem-psalm-header" onclick="toggleCemPsalm(\'' + id + '\')">';
    html += '<div style="display:flex;align-items:center;gap:10px">';
    html += '<div class="cem-119-circle">' + info.letter + '</div>';
    html += '<div class="cem-119-info">' + info.name + ' · ' + info.letter + ' <span style="font-size:11px;color:var(--gray-3);font-weight:400">(lettre ' + (idx + 1) + ')</span><div class="cem-119-range">Versets ' + info.start + '–' + info.end + '</div></div>';
    html += '</div>';
    html += '<span class="cem-psalm-toggle" id="' + id + '-toggle">â–¼</span>';
    html += '</div>';
    html += '<div class="cem-psalm-body open" id="' + id + '" data-cem=\'' + JSON.stringify({type:'119section',start:info.start,end:info.end}) + '\'>';
    html += cemToggleHtml(id, mode);
    var sectionVerses = [];
    for (var v = info.start - 1; v < info.end && v < psalm119.verses.length; v++) {
      sectionVerses.push(psalm119.verses[v]);
    }
    html += cemRenderVerses(sectionVerses, info.start, mode);
    html += '</div></div>';
  });
  
  container.innerHTML = html;
}

function toggleCemPsalm(id) {
  var body = document.getElementById(id);
  var toggle = document.getElementById(id + '-toggle');
  if (!body) return;
  var isOpen = body.classList.contains('open');
  body.classList.toggle('open');
  if (toggle) toggle.classList.toggle('open');
}

// ====== TEHILIM 119 PAR NOM ======

// Dictionary of ~400 Hebrew first names: [french/latin variants, hebrew, gender M/F/U]

var t119KbdVisible = false;
function toggleT119Keyboard() {
  t119KbdVisible = !t119KbdVisible;
  var wrap = document.getElementById('t119-kbd-wrap');
  var txt = document.getElementById('t119-kbd-toggle-text');
  wrap.style.display = t119KbdVisible ? 'block' : 'none';
  txt.textContent = t119KbdVisible ? '⌨️ Masquer le clavier' : '⌨️ Clavier hébreu';
}

function searchNames(query) {
  if (!query || query.length < 1) return [];
  var lower = query.toLowerCase().replace(/[''`]/g, "'");
  var results = [];
  var seen = {};
  for (var i = 0; i < HEBREW_NAMES.length; i++) {
    var entry = HEBREW_NAMES[i];
    var variants = entry[0];
    var hebrew = entry[1];
    if (seen[hebrew]) continue;
    for (var j = 0; j < variants.length; j++) {
      if (variants[j].indexOf(lower) === 0 || (lower.length >= 2 && variants[j].indexOf(lower) !== -1)) {
        results.push({ latin: variants[0], hebrew: hebrew, gender: entry[2], match: variants[j] });
        seen[hebrew] = true;
        break;
      }
    }
    // Also check if hebrew input matches
    if (!seen[hebrew]) {
      var hebrewInput = frenchToHebrew(query);
      if (hebrew.indexOf(hebrewInput) === 0 && hebrewInput.length > 0) {
        results.push({ latin: variants[0], hebrew: hebrew, gender: entry[2], match: variants[0] });
        seen[hebrew] = true;
      }
    }
  }
  // Sort: exact start matches first, then by length
  results.sort(function(a, b) {
    var aStart = a.match.indexOf(lower) === 0 ? 0 : 1;
    var bStart = b.match.indexOf(lower) === 0 ? 0 : 1;
    if (aStart !== bStart) return aStart - bStart;
    return a.hebrew.length - b.hebrew.length;
  });
  return results.slice(0, 8);
}

function selectT119Name(hebrew) {
  document.getElementById('t119-input').value = hebrew;
  document.getElementById('t119-suggestions').classList.remove('active');
  document.getElementById('t119-suggestions').innerHTML = '';
  document.getElementById('t119-clear').style.display = 'inline-block';
  onT119Input();
}

function renderT119Suggestions(query) {
  var container = document.getElementById('t119-suggestions');
  if (!query || query.length < 1) {
    container.classList.remove('active');
    container.innerHTML = '';
    return;
  }
  var results = searchNames(query);
  if (results.length === 0) {
    container.classList.remove('active');
    container.innerHTML = '';
    return;
  }
  var genderIcon = { M: '👨', F: '👩', U: '' };
  var html = '';
  results.forEach(function(r) {
    html += '<div class="t119-sug-item" onclick="selectT119Name(\'' + r.hebrew.replace(/'/g, "\\'") + '\')">';
    html += '<span class="t119-sug-heb">' + r.hebrew + '</span>';
    html += '<span class="t119-sug-lat">' + r.latin + '<span class="t119-sug-gender">' + (genderIcon[r.gender] || '') + '</span></span>';
    html += '</div>';
  });
  container.innerHTML = html;
  container.classList.add('active');
}

var HEBREW_LETTERS_119 = [
  { letter: 'א', name: 'Aleph', start: 1, end: 8 },
  { letter: 'ב', name: 'Beth', start: 9, end: 16 },
  { letter: 'ג', name: 'Guimel', start: 17, end: 24 },
  { letter: 'ד', name: 'Daleth', start: 25, end: 32 },
  { letter: 'ה', name: 'Hé', start: 33, end: 40 },
  { letter: 'ו', name: 'Vav', start: 41, end: 48 },
  { letter: 'ז', name: 'Zayin', start: 49, end: 56 },
  { letter: 'ח', name: 'Heth', start: 57, end: 64 },
  { letter: 'ט', name: 'Teth', start: 65, end: 72 },
  { letter: 'י', name: 'Youd', start: 73, end: 80 },
  { letter: 'כ', name: 'Kaf', start: 81, end: 88 },
  { letter: 'ל', name: 'Lamed', start: 89, end: 96 },
  { letter: 'מ', name: 'Mem', start: 97, end: 104 },
  { letter: 'נ', name: 'Noun', start: 105, end: 112 },
  { letter: 'ס', name: 'Samekh', start: 113, end: 120 },
  { letter: 'ע', name: 'Ayin', start: 121, end: 128 },
  { letter: 'פ', name: 'Pé', start: 129, end: 136 },
  { letter: 'צ', name: 'Tsadi', start: 137, end: 144 },
  { letter: 'ק', name: 'Kouf', start: 145, end: 152 },
  { letter: 'ר', name: 'Rech', start: 153, end: 160 },
  { letter: 'ש', name: 'Chin', start: 161, end: 168 },
  { letter: 'ת', name: 'Tav', start: 169, end: 176 }
];

// French → Hebrew transliteration map (digraphs first)
var FR_HEB_DIGRAPHS = [
  ['sh', 'ש'], ['ch', 'ש'], ['ts', 'צ'], ['tz', 'צ'], ['kh', 'ח'],
  ['th', 'ת'], ['ph', 'פ'], ['dj', 'ג'], ['ou', 'ו'], ['gn', 'ג']
];
var FR_HEB_MAP = {
  'a': 'א', 'b': 'ב', 'c': 'כ', 'd': 'ד', 'e': 'א', 'f': 'פ',
  'g': 'ג', 'h': 'ה', 'i': 'י', 'j': 'ג', 'k': 'כ', 'l': 'ל',
  'm': 'מ', 'n': 'נ', 'o': 'ע', 'p': 'פ', 'q': 'ק', 'r': 'ר',
  's': 'ס', 't': 'ת', 'u': 'ו', 'v': 'ו', 'w': 'ו', 'x': 'כ',
  'y': 'י', 'z': 'ז'
};

function frenchToHebrew(text) {
  var result = '';
  var lower = text.toLowerCase();
  var i = 0;
  while (i < lower.length) {
    if (lower[i] === ' ') { result += ' '; i++; continue; }
    // Check if already Hebrew
    var code = lower.charCodeAt(i);
    if (code >= 0x0590 && code <= 0x05FF) { result += lower[i]; i++; continue; }
    // Check digraphs
    var found = false;
    if (i < lower.length - 1) {
      var di = lower.substr(i, 2);
      for (var d = 0; d < FR_HEB_DIGRAPHS.length; d++) {
        if (di === FR_HEB_DIGRAPHS[d][0]) {
          result += FR_HEB_DIGRAPHS[d][1];
          i += 2;
          found = true;
          break;
        }
      }
    }
    if (found) continue;
    // Single char
    var mapped = FR_HEB_MAP[lower[i]];
    if (mapped) result += mapped;
    i++;
  }
  return result;
}

function extractHebrewLetters(text) {
  var letters = [];
  for (var i = 0; i < text.length; i++) {
    var c = text[i];
    // Normalize final letters to regular
    if (c === 'ך') c = 'כ';
    if (c === 'ם') c = 'מ';
    if (c === 'ן') c = 'נ';
    if (c === 'ף') c = 'פ';
    if (c === 'ץ') c = 'צ';
    // Check if it's a valid Hebrew letter in our list
    var found = HEBREW_LETTERS_119.find(function(l) { return l.letter === c; });
    if (found) {
      letters.push(found);
    }
  }
  return letters;
}

function t119AddLetter(l) {
  var input = document.getElementById(_t119ActiveField);
  input.value += l;
  onT119Input();
}
function t119Backspace() {
  var input = document.getElementById(_t119ActiveField);
  input.value = input.value.slice(0, -1);
  onT119Input();
}
function clearT119() {
  document.getElementById('t119-input').value = '';
  document.getElementById('t119-mother-input').value = '';
  document.getElementById('t119-suggestions').classList.remove('active');
  document.getElementById('t119-suggestions').innerHTML = '';
  document.getElementById('t119-mother-suggestions').classList.remove('active');
  document.getElementById('t119-mother-suggestions').innerHTML = '';
  onT119Input();
}

function toggleBenBat(ctx) {
  var selector = ctx === 'chain' ? '.chain-benbat-slider .bb-slider-track' : '.t119-benbat-slider .bb-slider-track';
  var track = document.querySelector(selector);
  if (!track) return;
  track.classList.toggle('bat');
  if (ctx === 't119') onT119Input();
}

function getT119BenBat() {
  var track = document.querySelector('.t119-benbat-slider .bb-slider-track');
  return track && track.classList.contains('bat') ? 'bat' : 'ben';
}

function getChainBenBat() {
  var track = document.querySelector('.chain-benbat-slider .bb-slider-track');
  return track && track.classList.contains('bat') ? 'bat' : 'ben';
}

function onT119Input() {
  var val = document.getElementById('t119-input').value;
  var motherVal = document.getElementById('t119-mother-input').value;
  var clearBtn = document.getElementById('t119-clear');
  clearBtn.style.display = (val.length > 0 || motherVal.length > 0) ? 'inline-block' : 'none';
  
  // Show suggestions for active field
  var isHebrew = val.length > 0 && val.charCodeAt(0) >= 0x0590 && val.charCodeAt(0) <= 0x05FF;
  var isMotherHebrew = motherVal.length > 0 && motherVal.charCodeAt(0) >= 0x0590 && motherVal.charCodeAt(0) <= 0x05FF;
  
  // Suggestions for person name
  if (!isHebrew && val.length > 0) {
    renderT119Suggestions(val);
  } else {
    document.getElementById('t119-suggestions').classList.remove('active');
    document.getElementById('t119-suggestions').innerHTML = '';
  }
  
  // Suggestions for mother name
  if (!isMotherHebrew && motherVal.length > 0) {
    renderT119MotherSuggestions(motherVal);
  } else {
    document.getElementById('t119-mother-suggestions').classList.remove('active');
    document.getElementById('t119-mother-suggestions').innerHTML = '';
  }
  
  // Get hebrew for both names
  var hebrewPerson = isHebrew ? val : frenchToHebrew(val);
  var hebrewMother = isMotherHebrew ? motherVal : frenchToHebrew(motherVal);
  
  // Build preview
  var bb = getT119BenBat();
  var bbHeb = bb === 'bat' ? 'בת' : 'בן';
  var preview = '';
  if (hebrewPerson) preview = hebrewPerson;
  if (hebrewPerson && hebrewMother) preview += ' ' + bbHeb + ' ' + hebrewMother;
  else if (hebrewMother) preview = bbHeb + ' ' + hebrewMother;
  document.getElementById('t119-hebrew-preview').textContent = preview;
  
  // Combine all letters for T119 results
  var allLetters = [];
  if (hebrewPerson) allLetters = allLetters.concat(extractHebrewLetters(hebrewPerson));
  if (hebrewMother) allLetters = allLetters.concat(extractHebrewLetters(hebrewMother));
  
  renderT119Results(allLetters, preview);
}

function renderT119MotherSuggestions(query) {
  var container = document.getElementById('t119-mother-suggestions');
  if (!query || query.length < 1) {
    container.classList.remove('active');
    container.innerHTML = '';
    return;
  }
  var results = searchNames(query);
  if (results.length === 0) {
    container.classList.remove('active');
    container.innerHTML = '';
    return;
  }
  var html = '';
  results.slice(0, 5).forEach(function(r) {
    html += '<div class="t119-sug-item" onclick="selectT119MotherSuggestion(\'' + r.hebrew.replace(/'/g,"\\'") + '\')">';
    html += '<span class="t119-sug-hebrew">' + r.hebrew + '</span>';
    html += '<span class="t119-sug-latin">' + r.latin + '</span>';
    if (r.gender) html += '<span class="t119-sug-gender">' + (r.gender === 'M' ? '♂' : '♀') + '</span>';
    html += '</div>';
  });
  container.innerHTML = html;
  container.classList.add('active');
}

function selectT119MotherSuggestion(hebrew) {
  document.getElementById('t119-mother-input').value = hebrew;
  document.getElementById('t119-mother-suggestions').classList.remove('active');
  document.getElementById('t119-mother-suggestions').innerHTML = '';
  onT119Input();
}

function renderT119Results(letters, hebrewName) {
  var container = document.getElementById('t119-results');
  if (letters.length === 0) {
    container.innerHTML = '';
    return;
  }
  
  var psalm119 = TEHILIM.find(function(p) { return p.number === 119; });
  if (!psalm119) {
    container.innerHTML = '<div style="text-align:center;padding:20px;color:var(--gray-3)">Psaume 119 bientôt disponible</div>';
    return;
  }
  
  var html = '<div style="text-align:center;padding:8px 16px 12px;font-size:13px;color:var(--gray-2)">';
  html += '<strong>' + letters.length + ' section' + (letters.length > 1 ? 's' : '') + '</strong> pour <span style="font-family:Noto Serif Hebrew,serif;font-size:16px;font-weight:700">' + hebrewName.trim() + '</span>';
  html += '</div>';
  
  letters.forEach(function(info, idx) {
    html += '<div class="t119-letter-section">';
    html += '<div class="t119-letter-header">';
    html += '<div class="t119-letter-circle">' + info.letter + '</div>';
    html += '<div class="t119-letter-info"><div class="t119-letter-name">' + info.name + ' · ' + info.letter + ' <span style="font-size:11px;color:var(--gray-3);font-weight:400">(lettre ' + (idx + 1) + ')</span></div>';
    html += '<div class="t119-letter-range">Versets ' + info.start + '–' + info.end + '</div></div></div>';
    
    // Show verses
    for (var v = info.start - 1; v < info.end && v < psalm119.verses.length; v++) {
      var verse = psalm119.verses[v];
      html += '<div class="t119-verse"><span class="t119-verse-num">' + toHebrewNumeral(v + 1) + '</span> ' + verse.hebrew + '</div>';
    }
    html += '</div>';
  });
  
  container.innerHTML = html;
}

// ====== 10 OBJECTIFS QUOTIDIENS ======
var DAILY_PERIODS = [
  { id: 'matin', emoji: '🌅', label: 'Matin', hebrew: 'שַׁחÖ²רÖ´ית', h0: 5, h1: 12,
    bg: 'linear-gradient(135deg,#667eea,#764ba2)', dark: true,
    msg: 'Le matin est le fondement de la journée. Commence par remercier Hachem, donner la Tsédaka et prier avec ferveur.',
    items: [
      { id: 'modeh', emoji: '🌅', label: 'Modé Ani', bg: 'linear-gradient(135deg,#ff9a56,#ff6f61)' },
      { id: 'brakhot', emoji: '🙌', label: 'Brakhot du matin', bg: 'linear-gradient(135deg,#56ccf2,#2f80ed)' },
      { id: 'tsedaka_am', emoji: '🪙', label: 'Tsédaka', bg: 'linear-gradient(135deg,#f7d86e,#e8b923)' },
      { id: 'tefila', emoji: '🙏', label: 'Cha\'harit', bg: 'linear-gradient(135deg,#a78bfa,#7c3aed)' },
      { id: 'tehilim', emoji: '📖', label: 'Tehilim du jour', bg: 'linear-gradient(135deg,#6ee7b7,#059669)' },
      { id: 'etude_am', emoji: '📚', label: 'Étude de Torah', bg: 'linear-gradient(135deg,#f9a8d4,#ec4899)' }
    ]
  },
  { id: 'aprem', emoji: '🌤️', label: 'Après-midi', hebrew: 'מÖ´נÖ°חÖ¸ה', h0: 12, h1: 19,
    bg: 'linear-gradient(135deg,#f6d365,#fda085)', dark: false,
    msg: 'Min\'ha est la prière la plus précieuse : elle interrompt nos occupations pour se tourner vers Hachem.',
    items: [
      { id: 'casher', emoji: '🥩', label: 'Manger Casher', bg: 'linear-gradient(135deg,#fb923c,#ea580c)' },
      { id: 'tsedaka_pm', emoji: '🪙', label: 'Tsédaka', bg: 'linear-gradient(135deg,#f7d86e,#e8b923)' },
      { id: 'minha', emoji: '🙏', label: 'Min\'ha', bg: 'linear-gradient(135deg,#c084fc,#9333ea)' }
    ]
  },
  { id: 'soir', emoji: '🌙', label: 'Soir', hebrew: 'עÖ·רÖ°בÖ´ית', h0: 19, h1: 5,
    bg: 'linear-gradient(135deg,#0c3483,#a2b6df)', dark: true,
    msg: 'Le soir clôture la journée dans la sainteté. Prie, étudie, et transmets l\'amour de la Torah à tes proches.',
    items: [
      { id: 'arvit', emoji: '🌙', label: 'Arvit', bg: 'linear-gradient(135deg,#6366f1,#312e81)' },
      { id: 'etude_pm', emoji: '📚', label: 'Étude de Torah', bg: 'linear-gradient(135deg,#2dd4bf,#0d9488)' },
      { id: 'famille', emoji: '👨‍👩‍👧‍👦', label: 'Temps en famille', bg: 'linear-gradient(135deg,#fbbf24,#f59e0b)' },
      { id: 'transmission', emoji: '💡', label: 'Dougma \'Haya', bg: 'linear-gradient(135deg,#f472b6,#db2777)' }
    ]
  }
];
var TOTAL_OBJ = 13; // total sub-items across all periods

var _objStoryIdx = 0;
var _objStoryTimer = null;

function getObjStorageKey() {
  var d = new Date();
  return 'tehilim_obj_' + d.getFullYear() + '-' + String(d.getMonth()+1).padStart(2,'0') + '-' + String(d.getDate()).padStart(2,'0');
}

function getObjState() {
  try { return JSON.parse(localStorage.getItem(getObjStorageKey()) || '{}'); }
  catch(e) { return {}; }
}

function saveObjState(state) {
  localStorage.setItem(getObjStorageKey(), JSON.stringify(state));
}

function getCurrentPeriodIndex() {
  var h = new Date().getHours();
  for (var i = 0; i < DAILY_PERIODS.length; i++) {
    var p = DAILY_PERIODS[i];
    if (p.h1 > p.h0) {
      if (h >= p.h0 && h < p.h1) return i;
    } else {
      if (h >= p.h0 || h < p.h1) return i;
    }
  }
  return 0;
}

function countAllChecked(state) {
  var n = 0;
  DAILY_PERIODS.forEach(function(p) {
    p.items.forEach(function(it) { if (state[it.id]) n++; });
  });
  return n;
}

function countPeriodChecked(period, state) {
  var n = 0;
  period.items.forEach(function(it) { if (state[it.id]) n++; });
  return n;
}

// ---- STORY BAR (3 circles: matin / aprem / soir) ----
// Build flat list of all items with period info
var ALL_OBJ_ITEMS = [];
DAILY_PERIODS.forEach(function(p) {
  p.items.forEach(function(it) {
    ALL_OBJ_ITEMS.push({ id: it.id, emoji: it.emoji, label: it.label, period: p });
  });
});

function getCurrentItemIndex() {
  var pi = getCurrentPeriodIndex();
  var p = DAILY_PERIODS[pi];
  var state = getObjState();
  // Find first unchecked in current period
  var offset = 0;
  for (var i = 0; i < DAILY_PERIODS.length; i++) {
    if (i === pi) {
      for (var j = 0; j < p.items.length; j++) {
        if (!state[p.items[j].id]) return offset + j;
      }
      return offset;
    }
    offset += DAILY_PERIODS[i].items.length;
  }
  return 0;
}

function renderObjStoryBar() {
  var state = getObjState();
  var currentIdx = getCurrentPeriodIndex();
  // HOME: 3 period circles + HYY after Matin + Rambam after Après-midi
  var html3 = '';
  DAILY_PERIODS.forEach(function(p, i) {
    var total = p.items.length;
    var done = countPeriodChecked(p, state);
    var allDone = done === total;
    var isCurrent = i === currentIdx;
    var pct = total > 0 ? Math.round(done / total * 100) : 0;
    var ringBg = allDone ? '#dbdbdb' : (isCurrent ? 'conic-gradient(from 210deg, #f9ce34, #ee2a7b, #6228d7, #ee2a7b, #f9ce34)' : 'conic-gradient(from 0deg, #f9ce34 0%, #ee2a7b ' + pct + '%, var(--gray-5) ' + pct + '%)');
    html3 += '<div class="os-item' + (allDone ? ' done' : '') + (isCurrent ? ' current' : '') + '" onclick="openObjStory(' + i + ')">';
    html3 += '<div class="os-ring" style="background:' + ringBg + '"><div class="os-circle">' + p.emoji + '</div></div>';
    html3 += '<span class="os-label">' + p.label + ' ' + done + '/' + total + '</span>';
    html3 += '</div>';
    // Insert HYY story after Matin (index 0)
    if (i === 0) {
      html3 += '<div class="os-item" onclick="openTextStory(\'hyy\')">';
      html3 += '<div class="os-ring" style="background:linear-gradient(135deg, #f9ce34, #ee2a7b)"><div class="os-circle">📜</div></div>';
      html3 += '<span class="os-label">Hayom Yom</span>';
      html3 += '</div>';
    }
    // Insert Rambam story after Après-midi (index 1)
    if (i === 1) {
      html3 += '<div class="os-item" onclick="openTextStory(\'rambam\')">';
      html3 += '<div class="os-ring" style="background:linear-gradient(135deg, #6228d7, #ee2a7b)"><div class="os-circle">📚</div></div>';
      html3 += '<span class="os-label">Rambam</span>';
      html3 += '</div>';
    }
  });
  var bar = document.getElementById('obj-story-bar');
  if (bar) bar.innerHTML = html3;

  // SUB: 13 individual circles
  var curItem = getCurrentItemIndex();
  var html13 = '';
  ALL_OBJ_ITEMS.forEach(function(it, i) {
    var done = !!state[it.id];
    var isCurrent = i === curItem;
    var ringBg = done ? '#dbdbdb' : 'conic-gradient(from 210deg, #f9ce34, #ee2a7b, #6228d7, #ee2a7b, #f9ce34)';
    html13 += '<div class="os-item' + (done ? ' done' : '') + (isCurrent ? ' current' : '') + '" onclick="openItemStory(' + i + ')">';
    html13 += '<div class="os-ring" style="background:' + ringBg + '"><div class="os-circle">' + it.emoji + '</div></div>';
    html13 += '<span class="os-label">' + it.label + '</span>';
    html13 += '</div>';
  });
  var barSub = document.getElementById('obj-story-bar-sub');
  if (barSub) {
    barSub.innerHTML = html13;
    // Scroll to current
    setTimeout(function() {
      var items = barSub.querySelectorAll('.os-item');
      if (items[curItem]) items[curItem].scrollIntoView({ behavior:'smooth', inline:'center', block:'nearest' });
    }, 100);
  }
}

// ---- TEXT STORY (HYY / Rambam) ----
var _textStoryTimer = null;

function openTextStory(type) {
  _storyMode = 'text';
  var overlay = document.getElementById('obj-story-overlay');
  overlay.style.display = 'flex';

  // Hide tap zones for text stories, enable content interaction
  var tapL = overlay.querySelector('.os-tap-left');
  var tapR = overlay.querySelector('.os-tap-right');
  var content = document.getElementById('os-content');
  if (tapL) tapL.style.display = 'none';
  if (tapR) tapR.style.display = 'none';
  if (content) content.style.pointerEvents = 'auto';

  // No progress bar - text stories stay open
  document.getElementById('os-progress').innerHTML = '';

  var html = '';
  if (type === 'hyy') {
    overlay.style.background = 'linear-gradient(160deg, #1a1a2e 0%, #2d1b4e 50%, #1a1a2e 100%)';
    var dateEl = document.getElementById('hyy-date');
    var textEl = document.getElementById('hyy-text');
    var heDate = dateEl ? dateEl.textContent : '';
    var text = textEl ? (textEl.innerText || textEl.textContent || '') : '';
    text = text.replace('Chargement…', '').replace('Lire la suite ▾', '').trim();
    html += '<div class="os-emoji">📜</div>';
    html += '<div class="os-name" style="color:#f9ce34;font-size:22px;">Hayom Yom</div>';
    if (heDate) html += '<div class="os-time-badge" style="color:rgba(255,255,255,0.6)">' + heDate + '</div>';
    html += '<div style="color:#fff;font-size:15px;line-height:1.8;padding:16px 4px 0;text-align:left;max-height:55vh;overflow-y:auto;-webkit-overflow-scrolling:touch;">' + (text || '<em style="color:rgba(255,255,255,0.4)">Texte non disponible</em>') + '</div>';
    html += '<button onclick="shareHyy(event)" style="margin-top:20px;padding:12px 32px;border:2px solid rgba(255,255,255,0.7);border-radius:50px;background:rgba(255,255,255,0.1);backdrop-filter:blur(10px);color:#fff;font-size:14px;font-weight:700;cursor:pointer;display:flex;align-items:center;gap:8px;font-family:var(--font);"><svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="#fff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg> Partager</button>';
  } else if (type === 'rambam') {
    overlay.style.background = 'linear-gradient(160deg, #0f3460 0%, #16213e 50%, #1a1a2e 100%)';
    var titleEl = document.getElementById('rambam-date');
    var textEl2 = document.getElementById('rambam-text');
    var title = titleEl ? titleEl.textContent : '';
    var text2 = textEl2 ? (textEl2.innerText || textEl2.textContent || '') : '';
    text2 = text2.replace('Chargement…', '').replace('Lire la suite ▾', '').trim();
    html += '<div class="os-emoji">📚</div>';
    html += '<div class="os-name" style="color:#c084fc;font-size:22px;">Rambam</div>';
    if (title) html += '<div class="os-time-badge" style="color:rgba(255,255,255,0.6)">' + title + '</div>';
    html += '<div style="color:#fff;font-size:15px;line-height:1.8;padding:16px 4px 0;text-align:left;max-height:55vh;overflow-y:auto;-webkit-overflow-scrolling:touch;">' + (text2 || '<em style="color:rgba(255,255,255,0.4)">Texte non disponible</em>') + '</div>';
    html += '<button onclick="shareRambam(event)" style="margin-top:20px;padding:12px 32px;border:2px solid rgba(255,255,255,0.7);border-radius:50px;background:rgba(255,255,255,0.1);backdrop-filter:blur(10px);color:#fff;font-size:14px;font-weight:700;cursor:pointer;display:flex;align-items:center;gap:8px;font-family:var(--font);"><svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="#fff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg> Partager</button>';
  }

  document.getElementById('os-content').innerHTML = html;
}

// ---- ITEM STORY (13 individual) ----
var _itemStoryIdx = 0;
var _itemStoryTimer = null;
var _storyMode = 'period'; // 'period' or 'item'

function storyNav(dir) {
  if (_storyMode === 'text') { closeObjStory(); return; }
  if (_storyMode === 'item') { dir === 'next' ? itemStoryNext() : itemStoryPrev(); }
  else { dir === 'next' ? objStoryNext() : objStoryPrev(); }
}

function openItemStory(idx) {
  _storyMode = 'item';
  _itemStoryIdx = idx;
  var overlay = document.getElementById('obj-story-overlay');
  overlay.style.display = 'flex';
  renderItemStoryContent();
  startItemStoryTimer();
}

function renderItemStoryContent() {
  var it = ALL_OBJ_ITEMS[_itemStoryIdx];
  var period = it.period;
  var state = getObjState();
  var done = !!state[it.id];
  var dark = period.dark;
  var textColor = dark ? '#fff' : '#1a1a1a';

  // Progress bars (13 segments)
  var progHtml = '';
  for (var i = 0; i < ALL_OBJ_ITEMS.length; i++) {
    var pct = i < _itemStoryIdx ? 100 : (i === _itemStoryIdx ? 0 : 0);
    progHtml += '<div class="os-prog-seg"><div class="os-prog-fill" style="width:' + pct + '%"></div></div>';
  }
  document.getElementById('os-progress').innerHTML = progHtml;
  setTimeout(function() {
    var segs = document.querySelectorAll('.os-prog-fill');
    if (segs[_itemStoryIdx]) {
      segs[_itemStoryIdx].style.transition = 'width 6s linear';
      segs[_itemStoryIdx].style.width = '100%';
    }
  }, 50);

  var html = '<div class="os-time-badge" style="color:' + textColor + '">' + period.label + '</div>';
  html += '<div class="os-emoji">' + it.emoji + '</div>';
  html += '<div class="os-name" style="color:' + textColor + '">' + it.label + '</div>';
  html += '<div class="os-msg" style="color:' + textColor + '">' + period.msg + '</div>';
  html += '<button class="os-check-btn' + (done ? ' checked' : '') + '" style="color:' + textColor + '" onclick="event.stopPropagation();toggleItemFromStory(\'' + it.id + '\')">';
  html += done ? '✅ Accompli' : '☐ Marquer comme fait';
  html += '</button>';
  html += '<button onclick="event.stopPropagation();shareObjectives(event)" style="margin-top:12px;padding:10px 28px;border:2px solid ' + (dark ? 'rgba(255,255,255,0.5)' : 'rgba(0,0,0,0.15)') + ';border-radius:50px;background:' + (dark ? 'rgba(255,255,255,0.1)' : 'rgba(0,0,0,0.05)') + ';color:' + textColor + ';font-size:13px;font-weight:700;cursor:pointer;display:flex;align-items:center;gap:8px;font-family:var(--font);"><svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="' + textColor + '" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg> Partager</button>';

  document.getElementById('os-content').innerHTML = html;
  document.getElementById('obj-story-overlay').style.background = period.bg;
}

function toggleItemFromStory(id) {
  var state = getObjState();
  if (state[id]) { delete state[id]; } else { state[id] = new Date().toISOString(); }
  saveObjState(state);
  renderItemStoryContent();
  startItemStoryTimer();
}

function itemStoryNext() {
  if (_itemStoryTimer) { clearTimeout(_itemStoryTimer); _itemStoryTimer = null; }
  if (_itemStoryIdx < ALL_OBJ_ITEMS.length - 1) {
    _itemStoryIdx++;
    renderItemStoryContent();
    startItemStoryTimer();
  } else { closeObjStory(); }
}

function itemStoryPrev() {
  if (_itemStoryTimer) { clearTimeout(_itemStoryTimer); _itemStoryTimer = null; }
  if (_itemStoryIdx > 0) {
    _itemStoryIdx--;
    renderItemStoryContent();
    startItemStoryTimer();
  }
}

function startItemStoryTimer() {
  if (_itemStoryTimer) clearTimeout(_itemStoryTimer);
  _itemStoryTimer = setTimeout(itemStoryNext, 6000);
}

// ---- STORY OVERLAY (fullscreen per period) ----
function openObjStory(idx) {
  _storyMode = 'period';
  _objStoryIdx = idx;
  var overlay = document.getElementById('obj-story-overlay');
  overlay.style.display = 'flex';
  renderObjStoryContent();
  startObjStoryTimer();
}

function closeObjStory() {
  var overlay = document.getElementById('obj-story-overlay');
  overlay.style.display = 'none';
  if (_objStoryTimer) { clearTimeout(_objStoryTimer); _objStoryTimer = null; }
  if (_itemStoryTimer) { clearTimeout(_itemStoryTimer); _itemStoryTimer = null; }
  if (_textStoryTimer) { clearTimeout(_textStoryTimer); _textStoryTimer = null; }
  // Restore tap zones and pointer-events
  var tapL = overlay.querySelector('.os-tap-left');
  var tapR = overlay.querySelector('.os-tap-right');
  var content = document.getElementById('os-content');
  if (tapL) tapL.style.display = '';
  if (tapR) tapR.style.display = '';
  if (content) content.style.pointerEvents = '';
  renderObjStoryBar();
  updateBigObjSub();
  var objList = document.getElementById('obj-list');
  if (objList && objList.offsetParent !== null) renderObjectives();
}

function renderObjStoryContent() {
  var period = DAILY_PERIODS[_objStoryIdx];
  var state = getObjState();
  var dark = period.dark;
  var textColor = dark ? '#fff' : '#1a1a1a';

  // Progress bars (3 segments)
  var progHtml = '';
  for (var i = 0; i < DAILY_PERIODS.length; i++) {
    var pct = i < _objStoryIdx ? 100 : (i === _objStoryIdx ? 0 : 0);
    progHtml += '<div class="os-prog-seg"><div class="os-prog-fill" style="width:' + pct + '%"></div></div>';
  }
  document.getElementById('os-progress').innerHTML = progHtml;
  setTimeout(function() {
    var segs = document.querySelectorAll('.os-prog-fill');
    if (segs[_objStoryIdx]) {
      segs[_objStoryIdx].style.transition = 'width 8s linear';
      segs[_objStoryIdx].style.width = '100%';
    }
  }, 50);

  // Content
  var html = '<div class="os-time-badge" style="color:' + textColor + '">' + period.label + '</div>';
  html += '<div class="os-emoji">' + period.emoji + '</div>';
  html += '<div class="os-hebrew" style="color:' + textColor + '">' + period.hebrew + '</div>';
  html += '<div class="os-msg" style="color:' + textColor + '">' + period.msg + '</div>';

  // Checklist items
  html += '<div class="os-checklist">';
  period.items.forEach(function(it) {
    var done = !!state[it.id];
    html += '<div class="os-check-row' + (done ? ' checked' : '') + '" onclick="event.stopPropagation();toggleObjFromStory(\'' + it.id + '\')">';
    html += '<div class="os-check-box">' + (done ? '✅' : '☐') + '</div>';
    html += '<span class="os-check-emoji">' + it.emoji + '</span>';
    html += '<span class="os-check-label" style="color:' + textColor + '">' + it.label + '</span>';
    html += '</div>';
  });
  html += '</div>';

  document.getElementById('os-content').innerHTML = html;
  document.getElementById('obj-story-overlay').style.background = period.bg;
}

function toggleObjFromStory(id) {
  var state = getObjState();
  if (state[id]) { delete state[id]; } else { state[id] = new Date().toISOString(); }
  saveObjState(state);
  renderObjStoryContent();
  renderObjectives();
  // Reset timer on interaction
  startObjStoryTimer();
}

function objStoryNext() {
  if (_objStoryTimer) { clearTimeout(_objStoryTimer); _objStoryTimer = null; }
  if (_objStoryIdx < DAILY_PERIODS.length - 1) {
    _objStoryIdx++;
    renderObjStoryContent();
    startObjStoryTimer();
  } else {
    closeObjStory();
  }
}

function objStoryPrev() {
  if (_objStoryTimer) { clearTimeout(_objStoryTimer); _objStoryTimer = null; }
  if (_objStoryIdx > 0) {
    _objStoryIdx--;
    renderObjStoryContent();
    startObjStoryTimer();
  }
}

function startObjStoryTimer() {
  if (_objStoryTimer) clearTimeout(_objStoryTimer);
  _objStoryTimer = setTimeout(objStoryNext, 8000);
}

// Auto-show story on app open for current period
function autoShowObjStory() {
  var state = getObjState();
  var itemIdx = getCurrentItemIndex();
  var it = ALL_OBJ_ITEMS[itemIdx];
  if (!state[it.id]) {
    var sessionKey = 'tehilim_story_shown_' + new Date().getHours();
    if (!sessionStorage.getItem(sessionKey)) {
      sessionStorage.setItem(sessionKey, '1');
      setTimeout(function() { openItemStory(itemIdx); }, 600);
    }
  }
}

// ---- HOME CHECKLIST ----
function renderObjectives() {
  var container = document.getElementById('obj-list');
  if (!container) return;
  var state = getObjState();
  var checked = countAllChecked(state);
  var html = '';

  DAILY_PERIODS.forEach(function(period, pi) {
    var periodDone = countPeriodChecked(period, state);
    var periodTotal = period.items.length;
    html += '<div class="obj-period-header" onclick="openObjStory(' + pi + ')">';
    html += '<span class="obj-period-emoji">' + period.emoji + '</span>';
    html += '<span class="obj-period-name">' + period.label + '</span>';
    html += '<span class="obj-period-count">' + periodDone + '/' + periodTotal + '</span>';
    html += '</div>';
    html += '<div class="obj-grid">';
    period.items.forEach(function(it) {
      var done = !!state[it.id];
      html += '<div class="obj-item' + (done ? ' checked' : '') + '" onclick="toggleObjective(\'' + it.id + '\')">';
      html += '<div class="obj-emoji-wrap" style="background:' + (it.bg || 'rgba(255,255,255,0.3)') + '">' + it.emoji;
      html += '<div class="obj-checkbox"><svg class="obj-check-svg" viewBox="0 0 12 12" fill="none"><polyline points="2,6 5,9 10,3" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></div>';
      html += '</div>';
      html += '<div class="obj-label-wrap"><span class="obj-label">' + it.label + '</span></div>';
      html += '</div>';
    });
    html += '</div>';
  });

  container.innerHTML = html;

  // Completion quote
  var cqEl = document.getElementById('obj-complete-quote');
  if (checked === TOTAL_OBJ) {
    var dayIdx = new Date().getDate() % COMPLETION_QUOTES.length;
    var cq = COMPLETION_QUOTES[dayIdx];
    cqEl.innerHTML = '<div class="obj-cq-bravo">🎉 Kol HaKavod !</div><div class="obj-cq-text">« ' + cq.text + ' »</div><div class="obj-cq-source">— ' + cq.source + '</div>';
    cqEl.classList.add('show');
  } else {
    cqEl.classList.remove('show');
    cqEl.innerHTML = '';
  }

  // Counter & progress
  var counter = document.getElementById('obj-counter');
  if (counter) { counter.textContent = checked + '/' + TOTAL_OBJ; counter.classList.toggle('done', checked === TOTAL_OBJ); }
  var fill = document.getElementById('obj-progress-fill');
  if (fill) fill.style.width = (checked / TOTAL_OBJ * 100) + '%';
  var bigSub = document.getElementById('big-obj-sub');
  if (bigSub) bigSub.textContent = checked + '/' + TOTAL_OBJ + ' accomplis';
  var homeFill = document.getElementById('obj-progress-home-fill');
  if (homeFill) { homeFill.style.width = (checked / TOTAL_OBJ * 100) + '%'; homeFill.style.background = checked === TOTAL_OBJ ? '#16a34a' : ''; }
  var homePct = document.getElementById('obj-progress-home-pct');
  if (homePct) { homePct.textContent = Math.round(checked / TOTAL_OBJ * 100) + '%'; homePct.style.color = checked === TOTAL_OBJ ? '#16a34a' : ''; }
  renderObjStoryBar();
}

function toggleObjective(id) {
  var state = getObjState();
  if (state[id]) { delete state[id]; } else { state[id] = new Date().toISOString(); }
  saveObjState(state);
  renderObjectives();
}

function resetObjectives() {
  if (!confirm('Réinitialiser tous les objectifs du jour ?')) return;
  localStorage.removeItem(getObjStorageKey());
  renderObjectives();
}

function cleanOldObjectives() {
  var now = new Date();
  for (var i = 0; i < localStorage.length; i++) {
    var key = localStorage.key(i);
    if (key && key.startsWith('tehilim_obj_')) {
      var dateStr = key.replace('tehilim_obj_', '');
      var date = new Date(dateStr);
      var diff = (now - date) / (1000 * 60 * 60 * 24);
      if (diff > 7) localStorage.removeItem(key);
    }
  }
}

// ====== CHAINS DE TEHILIM ======
// --- BACKEND ---
var CHAIN_API_URL = "https://script.google.com/macros/s/AKfycbyZI_VrGxMU0ecYy5DNFTZEnvPyx-4TU_GVwXarpQ9jkbN_9qko5oAGZmPPsDoa68gG/exec";

var currentChainId = null;
var _chainUserId = null;
var _chainUserName = null;
var _myAssignment = null; // current assigned psalm number

function getChainUserId() {
  if (_chainUserId) return _chainUserId;
  _chainUserId = localStorage.getItem('tehilim_user_id');
  if (!_chainUserId) {
    _chainUserId = 'u_' + Date.now().toString(36) + Math.random().toString(36).substr(2, 6);
    localStorage.setItem('tehilim_user_id', _chainUserId);
  }
  return _chainUserId;
}

function getChainUserName() {
  if (_chainUserName) return _chainUserName;
  _chainUserName = localStorage.getItem('tehilim_user_name') || '';
  return _chainUserName;
}

function setChainUserName(name) {
  _chainUserName = name;
  localStorage.setItem('tehilim_user_name', name);
}

function chainApi(params, callback) {
  if (!CHAIN_API_URL) { callback({ error: "Backend non configuré" }); return; }
  var url = CHAIN_API_URL + '?';
  var keys = Object.keys(params);
  for (var i = 0; i < keys.length; i++) {
    if (i > 0) url += '&';
    url += encodeURIComponent(keys[i]) + '=' + encodeURIComponent(params[keys[i]]);
  }
  fetch(url).then(function(r) { return r.json(); })
    .then(function(data) { callback(data); })
    .catch(function(err) { callback({ error: err.message }); });
}

// --- LOCAL STORAGE (fallback + cache) ---
function getChains() {
  try { return JSON.parse(localStorage.getItem('tehilim_chains') || '[]'); } catch(e) { return []; }
}
function saveChains(chains) {
  localStorage.setItem('tehilim_chains', JSON.stringify(chains));
}
function generateId() {
  return Date.now().toString(36) + Math.random().toString(36).substr(2, 6);
}

var chainTypeLabels = {
  refoua: '🩺 Réfoua Chéléma',
  mariage: '💍 Pour le mariage',
  memoire: '🕯️ À la mémoire',
  autre: '✨ Autre'
};

// --- UI: FORM ---
function showChainForm() {
  document.getElementById('chain-form').style.display = 'block';
  document.getElementById('chain-create-section').style.display = 'none';
  document.getElementById('chain-firstname').value = '';
  document.getElementById('chain-mothername').value = '';
  document.getElementById('chain-desc-input').value = '';
  document.querySelectorAll('.chain-type-btn').forEach(function(b) { b.classList.remove('active'); });
  document.querySelector('.chain-type-btn[data-type="refoua"]').classList.add('active');
  var chainSlider = document.querySelector('.chain-benbat-slider .bb-slider-track');
  if (chainSlider) chainSlider.classList.remove('bat');
  ensureNamePrompt();
}
function hideChainForm() {
  document.getElementById('chain-form').style.display = 'none';
  document.getElementById('chain-create-section').style.display = 'block';
}
function selectChainType(el) {
  document.querySelectorAll('.chain-type-btn').forEach(function(b) { b.classList.remove('active'); });
  el.classList.add('active');
}
function getSelectedType() {
  var active = document.querySelector('.chain-type-btn.active');
  return active ? active.getAttribute('data-type') : 'refoua';
}

function ensureNamePrompt() {
  if (getChainUserName()) return;
  var name = prompt("Entrez votre prénom (visible par les autres participants) :");
  if (name && name.trim()) setChainUserName(name.trim());
}

// --- CREATE CHAIN ---
function createChain() {
  var firstname = document.getElementById('chain-firstname').value.trim();
  var mothername = document.getElementById('chain-mothername').value.trim();
  if (!firstname) { document.getElementById('chain-firstname').style.borderColor = '#e74c3c'; return; }
  var bb = getChainBenBat();
  var name = firstname + ' ' + bb + ' ' + mothername;
  if (!mothername) name = firstname;
  ensureNamePrompt();
  
  var chain = {
    id: generateId(),
    type: getSelectedType(),
    name: name,
    description: document.getElementById('chain-desc-input').value.trim(),
    created: new Date().toISOString(),
    psalmsRead: [], psalmsAssigned: [],
    cycles: 0, nextPsalm: 1,
    participantCount: 1, synced: false
  };
  
  if (CHAIN_API_URL) {
    chainApi({
      action: 'createChain',
      type: chain.type, name: chain.name,
      description: chain.description,
      userId: getChainUserId(),
      userName: getChainUserName() || 'Créateur'
    }, function(result) {
      if (result.success && result.chainId) {
        chain.id = result.chainId;
        chain.synced = true;
      }
      var chains = getChains();
      chains.unshift(chain);
      saveChains(chains);
      hideChainForm();
      renderChainList();
      openChainDetail(chain.id);
    });
  } else {
    var chains = getChains();
    chains.unshift(chain);
    saveChains(chains);
    hideChainForm();
    renderChainList();
    openChainDetail(chain.id);
  }
}

// --- LIST ---
function renderChainList() {
  var chains = getChains();
  var list = document.getElementById('chain-list');
  if (chains.length === 0) {
    list.innerHTML = '<div class="chain-empty"><div style="font-size:40px;margin-bottom:12px">🔗</div>Aucune chaîne pour le moment.<br>Créez-en une pour commencer !</div>';
    return;
  }
  var html = '';
  chains.forEach(function(c) {
    var readLen = (c.psalmsRead || []).length;
    var progress = Math.round((readLen / 150) * 100);
    var typeLabel = c.type === 'refoua' ? 'Réfoua' : c.type === 'mariage' ? 'Mariage' : c.type === 'memoire' ? 'Mémoire' : 'Autre';
    var dateStr = new Date(c.created).toLocaleDateString('fr-FR', { day:'numeric', month:'short' });
    html += '<div class="chain-card" onclick="openChainDetail(\'' + c.id + '\')">';
    html += '<div class="chain-card-top"><span class="chain-card-type ' + c.type + '">' + typeLabel + '</span>';
    if (c.participantCount > 1) html += '<span class="chain-card-date">👥 ' + c.participantCount + '</span>';
    html += '<span class="chain-card-date">' + dateStr + '</span></div>';
    html += '<div class="chain-card-name">' + escapeHtml(c.name) + '</div>';
    if (c.description) html += '<div class="chain-card-descr">' + escapeHtml(c.description) + '</div>';
    html += '<div class="chain-card-progress"><div class="chain-progress-bar"><div class="chain-progress-fill" style="width:' + progress + '%"></div></div>';
    html += '<span class="chain-progress-text">' + readLen + '/150' + (c.cycles > 0 ? ' · Cycle ' + (c.cycles + 1) : '') + '</span></div>';
    html += '</div>';
  });
  list.innerHTML = html;
}

function escapeHtml(t) {
  var d = document.createElement('div'); d.textContent = t; return d.innerHTML;
}

// --- OPEN DETAIL ---
function openChainDetail(id) {
  currentChainId = id;
  var content = document.getElementById('chain-detail-content');
  content.innerHTML = '<div style="text-align:center;padding:60px 20px;color:var(--gray-3)"><div style="font-size:28px;margin-bottom:12px">⏳</div>Chargement de la chaîne...</div>';
  switchTab('chain-detail');
  
  if (CHAIN_API_URL) {
    chainApi({ action: 'getChain', chainId: id }, function(result) {
      if (result.success && result.chain) {
        var sc = result.chain;
        // Update local cache
        var chains = getChains();
        var idx = chains.findIndex(function(c) { return c.id === id; });
        var localChain = {
          id: sc.id, type: sc.type, name: sc.name,
          description: sc.description || '', created: sc.createdAt,
          psalmsRead: sc.psalmsRead || [], psalmsAssigned: sc.psalmsAssigned || [],
          cycles: sc.cycles || 0, participantCount: sc.participantCount || 0,
          synced: true
        };
        if (idx >= 0) chains[idx] = localChain;
        else chains.unshift(localChain);
        saveChains(chains);
        renderChainDetailV2(sc);
      } else {
        // Fallback local
        var chains = getChains();
        var chain = chains.find(function(c) { return c.id === id; });
        if (chain) renderChainDetailLocal(chain);
        else content.innerHTML = '<div style="text-align:center;padding:40px;color:#e74c3c">Chaîne non trouvée</div>';
      }
    });
  } else {
    var chains = getChains();
    var chain = chains.find(function(c) { return c.id === id; });
    if (chain) renderChainDetailLocal(chain);
  }
}

// --- RENDER DETAIL v2 (with server data) ---
function renderChainDetailV2(sc) {
  var content = document.getElementById('chain-detail-content');
  var progress = sc.progress || 0;
  var typeLabel = chainTypeLabels[sc.type] || sc.type;

  var html = '';
  
  // Header
  html += '<div class="chain-detail-header">';
  html += '<div class="chain-detail-type" style="background:' + getTypeColor(sc.type) + '">' + typeLabel + '</div>';
  html += '<div class="chain-detail-name">' + escapeHtml(sc.name) + '</div>';
  if (sc.description) html += '<div class="chain-detail-desc">' + escapeHtml(sc.description) + '</div>';
  html += '</div>';

  // Stats bar
  html += '<div style="display:flex;gap:8px;margin:0 16px 16px;flex-wrap:wrap">';
  html += '<div class="chain-stat-pill">👥 ' + (sc.participantCount || 0) + ' participant' + ((sc.participantCount || 0) > 1 ? 's' : '') + '</div>';
  html += '<div class="chain-stat-pill">📖 ' + (sc.totalReadAllTime || 0) + ' lecture' + ((sc.totalReadAllTime || 0) > 1 ? 's' : '') + ' au total</div>';
  if (sc.cycles > 0) html += '<div class="chain-stat-pill">🔄 ' + sc.cycles + ' cycle' + (sc.cycles > 1 ? 's' : '') + ' complété' + (sc.cycles > 1 ? 's' : '') + '</div>';
  html += '</div>';

  // Progress wheel
  html += '<div class="chain-wheel">';
  html += '<div class="chain-wheel-ring" style="background:conic-gradient(#ee2a7b 0% ' + progress + '%, var(--gray-5) ' + progress + '% 100%)">';
  html += '<div class="chain-wheel-inner">';
  html += '<div class="chain-wheel-count">' + sc.totalRead + '<span style="font-size:16px;color:var(--gray-3)">/150</span></div>';
  html += '<div class="chain-wheel-label">psaumes lus</div>';
  if (sc.cycles > 0) html += '<div class="chain-wheel-cycle">Cycle ' + (sc.cycles + 1) + '</div>';
  html += '</div></div></div>';

  // My assignment / Join button
  html += '<div id="chain-assignment-section" style="margin:0 16px 16px">';
  html += '<div style="text-align:center;padding:12px;color:var(--gray-3);font-size:12px">Chargement de votre psaume...</div>';
  html += '</div>';

  // Grid
  html += '<div class="chain-psalms-grid">';
  for (var i = 1; i <= 150; i++) {
    var cls = 'chain-psalm-cell';
    if (sc.psalmsRead.indexOf(i) !== -1) cls += ' read';
    else if (sc.psalmsAssigned.indexOf(i) !== -1) cls += ' assigned';
    html += '<div class="' + cls + '">' + i + '</div>';
  }
  html += '</div>';

  // Legend
  html += '<div style="display:flex;gap:16px;justify-content:center;margin:8px 16px 16px;font-size:11px;color:var(--gray-3)">';
  html += '<span>⬜ Disponible</span><span style="color:#f39c12">🟧 Attribué</span><span style="color:#ee2a7b">✅ Lu</span>';
  html += '</div>';

  // Reader stats
  if (sc.readerStats && Object.keys(sc.readerStats).length > 0) {
    html += '<div class="cem-section-title" style="font-size:12px">🏆 Classement des lecteurs</div>';
    var sorted = Object.entries(sc.readerStats).sort(function(a,b) { return b[1] - a[1]; });
    html += '<div style="margin:0 16px 16px">';
    sorted.forEach(function(entry, idx) {
      var medal = idx === 0 ? '🥇' : idx === 1 ? '🥈' : idx === 2 ? '🥉' : '📖';
      html += '<div style="display:flex;justify-content:space-between;padding:8px 12px;background:var(--white);border:1px solid var(--gray-5);border-radius:8px;margin-bottom:4px;font-size:13px">';
      html += '<span>' + medal + ' ' + escapeHtml(entry[0]) + '</span>';
      html += '<span style="font-weight:700;color:var(--black)">' + entry[1] + ' psaumes</span>';
      html += '</div>';
    });
    html += '</div>';
  }

  // Share
  html += '<div class="chain-share-section">';
  html += '<button class="chain-share-btn" onclick="shareChain()" style="flex:1;display:flex;align-items:center;justify-content:center;gap:8px;"><svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg> Partager</button>';
  html += '</div>';

  // Delete
  html += '<button class="chain-delete-btn" onclick="deleteChain()">🗑️ Supprimer cette chaîne</button>';

  content.innerHTML = html;
  
  // Load my assignment
  loadMyAssignment(sc);
}

function loadMyAssignment(sc) {
  var section = document.getElementById('chain-assignment-section');
  if (!section) return;
  
  chainApi({ 
    action: 'getMyAssignment', 
    chainId: currentChainId, 
    userId: getChainUserId() 
  }, function(result) {
    if (result.success) {
      _myAssignment = result.assignedPsalm;
      var html = '';
      if (result.assignedPsalm) {
        html += '<div style="background:linear-gradient(135deg,#667eea,#764ba2);border-radius:16px;padding:20px;text-align:center;color:white">';
        html += '<div style="font-size:12px;opacity:0.8;margin-bottom:4px">Votre psaume à lire</div>';
        html += '<div style="font-size:36px;font-weight:700;font-family:Noto Serif Hebrew,serif;margin-bottom:8px">תהלים ' + toHebrewNumeral(result.assignedPsalm) + '</div>';
        html += '<div style="font-size:14px;margin-bottom:12px">Tehilim ' + result.assignedPsalm + '</div>';
        html += '<button onclick="readMyAssignment()" style="background:white;color:#764ba2;border:none;border-radius:10px;padding:12px 24px;font-size:14px;font-weight:700;cursor:pointer;font-family:var(--font)">📖 Lire maintenant</button>';
        html += '</div>';
        if (result.myTotalRead > 0) {
          html += '<div style="text-align:center;margin-top:8px;font-size:12px;color:var(--gray-3)">Vous avez lu ' + result.myTotalRead + ' psaume' + (result.myTotalRead > 1 ? 's' : '') + ' au total</div>';
        }
      } else {
        // No assignment yet - need to join
        html += '<button onclick="joinCurrentChain()" class="chain-next-btn" style="width:100%">🤝 Rejoindre et recevoir un psaume</button>';
      }
      section.innerHTML = html;
    }
  });
}

function joinCurrentChain() {
  ensureNamePrompt();
  var section = document.getElementById('chain-assignment-section');
  if (section) section.innerHTML = '<div style="text-align:center;padding:16px;color:var(--gray-3)">Attribution en cours...</div>';
  
  chainApi({
    action: 'joinChain',
    chainId: currentChainId,
    userId: getChainUserId(),
    userName: getChainUserName() || 'Anonyme'
  }, function(result) {
    if (result.success && result.assignedPsalm) {
      _myAssignment = result.assignedPsalm;
      // Refresh the whole detail
      openChainDetail(currentChainId);
    } else if (result.success && !result.assignedPsalm) {
      if (section) section.innerHTML = '<div style="text-align:center;padding:16px;font-size:14px">🎉 Tous les psaumes sont attribués pour ce cycle !</div>';
    } else {
      if (section) section.innerHTML = '<div style="text-align:center;padding:16px;color:#e74c3c">' + (result.error || 'Erreur') + '</div>';
    }
  });
}

function readMyAssignment() {
  if (!_myAssignment) return;
  var psalmData = TEHILIM.find(function(p) { return p.number === _myAssignment; });
  if (!psalmData) {
    alert('Tehilim ' + _myAssignment + ' bientôt disponible');
    return;
  }
  browseSource = 'chain';
  window._chainPsalmNum = _myAssignment;
  availablePsalms = [psalmData];
  currentPsalm = 0;
  currentScreen = 'reading';
  document.getElementById('home').style.display = 'none';
  document.getElementById('reading').style.display = 'flex';
  window.scrollTo(0, 0);
  document.getElementById('reading').scrollTop = 0;
  renderReading();
}

// --- LOCAL FALLBACK RENDER ---
function renderChainDetailLocal(chain) {
  var content = document.getElementById('chain-detail-content');
  var readLen = (chain.psalmsRead || []).length;
  var progress = Math.round((readLen / 150) * 100);
  var typeLabel = chainTypeLabels[chain.type] || chain.type;

  var html = '<div class="chain-detail-header">';
  html += '<div class="chain-detail-type" style="background:' + getTypeColor(chain.type) + '">' + typeLabel + '</div>';
  html += '<div class="chain-detail-name">' + escapeHtml(chain.name) + '</div>';
  if (chain.description) html += '<div class="chain-detail-desc">' + escapeHtml(chain.description) + '</div>';
  html += '</div>';

  html += '<div class="chain-wheel">';
  html += '<div class="chain-wheel-ring" style="background:conic-gradient(#ee2a7b 0% ' + progress + '%, var(--gray-5) ' + progress + '% 100%)">';
  html += '<div class="chain-wheel-inner">';
  html += '<div class="chain-wheel-count">' + readLen + '<span style="font-size:16px;color:var(--gray-3)">/150</span></div>';
  html += '<div class="chain-wheel-label">psaumes lus</div>';
  html += '</div></div></div>';

  html += '<div style="text-align:center;padding:12px;font-size:12px;color:var(--gray-3)">⚠️ Mode hors ligne · Les données ne sont pas synchronisées</div>';

  html += '<div class="chain-share-section">';
  html += '<button class="chain-share-btn" onclick="shareChain()" style="flex:1;display:flex;align-items:center;justify-content:center;gap:8px;"><svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg> Partager</button>';
  html += '</div>';
  html += '<button class="chain-delete-btn" onclick="deleteChain()">🗑️ Supprimer cette chaîne</button>';

  content.innerHTML = html;
}

function getTypeColor(type) {
  if (type === 'refoua') return '#e74c3c';
  if (type === 'mariage') return '#9b59b6';
  if (type === 'memoire') return '#2c3e50';
  return '#27ae60';
}

// --- READING FLOW ---
function readNextPsalm() {
  readMyAssignment();
}

function backToChains() {
  switchTab('chains');
  currentChainId = null;
  _myAssignment = null;
}

function deleteChain() {
  if (!confirm('Supprimer cette chaîne ?')) return;
  var chains = getChains();
  chains = chains.filter(function(c) { return c.id !== currentChainId; });
  saveChains(chains);
  backToChains();
}

function getChainShareUrl() {
  var base = window.location.href.split('?')[0].split('#')[0];
  return base + '?chain=' + currentChainId;
}

function shareTehilimCard() {
  var sub = document.getElementById('big-teh-sub');
  var info = sub ? sub.textContent : 'Lire les Tehilim';
  var url = window.location.href.split('?')[0].split('#')[0];
  var text = '📖 Tehilim\n' + info + '\n\n📲 Chab\'app — ' + url;
  if (navigator.share) {
    navigator.share({ title: 'Tehilim', text: text }).catch(function(){});
  } else if (navigator.clipboard) {
    navigator.clipboard.writeText(text).then(function() { alert('Copié !'); });
  } else {
    prompt('Copiez ce texte :', text);
  }
}

function sharePsalm(num) {
  var url = window.location.href.split('?')[0].split('#')[0];
  var text = '📖 Tehilim ' + num + ' · תהלים ' + toHebrewNumeral(num);
  if (browseSource === 'chain') {
    var chains = getChains();
    var chain = chains.find(function(c) { return c.id === currentChainId; });
    if (chain) {
      text += '\n\n' + chainTypeLabels[chain.type] + ' · ' + chain.name;
    }
  }
  text += '\n\n📲 Chab\'app — ' + url;
  if (navigator.share) {
    navigator.share({ title: 'Tehilim ' + num, text: text }).catch(function(){});
  } else if (navigator.clipboard) {
    navigator.clipboard.writeText(text).then(function() { alert('Copié dans le presse-papier !'); });
  } else {
    prompt('Copiez ce texte :', text);
  }
}

function updateHomeNav(activeTab) {
  var nav = document.getElementById('home-nav');
  if (!nav) return;
  var items = nav.querySelectorAll('.insta-nav-item, .insta-nav-center');
  items.forEach(function(item) { item.classList.remove('active'); });
  var tabMap = { menu: 0, 'sub-sidour': 1, 'sub-sidour-patakh': 1, 'sub-objectifs': 2, 'sub-tehilim': 3, 'sub-etudes': 4, 'sub-club': 0, 'sub-beth': 0, jour: 0, chains: 0, 'chain-detail': 0, perek: 3, birthday: 0 };
  var idx = tabMap[activeTab];
  if (idx !== undefined && items[idx]) items[idx].classList.add('active');
}

function shareChain() {
  var chains = getChains();
  var chain = chains.find(function(c) { return c.id === currentChainId; });
  if (!chain) return;
  var shareUrl = getChainShareUrl();
  var text = chainTypeLabels[chain.type] + ' · ' + chain.name;
  if (chain.description) text += '\n' + chain.description;
  text += '\n\n📖 Rejoignez la chaîne de Tehilim ! Chaque participant reçoit un psaume unique à lire.';
  text += '\n\n📲 Chab\'app — ' + shareUrl;
  if (navigator.share) {
    navigator.share({ title: 'Chaîne de Tehilim', text: text }).catch(function(){});
  } else if (navigator.clipboard) {
    navigator.clipboard.writeText(text).then(function() { alert('Copié !'); });
  }
}

// --- SHARED CHAIN URL ---
function checkSharedChain() {
  if (window._sharedChainChecked) return;
  window._sharedChainChecked = true;
  var params = new URLSearchParams(window.location.search);
  var chainId = params.get('chain');
  if (!chainId) return;
  
  // Save in local list if not present
  var chains = getChains();
  var exists = chains.find(function(c) { return c.id === chainId; });
  if (!exists) {
    chains.unshift({ id: chainId, type: 'autre', name: 'Chargement...', created: new Date().toISOString(), psalmsRead: [], synced: true });
    saveChains(chains);
  }
  
  // Open chain detail (will load from API)
  setTimeout(function() { openChainDetail(chainId); }, 300);
}

// ====== HAYOM YOM (Hebrew date calc + Sefaria JSONP) ======
var _hyyExpanded = false;
function toggleHyy(e) {
  var txt = document.getElementById('hyy-text');
  var exp = document.getElementById('hyy-expand');
  if (!txt || txt.querySelector('.hyy-loading')) return;
  _hyyExpanded = !_hyyExpanded;
  if (_hyyExpanded) {
    txt.classList.add('expanded');
    exp.textContent = 'R\u00e9duire \u25b4';
  } else {
    txt.classList.remove('expanded');
    exp.textContent = 'Lire la suite \u25be';
  }
}

// ---- Pure JS Hebrew date converter ----
function _hyyFloor(x){return Math.floor(x);}
function _hyyMod(x,y){return x-y*_hyyFloor(x/y);}
function _hyyHebElapsedDays(y){
  var m=_hyyFloor((235*y-234)/19);
  var p=12084+13753*m;
  var d=29*m+_hyyFloor(p/25920);
  if(_hyyMod(3*(d+1),7)<3)d++;
  return d;
}
function _hyyHebYearDays(y){return _hyyHebElapsedDays(y+1)-_hyyHebElapsedDays(y);}
function _hyyIsLeap(y){return _hyyMod(7*y+1,19)<7;}
function _hyyHebMonthDays(y,m){
  // m: 1=Tishrei(30),2=Cheshvan(29/30),3=Kislev(29/30),4=Tevet(29),5=Shevat(30)
  // 6=AdarI(30leap/29),7=AdarII(29leap/0),8=Nisan(30),9=Iyyar(29),10=Sivan(30)
  // 11=Tammuz(29),12=Av(30),13=Elul(29)
  if(m==2)return _hyyHebYearDays(y)%10==5?30:29;
  if(m==3)return _hyyHebYearDays(y)%10!=3?30:29;
  if(m==4)return 29;
  if(m==6)return _hyyIsLeap(y)?30:29;
  if(m==7)return _hyyIsLeap(y)?29:0;
  if(m==9||m==11||m==13)return 29;
  return 30;
}
function _hyyGregToAbs(gy,gm,gd){
  var a=_hyyFloor((gy-1)/4)-_hyyFloor((gy-1)/100)+_hyyFloor((gy-1)/400);
  var b=365*(gy-1)+a+gd;
  var ml=[0,31,28,31,30,31,30,31,31,30,31,30];
  for(var i=1;i<gm;i++){b+=ml[i];}
  if(gm>2&&((gy%4==0&&gy%100!=0)||gy%400==0))b++;
  return b;
}
function gregToHebrew(gy,gm,gd){
  var abs=_hyyGregToAbs(gy,gm,gd);
  // Approximate Hebrew year
  var hy=gy+3760;
  // Hebrew epoch offset (calibrated: abs(1 Tishrei Y) = elapsed(Y) + epoch)
  var epoch=-1373427;
  // Use elapsed days to find year
  while(_hyyHebElapsedDays(hy+1)+epoch<=abs)hy++;
  while(_hyyHebElapsedDays(hy)+epoch>abs)hy--;
  var dayInYear=abs-(_hyyHebElapsedDays(hy)+epoch)+1;
  var hm=1,md;
  var monthOrder=_hyyIsLeap(hy)?[1,2,3,4,5,6,7,8,9,10,11,12,13]:[1,2,3,4,5,6,8,9,10,11,12,13];
  for(var i=0;i<monthOrder.length;i++){
    md=_hyyHebMonthDays(hy,monthOrder[i]);
    if(dayInYear<=md){hm=monthOrder[i];break;}
    dayInYear-=md;
  }
  var hd=dayInYear;
  var names={1:'Tishrei',2:'Cheshvan',3:'Kislev',4:'Tevet',5:'Shevat',6:'Adar I',7:'Adar II',8:'Nisan',9:'Iyyar',10:'Sivan',11:'Tammuz',12:'Av',13:'Elul'};
  // If not leap year, Adar I is just "Adar"
  var mName=names[hm]||'';
  if(hm==6&&!_hyyIsLeap(hy))mName='Adar';
  return {hy:hy,hm:hm,hd:hd,mName:mName};
}


// HaYom Yom: month index mapping for Sefaria-Export dataset
// text[0]=Tishrei, text[1]=Cheshvan, ..., text[4]=Shevat, text[5]=Adar/AdarI, text[6]=AdarII, text[7]=Nisan, ..., text[12]=Elul
// ====== SHABBAT TIMES (Hebcal API) ======
var _shabbatDefaultLat = 48.8566;
var _shabbatDefaultLng = 2.3522;
var _shabbatDefaultTz = 'Europe/Paris';
var _shabbatDefaultCity = 'Paris';

function loadShabbatTimes() {
  var cacheKey = 'tehilim_shabbat_v2_' + new Date().toISOString().slice(0,10);
  // Check cache first
  try {
    var cached = JSON.parse(localStorage.getItem(cacheKey));
    if (cached) { renderShabbatCard(cached); return; }
  } catch(e) {}

  // Try geolocation, fallback to Paris
  if (navigator.geolocation) {
    var _geoTimedOut = false;
    var _geoTimer = setTimeout(function() {
      _geoTimedOut = true;
      _fetchShabbatTimes(_shabbatDefaultLat, _shabbatDefaultLng, _shabbatDefaultCity, cacheKey);
    }, 3000);
    navigator.geolocation.getCurrentPosition(
      function(pos) {
        if (_geoTimedOut) return;
        clearTimeout(_geoTimer);
        _fetchShabbatTimes(pos.coords.latitude, pos.coords.longitude, null, cacheKey);
      },
      function() {
        if (_geoTimedOut) return;
        clearTimeout(_geoTimer);
        _fetchShabbatTimes(_shabbatDefaultLat, _shabbatDefaultLng, _shabbatDefaultCity, cacheKey);
      },
      { timeout: 3000 }
    );
  } else {
    _fetchShabbatTimes(_shabbatDefaultLat, _shabbatDefaultLng, _shabbatDefaultCity, cacheKey);
  }
}

function _countryFlag(cc) {
  if (!cc || cc.length !== 2) return '';
  var base = 0x1F1E6;
  return String.fromCodePoint(base + cc.charCodeAt(0) - 65, base + cc.charCodeAt(1) - 65);
}

function _fetchShabbatTimes(lat, lng, cityName, cacheKey) {
  var tzid = _shabbatDefaultTz;
  try { tzid = Intl.DateTimeFormat().resolvedOptions().timeZone || _shabbatDefaultTz; } catch(e) {}

  var url = 'https://www.hebcal.com/shabbat?cfg=json&geo=pos&latitude=' + lat.toFixed(4) + '&longitude=' + lng.toFixed(4) + '&tzid=' + encodeURIComponent(tzid) + '&M=on&b=18';
  console.log('Shabbat: fetching', url);

  var geoPromise;
  if (!cityName) {
    geoPromise = fetch('https://nominatim.openstreetmap.org/reverse?format=json&lat=' + lat.toFixed(6) + '&lon=' + lng.toFixed(6) + '&accept-language=fr')
      .then(function(r) { return r.json(); })
      .then(function(geo) {
        var addr = geo.address || {};
        var city = addr.city || addr.town || addr.village || addr.municipality || addr.state || '';
        var cc = (addr.country_code || '').toUpperCase();
        return { city: city, cc: cc };
      })
      .catch(function() { return { city: '', cc: '' }; });
  } else {
    geoPromise = Promise.resolve({ city: cityName, cc: 'FR' });
  }

  Promise.all([
    fetch(url).then(function(r) { if(!r.ok) throw new Error('HTTP '+r.status); return r.json(); }),
    geoPromise
  ]).then(function(results) {
    var data = results[0];
    var geoInfo = results[1];
    var result = _parseShabbatData(data, geoInfo.city);
    if (result) {
      result.countryCode = geoInfo.cc;
      try { localStorage.setItem(cacheKey, JSON.stringify(result)); } catch(e) {}
      renderShabbatCard(result);
    }
  }).catch(function(err) {
    console.log('Shabbat: API error:', err.message);
    renderShabbatCard({
      parasha: '', parashaHe: '',
      candles: '--:--', havdalah: '--:--',
      candleDate: '', havdalahDate: '',
      candleHeDate: '', havdalahHeDate: '',
      location: _shabbatDefaultCity, countryCode: 'FR'
    });
  });
}

function _parseShabbatData(data, cityName) {
  var items = data.items || [];
  var candleDate = null, havdalahDate = null, candleTime = '', havdalahTime = '', parasha = '', parashaHe = '';

  for (var i = 0; i < items.length; i++) {
    var it = items[i];
    if (it.category === 'candles') {
      candleTime = _formatHebcalTime(it.date);
      candleDate = new Date(it.date);
    } else if (it.category === 'havdalah') {
      havdalahTime = _formatHebcalTime(it.date);
      havdalahDate = new Date(it.date);
    } else if (it.category === 'parashat') {
      parasha = (it.title || '').replace('Parashat ', '');
      parashaHe = it.hebrew || '';
    }
  }

  if (!candleTime) candleTime = '--:--';

  var friday = candleDate || new Date();
  var saturday = havdalahDate || new Date(friday);
  if (!havdalahDate) saturday.setDate(saturday.getDate() + 1);

  var _pad = function(n) { return n < 10 ? '0' + n : '' + n; };
  var candleDateStr = _pad(friday.getDate()) + '/' + _pad(friday.getMonth() + 1);
  var havdalahDateStr = _pad(saturday.getDate()) + '/' + _pad(saturday.getMonth() + 1);

  // Hebrew dates
  var candleHeb = gregToHebrew(friday.getFullYear(), friday.getMonth() + 1, friday.getDate());
  var havdalahHeb = gregToHebrew(saturday.getFullYear(), saturday.getMonth() + 1, saturday.getDate());
  var candleHeDateStr = candleHeb.hd + ' ' + candleHeb.mName;
  var havdalahHeDateStr = havdalahHeb.hd + ' ' + havdalahHeb.mName;

  var locTitle = data.location ? (data.location.city || data.location.title || '') : '';
  if (/[\d.]+°/.test(locTitle) || /^\d/.test(locTitle)) locTitle = '';
  var location = cityName || locTitle || _shabbatDefaultCity;

  return {
    parasha: parasha,
    parashaHe: parashaHe,
    candles: candleTime,
    havdalah: havdalahTime,
    candleDate: candleDateStr,
    havdalahDate: havdalahDateStr,
    candleHeDate: candleHeDateStr,
    havdalahHeDate: havdalahHeDateStr,
    location: location
  };
}

function _formatHebcalTime(isoStr) {
  try {
    var d = new Date(isoStr);
    var h = d.getHours();
    var m = d.getMinutes();
    return (h < 10 ? '0' : '') + h + ':' + (m < 10 ? '0' : '') + m;
  } catch(e) { return ''; }
}

function renderShabbatCard(data) {
  var card = document.getElementById('shabbat-card');
  if (!card || !data) return;
  var parashaEl = document.getElementById('shabbat-parasha');
  var parashaHeEl = document.getElementById('shabbat-parasha-he');
  if (data.parasha) {
    parashaEl.textContent = data.parasha;
    parashaHeEl.textContent = data.parashaHe || '';
  } else {
    parashaEl.textContent = 'Chabbat';
    parashaHeEl.textContent = 'שבת';
  }
  // Smart badge (removed from UI)
  var now = new Date();
  var day = now.getDay();
  document.getElementById('shabbat-candles').textContent = data.candles || '--:--';
  document.getElementById('shabbat-havdalah').textContent = data.havdalah || '--:--';
  document.getElementById('shabbat-candles-date').textContent = data.candleDate || '';
  document.getElementById('shabbat-havdalah-date').textContent = data.havdalahDate || '';
  document.getElementById('shabbat-candles-hedate').textContent = data.candleHeDate || '';
  document.getElementById('shabbat-havdalah-hedate').textContent = data.havdalahHeDate || '';
  // City
  var cityEl = document.getElementById('shabbat-city');
  if (cityEl && data.location) {
    var flag = _countryFlag(data.countryCode || 'FR');
    cityEl.textContent = flag + ' ' + data.location;
  }
  // Background image from Wikipedia
  _loadCityImage(data.location);
  card.style.display = '';
}

function _loadCityImage(city) {
  if (!city) return;
  var bgEl = document.getElementById('shabbat-bg');
  if (!bgEl) return;
  // Check cache
  var cacheKey = 'shabbat_img_' + city.toLowerCase().replace(/\s+/g, '_');
  var cachedUrl = null;
  try { cachedUrl = localStorage.getItem(cacheKey); } catch(e) {}
  if (cachedUrl) {
    bgEl.style.backgroundImage = 'url(' + cachedUrl + ')';
    bgEl.classList.add('loaded');
    return;
  }
  // Fetch from Wikipedia
  var wikiUrl = 'https://en.wikipedia.org/api/rest_v1/page/summary/' + encodeURIComponent(city);
  fetch(wikiUrl)
    .then(function(r) { return r.json(); })
    .then(function(d) {
      var imgUrl = d.originalimage ? d.originalimage.source : (d.thumbnail ? d.thumbnail.source : null);
      if (imgUrl) {
        imgUrl = imgUrl.replace(/\/\d+px-/, '/1200px-');
        _applyBgImage(bgEl, imgUrl, cacheKey);
      } else {
        _fallbackCityImage(bgEl, city, cacheKey);
      }
    })
    .catch(function() {
      _fallbackCityImage(bgEl, city, cacheKey);
    });
}

function _fallbackCityImage(bgEl, city, cacheKey) {
  // Fallback: try Wikipedia with "Eiffel Tower" for Paris
  var fallbacks = {
    'paris': 'Eiffel_Tower',
    'jerusalem': 'Western_Wall',
    'tel aviv': 'Tel_Aviv',
    'new york': 'Manhattan',
    'london': 'Big_Ben',
    'marseille': 'Marseille',
    'lyon': 'Lyon',
    'nice': 'Nice',
    'strasbourg': 'Strasbourg'
  };
  var key = city.toLowerCase();
  var article = fallbacks[key] || city;
  var wikiUrl = 'https://en.wikipedia.org/api/rest_v1/page/summary/' + encodeURIComponent(article);
  fetch(wikiUrl)
    .then(function(r) { return r.json(); })
    .then(function(d) {
      var imgUrl = d.originalimage ? d.originalimage.source : (d.thumbnail ? d.thumbnail.source : null);
      if (imgUrl) {
        imgUrl = imgUrl.replace(/\/\d+px-/, '/1200px-');
        _applyBgImage(bgEl, imgUrl, cacheKey);
      }
    })
    .catch(function() {});
}

function _applyBgImage(bgEl, imgUrl, cacheKey) {
  try { localStorage.setItem(cacheKey, imgUrl); } catch(e) {}
  var img = new Image();
  img.onload = function() {
    bgEl.style.backgroundImage = 'url(' + imgUrl + ')';
    bgEl.classList.add('loaded');
  };
  img.src = imgUrl;
}

// ====== UNIVERSAL SHARE ======
var _shareIcon = '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>';

function appShare(title, text) {
  var url = window.location.href.split('?')[0].split('#')[0];
  text += '\n\n📲 Chab\'app — ' + url;
  if (navigator.share) {
    navigator.share({ title: title, text: text }).catch(function(){});
  } else if (navigator.clipboard) {
    navigator.clipboard.writeText(text).then(function() { alert('Copié dans le presse-papier !'); });
  } else {
    prompt('Copiez ce texte :', text);
  }
}

function shareShabbat(e) {
  if (e) e.stopPropagation();
  var parasha = document.getElementById('shabbat-parasha').textContent || '';
  var candles = document.getElementById('shabbat-candles').textContent || '';
  var havdalah = document.getElementById('shabbat-havdalah').textContent || '';
  var candleDate = document.getElementById('shabbat-candles-date').textContent || '';
  var havdalahDate = document.getElementById('shabbat-havdalah-date').textContent || '';
  var city = document.getElementById('shabbat-city').textContent || '';
  var text = '🕯️ Horaires de Chabbat\n';
  if (city) text += city + '\n';
  if (parasha) text += 'Paracha : ' + parasha + '\n';
  text += '\n🕯️ Allumage : ' + candles + ' (' + candleDate + ')';
  text += '\n🌙 Havdalah : ' + havdalah + ' (' + havdalahDate + ')';
  text += '\n\nChabbat Chalom ! ✨';
  appShare('Horaires de Chabbat', text);
}

var _shabbatLocSearchTimer = null;
function toggleShabbatLocSearch() {
  var box = document.getElementById('shabbat-loc-search');
  if (!box) return;
  var isVisible = box.style.display !== 'none';
  box.style.display = isVisible ? 'none' : '';
  if (!isVisible) {
    var inp = document.getElementById('shabbat-loc-input');
    inp.value = '';
    document.getElementById('shabbat-loc-results').innerHTML = '';
    setTimeout(function() { inp.focus(); }, 100);
    inp.oninput = function() {
      clearTimeout(_shabbatLocSearchTimer);
      var q = inp.value.trim();
      if (q.length < 2) { document.getElementById('shabbat-loc-results').innerHTML = ''; return; }
      _shabbatLocSearchTimer = setTimeout(function() { _searchShabbatLoc(q); }, 400);
    };
  }
}

function _searchShabbatLoc(query) {
  var url = 'https://nominatim.openstreetmap.org/search?format=json&q=' + encodeURIComponent(query) + '&limit=5&accept-language=fr';
  fetch(url).then(function(r) { return r.json(); }).then(function(results) {
    var box = document.getElementById('shabbat-loc-results');
    if (!results || !results.length) { box.innerHTML = '<div class="loc-item" style="color:#999;">Aucun résultat</div>'; return; }
    box.innerHTML = '';
    results.forEach(function(r) {
      var name = r.display_name.split(',').slice(0, 3).join(', ');
      var div = document.createElement('div');
      div.className = 'loc-item';
      div.textContent = name;
      div.onclick = function() { _selectShabbatLoc(r.lat, r.lon, r.display_name); };
      box.appendChild(div);
    });
  }).catch(function() {});
}

function _selectShabbatLoc(lat, lon, displayName) {
  document.getElementById('shabbat-loc-search').style.display = 'none';
  var cacheKey = 'tehilim_shabbat_v2_' + new Date().toISOString().slice(0, 10) + '_custom';
  try { localStorage.removeItem(cacheKey); } catch(e) {}
  var cityParts = displayName.split(',');
  var cityName = cityParts[0].trim();
  _fetchShabbatTimes(parseFloat(lat), parseFloat(lon), null, cacheKey);
}

function shareHyy(e) {
  if (e) e.stopPropagation();
  var date = document.getElementById('hyy-date').textContent || '';
  var text = document.getElementById('hyy-text');
  var content = text ? (text.innerText || text.textContent || '').replace('Chargement…','').replace('Lire la suite ▾','').trim() : '';
  var msg = '📜 Hayom Yom' + (date ? ' — ' + date : '') + '\n\n' + content;
  appShare('Hayom Yom', msg);
}

function shareRambam(e) {
  if (e) e.stopPropagation();
  var date = document.getElementById('rambam-date').textContent || '';
  var text = document.getElementById('rambam-text');
  var content = text ? (text.innerText || text.textContent || '').replace('Chargement…','').replace('Lire la suite ▾','').trim() : '';
  var msg = '📚 Rambam' + (date ? ' — ' + date : '') + '\n\n' + content;
  appShare('Rambam', msg);
}

function shareObjectives(e) {
  if (e) e.stopPropagation();
  var state = getObjState();
  var total = ALL_OBJ_ITEMS.length;
  var done = Object.keys(state).length;
  var pct = total > 0 ? Math.round(done / total * 100) : 0;
  var msg = '🕎 Objectifs du jour\n\n✅ ' + done + '/' + total + ' accomplis (' + pct + '%)\n\nRejoignez-moi sur Chab\'app !';
  appShare('Objectifs du jour', msg);
}

function shareQuote() {
  var q = document.getElementById('home-quote');
  var s = document.getElementById('home-source');
  var text = (q ? q.textContent : '') + '\n' + (s ? s.textContent : '');
  appShare('Citation du jour', text.trim());
}

// ====== DONATION CAMPAIGN ======
var _donSelectedAmount = 0;

function selectDonAmount(amount, el) {
  _donSelectedAmount = amount;
  var btns = document.querySelectorAll('.don-amount-btn');
  btns.forEach(function(b) { b.classList.remove('selected'); });
  if (el) el.classList.add('selected');
}

function promptDonAmount(el) {
  var val = prompt('Entrez un montant (€) :');
  if (val && !isNaN(val) && Number(val) > 0) {
    _donSelectedAmount = Number(val);
    var btns = document.querySelectorAll('.don-amount-btn');
    btns.forEach(function(b) { b.classList.remove('selected'); });
    if (el) { el.classList.add('selected'); el.textContent = val + ' €'; }
  }
}

function submitDonation() {
  if (!_donSelectedAmount) {
    alert('Veuillez choisir un montant.');
    return;
  }
  alert('Merci pour votre générosité !\n\nMontant : ' + _donSelectedAmount + ' €\n\nLa fonctionnalité de paiement sera bientôt disponible.');
}

function syncEtudesPanel() {
  // Copy HYY content to études panel
  var srcDate = document.getElementById('hyy-date');
  var srcText = document.getElementById('hyy-text');
  var dstDate = document.getElementById('etudes-hyy-date');
  var dstText = document.getElementById('etudes-hyy-text');
  if (srcDate && dstDate) dstDate.textContent = srcDate.textContent;
  if (srcText && dstText) dstText.innerHTML = srcText.innerHTML;
  // Copy Rambam content to études panel
  var rSrcDate = document.getElementById('rambam-date');
  var rSrcText = document.getElementById('rambam-text');
  var rDstDate = document.getElementById('etudes-rambam-date');
  var rDstText = document.getElementById('etudes-rambam-text');
  if (rSrcDate && rDstDate) rDstDate.textContent = rSrcDate.textContent;
  if (rSrcText && rDstText) rDstText.innerHTML = rSrcText.innerHTML;
  // Copy Tanya content to études panel
  var tSrcDate = document.getElementById('tanya-date');
  var tSrcText = document.getElementById('tanya-text');
  var tDstDate = document.getElementById('etudes-tanya-date');
  var tDstText = document.getElementById('etudes-tanya-text');
  if (tSrcDate && tDstDate) tDstDate.textContent = tSrcDate.textContent;
  if (tSrcText && tDstText) tDstText.innerHTML = tSrcText.innerHTML;
  // Copy Houmash content to études panel
  var hSrcDate = document.getElementById('houmash-date');
  var hSrcText = document.getElementById('houmash-text');
  var hDstDate = document.getElementById('etudes-houmash-date');
  var hDstText = document.getElementById('etudes-houmash-text');
  if (hSrcDate && hDstDate) hDstDate.textContent = hSrcDate.textContent;
  if (hSrcText && hDstText) hDstText.innerHTML = hSrcText.innerHTML;
}

function loadHayomYom() {
  var d = new Date();
  var dateKey = d.getFullYear() + '-' + (d.getMonth()+1) + '-' + d.getDate();
  var cacheKey = 'tehilim_hyy8_' + dateKey;
  var heb = gregToHebrew(d.getFullYear(), d.getMonth()+1, d.getDate());
  var hyyKey = heb.mName.replace(' ', '_') + '_' + heb.hd;
  console.log('HYY: Hebrew date =', heb.mName, heb.hd, 'key=', hyyKey);

  // PRIORITY 1: fr.chabad.org (automatic French)
  _hyyLoadFrChabad(heb, dateKey, cacheKey, hyyKey);
}

// ====== FR.CHABAD.ORG AUTO-FETCH ======
var _corsProxies = [
  function(u) { return 'https://api.allorigins.win/raw?url=' + encodeURIComponent(u); },
  function(u) { return 'https://api.codetabs.com/v1/proxy?quest=' + encodeURIComponent(u); }
];

function _fetchViaCors(url, proxyIdx, onSuccess, onFail) {
  if (proxyIdx >= _corsProxies.length) { onFail(); return; }
  var proxyUrl = _corsProxies[proxyIdx](url);
  console.log('CORS proxy', proxyIdx, 'for:', url);
  var ctrl = null;
  try { ctrl = new AbortController(); setTimeout(function(){ ctrl.abort(); }, 10000); } catch(e) {}
  fetch(proxyUrl, ctrl ? { signal: ctrl.signal } : {})
    .then(function(r) { if (!r.ok) throw new Error('HTTP ' + r.status); return r.text(); })
    .then(function(html) { onSuccess(html); })
    .catch(function(err) {
      console.log('CORS proxy', proxyIdx, 'failed:', err.message);
      _fetchViaCors(url, proxyIdx + 1, onSuccess, onFail);
    });
}

function _extractChabadText(html) {
  try {
    var parser = new DOMParser();
    var doc = parser.parseFromString(html, 'text/html');
    // Try multiple selectors for chabad.org content
    var selectors = [
      '#TextContent', '#textContent', '.article-text',
      '.page-text-content', '#contentArea', '#pageTextArea',
      '.entry-content', 'article', '#article-body',
      '.article-body', '.article_body', '#article',
      '.parsha-content', '#ContentPlaceHolder_TextContent',
      '.content-inner'
    ];
    var contentEl = null;
    for (var i = 0; i < selectors.length; i++) {
      contentEl = doc.querySelector(selectors[i]);
      if (contentEl && contentEl.textContent.trim().length > 50) break;
      contentEl = null;
    }
    // Fallback: find largest text block in main area
    if (!contentEl) {
      var divs = doc.querySelectorAll('div, td');
      var best = null, bestLen = 0;
      for (var j = 0; j < divs.length; j++) {
        var txt = divs[j].textContent.trim();
        // Skip navigation/footer/header content
        if (txt.length > bestLen && txt.length > 100 && txt.length < 10000) {
          var tag = divs[j].tagName;
          var cls = (divs[j].className || '').toLowerCase();
          if (cls.indexOf('nav') === -1 && cls.indexOf('footer') === -1 && cls.indexOf('header') === -1 && cls.indexOf('menu') === -1) {
            best = divs[j]; bestLen = txt.length;
          }
        }
      }
      contentEl = best;
    }
    if (!contentEl) return null;
    // Get inner HTML and clean it
    var rawHtml = contentEl.innerHTML;
    // Remove scripts, styles, nav elements
    rawHtml = rawHtml.replace(new RegExp('<script[\\s\\S]*?<\\/script>', 'gi'), '');
    rawHtml = rawHtml.replace(new RegExp('<style[\\s\\S]*?<\\/style>', 'gi'), '');
    rawHtml = rawHtml.replace(new RegExp('<nav[\\s\\S]*?<\\/nav>', 'gi'), '');
    // Parse again to get clean text
    var tmp = document.createElement('div');
    tmp.innerHTML = rawHtml;
    var text = tmp.textContent || tmp.innerText || '';
    text = text.replace(/\s+/g, ' ').trim();
    // Must have enough French-looking content
    if (text.length < 30) return null;
    return text;
  } catch(e) {
    console.log('Parse error:', e.message);
    return null;
  }
}

function _hyyLoadFrChabad(heb, dateKey, cacheKey, hyyKey) {
  var d = new Date();
  var url = 'https://fr.chabad.org/dailystudy/hayomyom.asp?tdate=' + (d.getMonth()+1) + '/' + d.getDate() + '/' + d.getFullYear();
  console.log('HYY: Trying fr.chabad.org:', url);
  _fetchViaCors(url, 0, function(html) {
    var text = _extractChabadText(html);
    if (text && text.length > 30) {
      console.log('HYY: French text from fr.chabad.org! (' + text.length + ' chars)');
      var result = { fr: text, heDate: heb.mName + ' ' + heb.hd, fetched: dateKey, source: 'fr.chabad.org' };
      try { localStorage.setItem(cacheKey, JSON.stringify(result)); } catch(e) {}
      displayHyy(result);
    } else {
      console.log('HYY: fr.chabad.org - could not extract text, falling back to admin');
      _hyyLoadAdmin(heb, dateKey, cacheKey, hyyKey);
    }
  }, function() {
    console.log('HYY: fr.chabad.org unreachable, falling back to admin');
    _hyyLoadAdmin(heb, dateKey, cacheKey, hyyKey);
  });
}

function _hyyLoadAdmin(heb, dateKey, cacheKey, hyyKey) {
  // PRIORITY 2: Check hyy-data.json (admin panel)
  fetch('hyy-data.json?_=' + dateKey)
    .then(function(r) { if(!r.ok) throw new Error('HTTP '+r.status); return r.json(); })
    .then(function(data) {
      if (data.hayom_yom && data.hayom_yom[hyyKey]) {
        console.log('HYY: French text found in admin panel!');
        var result = { fr: data.hayom_yom[hyyKey], heDate: heb.mName + ' ' + heb.hd, fetched: dateKey };
        try { localStorage.setItem(cacheKey, JSON.stringify(result)); } catch(e) {}
        displayHyy(result);
        return;
      }
      // PRIORITY 3: Cache
      var cached = null;
      try { cached = JSON.parse(localStorage.getItem(cacheKey)); } catch(e) {}
      if (cached && cached.fr) { displayHyy(cached); return; }
      displayHyyFallback();
    })
    .catch(function(err) {
      console.log('HYY: admin failed:', err.message);
      var cached = null;
      try { cached = JSON.parse(localStorage.getItem(cacheKey)); } catch(e) {}
      if (cached && cached.fr) { displayHyy(cached); return; }
      displayHyyFallback();
    });
}

function displayHyy(data) {
  var el=document.getElementById('hyy-text');
  var dateEl=document.getElementById('hyy-date');
  var expEl=document.getElementById('hyy-expand');
  if(!el) return;
  var content='';
  if(data.fr) {
    content='<div style="font-size:15px;line-height:1.8;color:var(--gray-1);">'+data.fr.replace(/\n/g,'<br>')+'</div>';
  } else if(data.en) {
    content='<div style="font-size:14.5px;line-height:1.8;color:var(--gray-1);font-family:\'EB Garamond\',Georgia,serif;">'+data.en+'</div>';
  }
  if(data.he && !data.fr) content='<div style="direction:rtl;text-align:right;font-family:\'Noto Serif Hebrew\',serif;line-height:1.9;margin-bottom:10px;">'+data.he+'</div>'+content;
  if(content){
    el.innerHTML=content;
    expEl.style.display='block';
  } else { displayHyyFallback(); return; }
  if(dateEl) dateEl.textContent=data.heDate||'';
}

function displayHyyFallback() {
  var el=document.getElementById('hyy-text');
  var dateEl=document.getElementById('hyy-date');
  if(!el) return;
  var d=new Date();
  var heb=gregToHebrew(d.getFullYear(),d.getMonth()+1,d.getDate());
  if(dateEl) dateEl.textContent=heb.mName+' '+heb.hd;
  el.innerHTML='<span style="color:var(--gray-3);font-style:italic;font-size:13px;">Le texte du Hayom Yom sera bientôt disponible</span>';
}


// ====== RAMBAM (Sefaria Calendar API) ======
var _rambamExpanded = false;
function openRambam(e) {
  var txt = document.getElementById('rambam-text');
  var exp = document.getElementById('rambam-expand');
  if (!txt || txt.querySelector('.hyy-loading')) return;
  _rambamExpanded = !_rambamExpanded;
  if (_rambamExpanded) {
    txt.classList.add('expanded');
    exp.textContent = 'R\u00e9duire \u25b4';
  } else {
    txt.classList.remove('expanded');
    exp.textContent = 'Lire la suite \u25be';
  }
}

function loadRambam() {
  var d = new Date();
  var dateKey = d.getFullYear() + '-' + (d.getMonth()+1) + '-' + d.getDate();
  var cacheKey = 'tehilim_rambam3_' + dateKey;

  // PRIORITY 1: fr.chabad.org (automatic French)
  _rambamLoadFrChabad(dateKey, cacheKey);
}

function _rambamLoadFrChabad(dateKey, cacheKey) {
  var d = new Date();
  var url = 'https://fr.chabad.org/dailystudy/rambam.asp?rambamChapters=1&tdate=' + (d.getMonth()+1) + '/' + d.getDate() + '/' + d.getFullYear();
  console.log('Rambam: Trying fr.chabad.org:', url);
  _fetchViaCors(url, 0, function(html) {
    var text = _extractChabadText(html);
    if (text && text.length > 30) {
      console.log('Rambam: French text from fr.chabad.org! (' + text.length + ' chars)');
      var titleMatch = html.match(/<title[^>]*>([^<]+)<\/title>/i);
      var title = titleMatch ? titleMatch[1].replace(/\s*-\s*fr\.chabad\.org.*/i, '').trim() : '';
      var result = { fr: text, title: title, fetched: dateKey, source: 'fr.chabad.org' };
      try { localStorage.setItem(cacheKey, JSON.stringify(result)); } catch(e) {}
      displayRambam(result);
    } else {
      console.log('Rambam: fr.chabad.org - could not extract text, falling back to admin');
      _rambamLoadAdmin(dateKey, cacheKey);
    }
  }, function() {
    console.log('Rambam: fr.chabad.org unreachable, falling back to admin');
    _rambamLoadAdmin(dateKey, cacheKey);
  });
}

function _rambamLoadAdmin(dateKey, cacheKey) {
  // PRIORITY 2: Check hyy-data.json (admin panel)
  fetch('hyy-data.json?_=' + dateKey)
    .then(function(r) { if(!r.ok) throw new Error('HTTP '+r.status); return r.json(); })
    .then(function(data) {
      if (data.rambam && data.rambam[dateKey]) {
        var entry = data.rambam[dateKey];
        var result = { fr: entry.text || entry, title: entry.title || '', fetched: dateKey };
        console.log('Rambam: French text found in admin panel!');
        try { localStorage.setItem(cacheKey, JSON.stringify(result)); } catch(e) {}
        displayRambam(result);
        return;
      }
      // PRIORITY 3: Cache
      var cached = null;
      try { cached = JSON.parse(localStorage.getItem(cacheKey)); } catch(e) {}
      if (cached && cached.fr) { displayRambam(cached); return; }
      displayRambamFallback();
    })
    .catch(function(err) {
      console.log('Rambam: admin failed:', err.message);
      var cached = null;
      try { cached = JSON.parse(localStorage.getItem(cacheKey)); } catch(e) {}
      if (cached && cached.fr) { displayRambam(cached); return; }
      displayRambamFallback();
    });
}

function displayRambam(data) {
  var el = document.getElementById('rambam-text');
  var dateEl = document.getElementById('rambam-date');
  var expEl = document.getElementById('rambam-expand');
  if (!el) return;
  var content = '';
  if (data.title && dateEl) dateEl.textContent = data.title;
  if (data.fr) {
    content = '<div style="font-size:15px;line-height:1.8;color:var(--gray-1);">' + data.fr.replace(/\n/g,'<br>') + '</div>';
  } else {
    if (data.he) content += '<div style="direction:rtl;text-align:right;font-family:\'Noto Serif Hebrew\',serif;line-height:1.9;margin-bottom:10px;">' + data.he + '</div>';
    if (data.en) content += '<div style="color:var(--gray-2);font-size:14px;line-height:1.7;">' + data.en + '</div>';
  }
  if (content) {
    el.innerHTML = content;
    expEl.style.display = 'block';
  } else {
    displayRambamFallback();
  }
}

function displayRambamFallback() {
  var el = document.getElementById('rambam-text');
  var dateEl = document.getElementById('rambam-date');
  if (!el) return;
  var d = new Date();
  var heb = gregToHebrew(d.getFullYear(), d.getMonth()+1, d.getDate());
  if (dateEl) dateEl.textContent = heb.mName + ' ' + heb.hd;
  el.innerHTML = '<span style="color:var(--gray-3);font-style:italic;font-size:13px;">Le texte du Rambam sera bientôt disponible</span>';
}

// ====== TANYA (fr.chabad.org) ======
function loadTanya() {
  var d = new Date();
  var dateKey = d.getFullYear() + '-' + (d.getMonth()+1) + '-' + d.getDate();
  var cacheKey = 'tehilim_tanya_' + dateKey;

  // Check cache
  try {
    var cached = JSON.parse(localStorage.getItem(cacheKey));
    if (cached && cached.fr) { displayTanya(cached); return; }
  } catch(e) {}

  var url = 'https://fr.chabad.org/dailystudy/tanya.asp?tdate=' + (d.getMonth()+1) + '/' + d.getDate() + '/' + d.getFullYear();
  console.log('Tanya: Trying fr.chabad.org:', url);
  _fetchViaCors(url, 0, function(html) {
    var text = _extractChabadText(html);
    if (text && text.length > 30) {
      console.log('Tanya: French text from fr.chabad.org! (' + text.length + ' chars)');
      var titleMatch = html.match(/<title[^>]*>([^<]+)<\/title>/i);
      var title = titleMatch ? titleMatch[1].replace(/\s*-\s*fr\.chabad\.org.*/i, '').trim() : '';
      var result = { fr: text, title: title, fetched: dateKey, source: 'fr.chabad.org' };
      try { localStorage.setItem(cacheKey, JSON.stringify(result)); } catch(e) {}
      displayTanya(result);
    } else {
      console.log('Tanya: fr.chabad.org - could not extract text');
      displayTanyaFallback();
    }
  }, function() {
    console.log('Tanya: fr.chabad.org unreachable');
    displayTanyaFallback();
  });
}

function displayTanya(data) {
  var el = document.getElementById('tanya-text');
  var dateEl = document.getElementById('tanya-date');
  var expEl = document.getElementById('tanya-expand');
  if (!el) return;
  if (data.title && dateEl) dateEl.textContent = data.title;
  var content = '';
  if (data.fr) {
    content = '<div style="font-size:15px;line-height:1.8;color:var(--gray-1);">' + data.fr.replace(/\n/g,'<br>') + '</div>';
  }
  if (content) {
    el.innerHTML = content;
    if (expEl) expEl.style.display = 'block';
  } else {
    displayTanyaFallback();
  }
}

function displayTanyaFallback() {
  var el = document.getElementById('tanya-text');
  var dateEl = document.getElementById('tanya-date');
  if (!el) return;
  var d = new Date();
  var heb = gregToHebrew(d.getFullYear(), d.getMonth()+1, d.getDate());
  if (dateEl) dateEl.textContent = heb.mName + ' ' + heb.hd;
  el.innerHTML = '<span style="color:var(--gray-3);font-style:italic;font-size:13px;">Le texte du Tanya sera bientôt disponible</span>';
}

var _tanyaExpanded = false;
function openTanya(e) {
  var txt = document.getElementById('tanya-text');
  var exp = document.getElementById('tanya-expand');
  if (!txt || txt.querySelector('.hyy-loading')) return;
  _tanyaExpanded = !_tanyaExpanded;
  if (_tanyaExpanded) {
    txt.classList.add('expanded');
    exp.textContent = 'Réduire ▴';
  } else {
    txt.classList.remove('expanded');
    exp.textContent = 'Lire la suite â–¾';
  }
}

function shareTanya(e) {
  if (e) e.stopPropagation();
  var date = document.getElementById('tanya-date').textContent || '';
  var text = document.getElementById('tanya-text');
  var content = text ? (text.innerText || text.textContent || '').replace('Chargement…','').replace('Lire la suite ▾','').trim() : '';
  var msg = '📖 Tanya' + (date ? ' — ' + date : '') + '\n\n' + content;
  appShare('Tanya', msg);
}

// ====== 'HOUMASH (fr.chabad.org) ======
function loadHoumash() {
  var d = new Date();
  var dateKey = d.getFullYear() + '-' + (d.getMonth()+1) + '-' + d.getDate();
  var cacheKey = 'tehilim_houmash_' + dateKey;

  // Check cache
  try {
    var cached = JSON.parse(localStorage.getItem(cacheKey));
    if (cached && cached.fr) { displayHoumash(cached); return; }
  } catch(e) {}

  var url = 'https://fr.chabad.org/dailystudy/torahreading.asp?tdate=' + (d.getMonth()+1) + '/' + d.getDate() + '/' + d.getFullYear();
  console.log('Houmash: Trying fr.chabad.org:', url);
  _fetchViaCors(url, 0, function(html) {
    var text = _extractChabadText(html);
    if (text && text.length > 30) {
      console.log('Houmash: French text from fr.chabad.org! (' + text.length + ' chars)');
      var titleMatch = html.match(/<title[^>]*>([^<]+)<\/title>/i);
      var title = titleMatch ? titleMatch[1].replace(/\s*-\s*fr\.chabad\.org.*/i, '').trim() : '';
      var result = { fr: text, title: title, fetched: dateKey, source: 'fr.chabad.org' };
      try { localStorage.setItem(cacheKey, JSON.stringify(result)); } catch(e) {}
      displayHoumash(result);
    } else {
      console.log('Houmash: fr.chabad.org - could not extract text');
      displayHoumashFallback();
    }
  }, function() {
    console.log('Houmash: fr.chabad.org unreachable');
    displayHoumashFallback();
  });
}

function displayHoumash(data) {
  var el = document.getElementById('houmash-text');
  var dateEl = document.getElementById('houmash-date');
  var expEl = document.getElementById('houmash-expand');
  if (!el) return;
  if (data.title && dateEl) dateEl.textContent = data.title;
  var content = '';
  if (data.fr) {
    content = '<div style="font-size:15px;line-height:1.8;color:var(--gray-1);">' + data.fr.replace(/\n/g,'<br>') + '</div>';
  }
  if (content) {
    el.innerHTML = content;
    if (expEl) expEl.style.display = 'block';
  } else {
    displayHoumashFallback();
  }
}

function displayHoumashFallback() {
  var el = document.getElementById('houmash-text');
  var dateEl = document.getElementById('houmash-date');
  if (!el) return;
  var d = new Date();
  var heb = gregToHebrew(d.getFullYear(), d.getMonth()+1, d.getDate());
  if (dateEl) dateEl.textContent = heb.mName + ' ' + heb.hd;
  el.innerHTML = '<span style="color:var(--gray-3);font-style:italic;font-size:13px;">Le texte du \'Houmach sera bientôt disponible</span>';
}

var _houmashExpanded = false;
function openHoumash(e) {
  var txt = document.getElementById('houmash-text');
  var exp = document.getElementById('houmash-expand');
  if (!txt || txt.querySelector('.hyy-loading')) return;
  _houmashExpanded = !_houmashExpanded;
  if (_houmashExpanded) {
    txt.classList.add('expanded');
    exp.textContent = 'Réduire ▴';
  } else {
    txt.classList.remove('expanded');
    exp.textContent = 'Lire la suite â–¾';
  }
}

function shareHoumash(e) {
  if (e) e.stopPropagation();
  var date = document.getElementById('houmash-date').textContent || '';
  var text = document.getElementById('houmash-text');
  var content = text ? (text.innerText || text.textContent || '').replace('Chargement…','').replace('Lire la suite ▾','').trim() : '';
  var msg = "📖 'Houmach" + (date ? ' — ' + date : '') + '\n\n' + content;
  appShare("'Houmach", msg);
}


// ====== BETH CHABAD (Leaflet + Overpass API) ======
var _bethMap = null;
var _bethMarkers = [];

function openBethChabad() {
  switchTab('sub-beth');
  setTimeout(loadBethMap, 200);
}

function loadBethMap() {
  var loading = document.getElementById('beth-map-loading');
  var info = document.getElementById('beth-location-info');
  if (loading) loading.style.display = 'flex';
  if (info) info.textContent = 'Localisation en cours\u2026';

  if (!navigator.geolocation) {
    if (info) info.textContent = 'G\u00e9olocalisation non disponible';
    showBethMap(48.8566, 2.3522);
    return;
  }
  navigator.geolocation.getCurrentPosition(
    function(pos) { showBethMap(pos.coords.latitude, pos.coords.longitude); },
    function(err) {
      console.log('Geo error:', err);
      if (info) info.textContent = 'Position par d\u00e9faut (Paris)';
      showBethMap(48.8566, 2.3522);
    },
    { enableHighAccuracy: true, timeout: 10000, maximumAge: 300000 }
  );
}

function showBethMap(lat, lng) {
  var loading = document.getElementById('beth-map-loading');
  var info = document.getElementById('beth-location-info');
  if (loading) loading.style.display = 'none';

  if (!_bethMap) {
    _bethMap = L.map('beth-map').setView([lat, lng], 13);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '\u00a9 OpenStreetMap'
    }).addTo(_bethMap);
    setTimeout(function(){ _bethMap.invalidateSize(); }, 300);
  } else {
    _bethMap.setView([lat, lng], 13);
    _bethMap.invalidateSize();
  }

  L.marker([lat, lng], {
    icon: L.divIcon({ className:'', html:'<div style="background:#e53e3e;width:14px;height:14px;border-radius:50%;border:3px solid white;box-shadow:0 1px 4px rgba(0,0,0,0.3);"></div>', iconSize:[20,20], iconAnchor:[10,10] })
  }).addTo(_bethMap).bindPopup('<b>Vous \u00eates ici</b>');

  if (info) info.textContent = 'Recherche des Beth Chabad\u2026';

  var radius = 50000;
  var query = '[out:json][timeout:15];(' +
    'node["name"~"[Cc]habad|[Hh]abad|[Ll]oubavitch|[Ll]ubavitch"](around:' + radius + ',' + lat + ',' + lng + ');' +
    'way["name"~"[Cc]habad|[Hh]abad|[Ll]oubavitch|[Ll]ubavitch"](around:' + radius + ',' + lat + ',' + lng + ');' +
    'node["denomination"="chabad_lubavitch"](around:' + radius + ',' + lat + ',' + lng + ');' +
    'way["denomination"="chabad_lubavitch"](around:' + radius + ',' + lat + ',' + lng + ');' +
    ');out center body;';

  fetch('https://overpass-api.de/api/interpreter?data=' + encodeURIComponent(query))
    .then(function(r) { return r.json(); })
    .then(function(data) { displayBethResults(data.elements || [], lat, lng); })
    .catch(function(err) {
      console.log('Overpass error:', err);
      if (info) info.textContent = 'Erreur de connexion. Essayez de r\u00e9actualiser.';
    });
}

function displayBethResults(elements, userLat, userLng) {
  var info = document.getElementById('beth-location-info');
  var results = document.getElementById('beth-results');
  _bethMarkers.forEach(function(m) { _bethMap.removeLayer(m); });
  _bethMarkers = [];

  var seen = {};
  var places = [];
  elements.forEach(function(el) {
    var lat = el.lat || (el.center && el.center.lat);
    var lng = el.lon || (el.center && el.center.lon);
    if (!lat || !lng) return;
    var name = (el.tags && el.tags.name) || 'Beth Chabad';
    var key = Math.round(lat*1000) + ',' + Math.round(lng*1000);
    if (seen[key]) return;
    seen[key] = true;
    var dist = haversine(userLat, userLng, lat, lng);
    places.push({ name:name, lat:lat, lng:lng, dist:dist, addr:(el.tags&&el.tags['addr:street'])||'', phone:(el.tags&&el.tags.phone)||'', website:(el.tags&&el.tags.website)||'' });
  });
  places.sort(function(a,b) { return a.dist - b.dist; });

  if (info) info.textContent = places.length + ' Beth Chabad trouv\u00e9' + (places.length > 1 ? 's' : '') + ' dans un rayon de 50km';

  var chabadIcon = L.divIcon({ className:'', html:'<div style="font-size:22px;">\ud83d\udd4d</div>', iconSize:[28,28], iconAnchor:[14,14] });
  places.forEach(function(p) {
    var m = L.marker([p.lat, p.lng], { icon: chabadIcon }).addTo(_bethMap);
    var popup = '<b>' + p.name + '</b>';
    if (p.addr) popup += '<br>' + p.addr;
    if (p.dist) popup += '<br><small>' + p.dist.toFixed(1) + ' km</small>';
    if (p.phone) popup += '<br><a href="tel:' + p.phone + '">' + p.phone + '</a>';
    if (p.website) popup += '<br><a href="' + p.website + '" target="_blank">Site web \u2197</a>';
    m.bindPopup(popup);
    _bethMarkers.push(m);
  });

  if (places.length > 0) {
    var group = L.featureGroup(_bethMarkers);
    _bethMap.fitBounds(group.getBounds().pad(0.15));
  }

  if (results && places.length > 0) {
    var html = '';
    places.slice(0, 8).forEach(function(p) {
      html += '<div style="background:var(--white);border:1px solid var(--gray-5);border-radius:var(--radius);padding:12px;margin-bottom:8px;cursor:pointer;" onclick="_bethMap.setView([' + p.lat + ',' + p.lng + '],15)">';
      html += '<div style="font-size:14px;font-weight:700;color:var(--black);">' + p.name + '</div>';
      if (p.addr) html += '<div style="font-size:12px;color:var(--gray-3);">' + p.addr + '</div>';
      html += '<div style="font-size:11px;color:var(--gray-3);margin-top:2px;">' + p.dist.toFixed(1) + ' km</div>';
      html += '</div>';
    });
    results.innerHTML = html;
  } else if (results) {
    results.innerHTML = '<div style="text-align:center;padding:12px;color:var(--gray-3);font-size:13px;">Aucun Beth Chabad trouv\u00e9 dans un rayon de 50km. Essayez d\u2019actualiser votre position.</div>';
  }
}

function haversine(lat1,lon1,lat2,lon2) {
  var R = 6371;
  var d2r = Math.PI/180;
  var dLat = (lat2-lat1)*d2r;
  var dLon = (lon2-lon1)*d2r;
  var a = Math.sin(dLat/2)*Math.sin(dLat/2) + Math.cos(lat1*d2r)*Math.cos(lat2*d2r)*Math.sin(dLon/2)*Math.sin(dLon/2);
  return R * 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
}

function refreshBethMap() {
  if (_bethMap) { _bethMap.remove(); _bethMap = null; }
  _bethMarkers = [];
  var r = document.getElementById('beth-results');
  if (r) r.innerHTML = '';
  loadBethMap();
}


// ====== SIDOUR / PATAKH ELIYAHOU ======
var PATAKH_PRAYERS = {
  shaharit: {
    title: "Cha\'harit (Pri\u00e8re du matin)",
    sections: [
      { name: "Mod\u00e9 Ani", he: "\u05de\u05d5\u05b9\u05d3\u05b6\u05d4 \u05d0\u05b2\u05e0\u05b4\u05d9 \u05dc\u05b0\u05e4\u05b8\u05e0\u05b6\u05d9\u05da\u05b8 \u05de\u05b6\u05dc\u05b6\u05da\u05b0 \u05d7\u05b7\u05d9 \u05d5\u05b0\u05e7\u05b7\u05d9\u05b8\u05bc\u05dd, \u05e9\u05b6\u05c1\u05d4\u05b6\u05d7\u05b1\u05d6\u05b7\u05e8\u05b0\u05ea\u05b8\u05bc \u05d1\u05b4\u05bc\u05d9 \u05e0\u05b4\u05e9\u05b0\u05c1\u05de\u05b8\u05ea\u05b4\u05d9 \u05d1\u05b0\u05bc\u05d7\u05b6\u05de\u05b0\u05dc\u05b8\u05d4, \u05e8\u05b7\u05d1\u05b8\u05bc\u05d4 \u05d0\u05b1\u05de\u05d5\u05e0\u05b8\u05ea\u05b6\u05da\u05b8.", ph: "Mod\u00e9 ani l\u00e9fan\u00e9kha, m\u00e9lekh \u2018ha\u00ef v\u00e9kayam, ch\u00e9h\u00e9\u2018h\u00e9zarta bi nichmati b\u00e9\u2018h\u00e9mla, raba \u00e9mounat\u00e9kha." },
      { name: "N\u00e9tilat Yada\u00efm", he: "\u05d1\u05b8\u05bc\u05e8\u05d5\u05bc\u05da\u05b0 \u05d0\u05b7\u05ea\u05b8\u05bc\u05d4 \u05d9\u05b0\u05d9\u05b8 \u05d0\u05b1\u05dc\u05b9\u05d4\u05b5\u05d9\u05e0\u05d5\u05bc \u05de\u05b6\u05dc\u05b6\u05da\u05b0 \u05d4\u05b8\u05e2\u05d5\u05b9\u05dc\u05b8\u05dd, \u05d0\u05b2\u05e9\u05b6\u05c1\u05e8 \u05e7\u05b4\u05d3\u05b0\u05bc\u05e9\u05b8\u05c1\u05e0\u05d5\u05bc \u05d1\u05b0\u05bc\u05de\u05b4\u05e6\u05b0\u05d5\u05b9\u05ea\u05b8\u05d9\u05d5, \u05d5\u05b0\u05e6\u05b4\u05d5\u05b8\u05bc\u05e0\u05d5\u05bc \u05e2\u05b7\u05dc \u05e0\u05b0\u05d8\u05b4\u05d9\u05dc\u05b7\u05ea \u05d9\u05b8\u05d3\u05b8\u05d9\u05b4\u05dd.", ph: "Baroukh ata Ado-na\u00ef Elo-h\u00e9nou m\u00e9lekh ha\u2018olam, ach\u00e9r kid\u00e9chanou b\u00e9mitsvotav, v\u00e9tsivanou al n\u00e9tilat yada\u00efm." },
      { name: "\u00c9lo-ha\u00ef N\u00e9chama", he: "\u05d0\u05b1\u05dc\u05b9\u05d4\u05b7\u05d9, \u05e0\u05b0\u05e9\u05b8\u05c1\u05de\u05b8\u05d4 \u05e9\u05b6\u05c1\u05e0\u05b8\u05bc\u05ea\u05b7\u05ea\u05b8\u05bc \u05d1\u05b4\u05bc\u05d9 \u05d8\u05b0\u05d4\u05d5\u05b9\u05e8\u05b8\u05d4 \u05d4\u05b4\u05d9\u05d0. \u05d0\u05b7\u05ea\u05b8\u05bc\u05d4 \u05d1\u05b0\u05e8\u05b8\u05d0\u05ea\u05b8\u05bc\u05d4\u05bc, \u05d0\u05b7\u05ea\u05b8\u05bc\u05d4 \u05d9\u05b0\u05e6\u05b7\u05e8\u05b0\u05ea\u05b8\u05bc\u05d4\u05bc, \u05d0\u05b7\u05ea\u05b8\u05bc\u05d4 \u05e0\u05b0\u05e4\u05b7\u05d7\u05b0\u05ea\u05b8\u05bc\u05d4\u05bc \u05d1\u05b4\u05bc\u05d9.", ph: "\u00c9lo-ha\u00ef, n\u00e9chama ch\u00e9natata bi t\u00e9hora hi. Ata b\u00e9rata, ata y\u00e9tsarta, ata n\u00e9fa\u2018htah bi." },
      { name: "Birkhot HaTorah", he: "\u05d1\u05b8\u05bc\u05e8\u05d5\u05bc\u05da\u05b0 \u05d0\u05b7\u05ea\u05b8\u05bc\u05d4 \u05d9\u05b0\u05d9\u05b8 \u05d0\u05b1\u05dc\u05b9\u05d4\u05b5\u05d9\u05e0\u05d5\u05bc \u05de\u05b6\u05dc\u05b6\u05da\u05b0 \u05d4\u05b8\u05e2\u05d5\u05b9\u05dc\u05b8\u05dd, \u05d0\u05b2\u05e9\u05b6\u05c1\u05e8 \u05e7\u05b4\u05d3\u05b0\u05bc\u05e9\u05b8\u05c1\u05e0\u05d5\u05bc \u05d1\u05b0\u05bc\u05de\u05b4\u05e6\u05b0\u05d5\u05b9\u05ea\u05b8\u05d9\u05d5, \u05d5\u05b0\u05e6\u05b4\u05d5\u05b8\u05bc\u05e0\u05d5\u05bc \u05dc\u05b7\u05e2\u05b2\u05e1\u05d5\u05b9\u05e7 \u05d1\u05b0\u05bc\u05d3\u05b4\u05d1\u05b0\u05e8\u05b5\u05d9 \u05ea\u05d5\u05b9\u05e8\u05b8\u05d4.", ph: "Baroukh ata Ado-na\u00ef Elo-h\u00e9nou m\u00e9lekh ha\u2018olam, ach\u00e9r kid\u00e9chanou b\u00e9mitsvotav, v\u00e9tsivanou la\u2018assok b\u00e9divr\u00e9 Tora." }
    ]
  },
  minha: {
    title: "Min\u2018ha (Pri\u00e8re de l\u2018apr\u00e8s-midi)",
    sections: [
      { name: "Achr\u00e9", he: "\u05d0\u05b7\u05e9\u05b0\u05c1\u05e8\u05b5\u05d9 \u05d9\u05d5\u05b9\u05e9\u05b0\u05c1\u05d1\u05b5\u05d9 \u05d1\u05b5\u05d9\u05ea\u05b6\u05da\u05b8, \u05e2\u05d5\u05b9\u05d3 \u05d9\u05b0\u05d4\u05b7\u05dc\u05b0\u05dc\u05d5\u05bc\u05da\u05b8 \u05e1\u05b6\u05bc\u05dc\u05b8\u05d4.", ph: "Achr\u00e9 yochv\u00e9 v\u00e9t\u00e9kha, \u2018od y\u00e9hal\u00e9loukha s\u00e9la." },
      { name: "Amida", he: "\u05d0\u05b2\u05d3\u05b9\u05e0\u05b8\u05d9 \u05e9\u05b0\u05c2\u05e4\u05b8\u05ea\u05b7\u05d9 \u05ea\u05b4\u05bc\u05e4\u05b0\u05ea\u05b8\u05bc\u05d7, \u05d5\u05bc\u05e4\u05b4\u05d9 \u05d9\u05b7\u05d2\u05b4\u05bc\u05d9\u05d3 \u05ea\u05b0\u05bc\u05d4\u05b4\u05dc\u05b8\u05bc\u05ea\u05b6\u05da\u05b8.", ph: "Ado-na\u00ef sfata\u00ef tifta\u2018h, oufi yaguid t\u00e9hilat\u00e9kha." }
    ]
  },
  arvit: {
    title: "Arvit (Pri\u00e8re du soir)",
    sections: [
      { name: "V\u00e9hou Ra\u2018houm", he: "\u05d5\u05b0\u05d4\u05d5\u05bc\u05d0 \u05e8\u05b7\u05d7\u05d5\u05bc\u05dd \u05d9\u05b0\u05db\u05b7\u05e4\u05b5\u05bc\u05e8 \u05e2\u05b8\u05d5\u05b9\u05df \u05d5\u05b0\u05dc\u05b9\u05d0 \u05d9\u05b7\u05e9\u05b0\u05c1\u05d7\u05b4\u05d9\u05ea, \u05d5\u05b0\u05d4\u05b4\u05e8\u05b0\u05d1\u05b8\u05bc\u05d4 \u05dc\u05b0\u05d4\u05b8\u05e9\u05b4\u05c1\u05d9\u05d1 \u05d0\u05b7\u05e4\u05bc\u05d5\u05b9, \u05d5\u05b0\u05dc\u05b9\u05d0 \u05d9\u05b8\u05e2\u05b4\u05d9\u05e8 \u05db\u05b8\u05bc\u05dc \u05d7\u05b2\u05de\u05b8\u05ea\u05d5\u05b9.", ph: "V\u00e9hou ra\u2018houm y\u00e9khap\u00e9r \u2018avon v\u00e9lo yach\u2018hit, v\u00e9hirba l\u00e9hachiv apo, v\u00e9lo ya\u2018ir kol \u2018hamato." },
      { name: "Ch\u00e9ma", he: "\u05e9\u05b0\u05c1\u05de\u05b7\u05e2 \u05d9\u05b4\u05e9\u05b0\u05c2\u05e8\u05b8\u05d0\u05b5\u05dc, \u05d9\u05b0\u05d9\u05b8 \u05d0\u05b1\u05dc\u05b9\u05d4\u05b5\u05d9\u05e0\u05d5\u05bc, \u05d9\u05b0\u05d9\u05b8 \u05d0\u05b6\u05d7\u05b8\u05d3.", ph: "Ch\u00e9ma Isra\u00ebl, Ado-na\u00ef \u00c9lo-h\u00e9nou, Ado-na\u00ef \u00c9\u2018had." }
    ]
  },
  shema: {
    title: "Ch\u00e9ma Isra\u00ebl",
    sections: [
      { name: "Ch\u00e9ma", he: "\u05e9\u05b0\u05c1\u05de\u05b7\u05e2 \u05d9\u05b4\u05e9\u05b0\u05c2\u05e8\u05b8\u05d0\u05b5\u05dc, \u05d9\u05b0\u05d9\u05b8 \u05d0\u05b1\u05dc\u05b9\u05d4\u05b5\u05d9\u05e0\u05d5\u05bc, \u05d9\u05b0\u05d9\u05b8 \u05d0\u05b6\u05d7\u05b8\u05d3.", ph: "Ch\u00e9ma Isra\u00ebl, Ado-na\u00ef \u00c9lo-h\u00e9nou, Ado-na\u00ef \u00c9\u2018had." },
      { name: "V\u00e9ahavta", he: "\u05d5\u05b0\u05d0\u05b8\u05d4\u05b7\u05d1\u05b0\u05ea\u05b8\u05bc \u05d0\u05b5\u05ea \u05d9\u05b0\u05d9\u05b8 \u05d0\u05b1\u05dc\u05b9\u05d4\u05b6\u05d9\u05da\u05b8, \u05d1\u05b0\u05bc\u05db\u05b8\u05dc \u05dc\u05b0\u05d1\u05b8\u05d1\u05b0\u05da\u05b8, \u05d5\u05bc\u05d1\u05b0\u05db\u05b8\u05dc \u05e0\u05b7\u05e4\u05b0\u05e9\u05b0\u05c1\u05da\u05b8, \u05d5\u05bc\u05d1\u05b0\u05db\u05b8\u05dc \u05de\u05b0\u05d0\u05b9\u05d3\u05b6\u05da\u05b8.", ph: "V\u00e9ahavta \u00e9t Ado-na\u00ef \u00c9lo-h\u00e9kha, b\u00e9khol l\u00e9vav\u00e9kha, ouv\u00e9khol nafch\u00e9kha, ouv\u00e9khol m\u00e9od\u00e9kha." }
    ]
  },
  birkat: {
    title: "Birkat Hamazon",
    sections: [
      { name: "Zimoun", he: "\u05e8\u05b7\u05d1\u05bc\u05d5\u05b9\u05ea\u05b7\u05d9 \u05e0\u05b0\u05d1\u05b8\u05e8\u05b5\u05da\u05b0. \u05d9\u05b0\u05d4\u05b4\u05d9 \u05e9\u05b5\u05c1\u05dd \u05d9\u05b0\u05d9\u05b8 \u05de\u05b0\u05d1\u05b9\u05e8\u05b8\u05da\u05b0 \u05de\u05b5\u05e2\u05b7\u05ea\u05b8\u05bc\u05d4 \u05d5\u05b0\u05e2\u05b7\u05d3 \u05e2\u05d5\u05b9\u05dc\u05b8\u05dd.", ph: "Rabota\u00ef n\u00e9var\u00e9\u2018kh. Y\u00e9hi ch\u00e9m Ado-na\u00ef m\u00e9vora\u2018kh m\u00e9\u2018ata v\u00e9\u2018ad \u2018olam." },
      { name: "Hazan", he: "\u05d1\u05b8\u05bc\u05e8\u05d5\u05bc\u05da\u05b0 \u05d0\u05b7\u05ea\u05b8\u05bc\u05d4 \u05d9\u05b0\u05d9\u05b8 \u05d0\u05b1\u05dc\u05b9\u05d4\u05b5\u05d9\u05e0\u05d5\u05bc \u05de\u05b6\u05dc\u05b6\u05da\u05b0 \u05d4\u05b8\u05e2\u05d5\u05b9\u05dc\u05b8\u05dd, \u05d4\u05b7\u05d6\u05b8\u05bc\u05df \u05d0\u05b6\u05ea \u05d4\u05b8\u05e2\u05d5\u05b9\u05dc\u05b8\u05dd \u05db\u05bb\u05bc\u05dc\u05bc\u05d5\u05b9 \u05d1\u05b0\u05bc\u05d8\u05d5\u05bc\u05d1\u05d5\u05b9.", ph: "Baroukh ata Ado-na\u00ef \u00c9lo-h\u00e9nou m\u00e9lekh ha\u2018olam, hazan \u00e9t ha\u2018olam koulo b\u00e9touvo." }
    ]
  }
};

function showPatakh(key) {
  var data = PATAKH_PRAYERS[key];
  if (!data) return;
  document.querySelectorAll('.patakh-tab').forEach(function(t) { t.classList.remove('active'); });
  event.target.classList.add('active');
  showPatakhDirect(key);
}

function showPatakhDirect(key) {
  var data = PATAKH_PRAYERS[key];
  if (!data) return;
  var el = document.getElementById('patakh-content');
  if (!el) return;
  var html = '<div style="font-size:15px;font-weight:700;color:var(--black);margin-bottom:16px;">' + data.title + '</div>';
  data.sections.forEach(function(s) {
    html += '<div style="font-size:12px;font-weight:700;color:var(--gray-3);letter-spacing:1px;text-transform:uppercase;margin-bottom:8px;">' + s.name + '</div>';
    html += '<div class="patakh-he">' + s.he + '</div>';
    html += '<div class="patakh-ph">' + s.ph + '</div>';
  });
  el.innerHTML = html;
  el.scrollTop = 0;
}

// ====== START ======
document.addEventListener("DOMContentLoaded", init);
</script>
</body>
</html>
